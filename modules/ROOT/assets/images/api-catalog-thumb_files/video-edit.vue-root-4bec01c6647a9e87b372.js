(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-edit.vue-root","ShareDialog.async"],{"+M1K":function(e,t,a){var i=a("ppGB");e.exports=function(e){var t=i(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},"+W3c":function(e,t,a){"use strict";var i=a("ZvEM");var s=a.n(i);var n=s.a},"+Zja":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("Transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[e.show?a("VyStatus",{key:e.status,attrs:{text:e.text,status:e.status}}):e._e()],1)],1)};var s=[];i._withStripped=true;var n=a("nbMm");var r={name:"VideoStatus",components:{VyStatus:n["L"]},props:{videoStatus:{type:String,default:""}},data:()=>({show:false,status:"",text:""}),watch:{videoStatus:{immediate:true,handler(e,t){if(e==="replacing"){this.show=true;this.status="processing";this.text="Replacing"}else if(e==="trimming"){this.show=true;this.status="processing";this.text="Trimming"}else if(e==="importing"){this.show=true;this.status="processing";this.text="Importing"}else if(e==="encoding"){this.show=true;this.status="processing";this.text="Processing"}else if((t==="trimming"||t==="replacing"||t==="encoding")&&e==="ready"){this.show=true;this.status="ready";this.text="Ready";this.statusTimeout=setTimeout((()=>{this.show=false;this.status="";this.text=""}),7e3)}}}},beforeDestroy(){if(this.statusTimeout){clearTimeout(this.statusTimeout)}}};var o=r;var l=a("pq12");var d=a("KHd+");var c=Object(d["a"])(o,i,s,false,null,"7174552f",null);if(false){var u}c.options.__file="app/assets/components/common/video-status.vue";var p=t["a"]=c.exports},"+eX4":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.isFinalizingConnection?a("div",{staticClass:"account-connect"},[e.displayPlatformBanner?a("div",{staticClass:"account-connect-blurb"},[a("div",{class:["social-platform-icon",e.socialPlatform]},[e._t("social-icon",[a("VyIcon",{attrs:{"aria-hidden":"true",type:"brands",name:e.getIconName(e.socialPlatform)}})])],2),e._v(" "),a("div",{staticClass:"description-container"},[a("div",{staticClass:"description-title"},[e._v("\n        "+e._s(e.getBrandName(e.socialPlatform))+"\n      ")]),e._v(" "),a("div",{staticClass:"description-body"},[e._v("\n        Share your Vidyard videos directly to "+e._s(e.getBrandName(e.socialPlatform))+"\n      ")])])]):e._e(),e._v(" "),e.connectError?a("VyAlert",{attrs:{type:"error",description:e.connectError}}):e._e(),e._v(" "),a("div",{staticClass:"not-connected"},[a("p",[e._v("You do not have an account set up yet!")]),e._v(" "),a("VyButton",{attrs:{type:"primary",loading:e.isConnecting},on:{click:e.connectStart}},[e._v("\n      Connect Account\n    ")])],1)],1):a("div",{staticClass:"account-connect-finalize"},[a("VySpinner",{attrs:{type:"circle",status:"success",indeterminate:"",diameter:50}}),e._v(" "),e._m(0)],1)};var s=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",[e._v("\n    Account successfully connected!\n    "),a("br"),e._v("\n    Redirectingâ€¦\n  ")])}];i._withStripped=true;var n=a("5s+n");var r=a("L2JU");var o=a("nbMm");const l={facebook:"Facebook",linkedin:"LinkedIn",youtube:"YouTube",twitter:"Twitter"};const d={facebook:"faFacebookF",linkedin:"faLinkedinIn",youtube:"faYoutube",twitter:"faTwitter"};const c=e=>l[e]||"Unknown Platform";const u=e=>d[e]||"faLink";var p=a("3bBZ");function h(e,t,a,i=800,s=400){return new Promise(((n,r)=>{let o;function l(e){const t=![...a,window.location.origin].includes(e.origin);const i=e.data.source==="vue-devtools-backend";const s=![window,o].includes(e.source);if((t||s)&&"production"!=="test"||i||typeof e.data!=="object"){return}const{status:d,message:c}=e.data||{};if(d==="success"){n(c)}else{r(new Error(c))}window.removeEventListener("message",l)}window.addEventListener("message",l);o=window.open(e,"".concat(c(t),", Setup"),"location=0,status=0,width=".concat(i,",height=").concat(s));const d=setInterval((()=>{if(o.closed){window.postMessage({status:"aborted",message:""},window.location.origin);clearInterval(d)}}),500)}))}var v={name:"AccountConnect",components:{VyAlert:o["d"],VyButton:o["j"],VyIcon:o["v"],VySpinner:o["K"]},props:{connectUrl:{type:String,default:null},popupHeight:{type:Number,default:400},popupWidth:{type:Number,default:800},socialPlatform:{type:String,required:true,validator:e=>["linkedin","facebook","youtube"].includes(e)},displayPlatformBanner:{type:Boolean,default:true}},data(){return{connectError:null,isConnecting:false,isFinalizingConnection:false,connectWithPopup:h,getBrandName:c,getIconName:u}},computed:{...Object(r["g"])("vidyard",["domains"]),allowedOrigins(){return[this.domains.socialPush,this.domains.secure]},defaultErrorMessage(){return"Sorry! We were unable to connect your ".concat(this.getBrandName(this.socialPlatform)," account. Please try again later.")}},mounted(){this.reset()},methods:{async connectStart(){this.reset();this.isConnecting=true;if(this.connectUrl){await this.connectAccount(this.connectUrl);return}this.$once("connect-url",(async(e,t)=>{if(e){return this.handleError(e)}await this.connectAccount(t)}));this.$emit("connecting")},async connectAccount(e){try{await this.connectWithPopup(e,this.socialPlatform,this.allowedOrigins,this.popupWidth,this.popupHeight);this.isFinalizingConnection=true;this.$emit("handle-heap-event",{eventName:"".concat(this.socialPlatform,".account-integrated")});this.$emit("connected")}catch(e){this.handleError(e)}this.isConnecting=false},handleError({message:e}){this.reset();if(e===""){return}this.connectError=e||this.defaultErrorMessage},reset(){this.connectError=null;this.isConnecting=false;this.isFinalizingConnection=false}}};var m=v;var f=a("Qx1s");var b=a("KHd+");var g=Object(b["a"])(m,i,s,false,null,"06cca8e6",null);if(false){var y}g.options.__file="app/assets/components/share-dialog/common/account-connect.vue";var _=t["a"]=g.exports},"+rx7":function(e,t,a){"use strict";t["a"]={createEventOverride:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/players/").concat(t,"/event_overrides"),data:{event_id:a}}),deleteEventOverride:(e,t,a)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/players/").concat(t,"/event_overrides"),data:{event_id:a}}),overriddenEventsByPlayer:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/overridden_events")})}},"/5lr":function(e,t,a){"use strict";var i=a("XxVr");var s=a.n(i);var n=s.a},"/CPO":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".share-and-embed-buttons[data-v-322318fe]{display:flex;justify-content:center;padding-top:16px}@media (min-width:768px){.share-and-embed-buttons[data-v-322318fe]{padding:32px 0 12px}}.share-and-embed-buttons .vy-tooltip[data-v-322318fe]{margin:0 8px 4px}@media (min-width:768px){.share-and-embed-buttons .vy-tooltip[data-v-322318fe]{margin:0 16px 4px}}.share-and-embed-buttons .vy-tooltip .vy-button[data-v-322318fe]{width:36px;height:36px;padding:0;border-radius:4px;border:0}.share-and-embed-buttons .vy-tooltip .vy-button.embed-button[data-v-322318fe]{background-color:#5e5cfa}.share-and-embed-buttons .vy-tooltip .vy-button.embed-button[data-v-322318fe]:hover{background-color:#414dd4}.share-and-embed-buttons .vy-tooltip .vy-button.gmail-share[data-v-322318fe]{background-color:#d54435}.share-and-embed-buttons .vy-tooltip .vy-button.gmail-share[data-v-322318fe]:hover{background-color:#b23225}.share-and-embed-buttons .vy-tooltip .vy-button.facebook-share[data-v-322318fe]{background-color:#375999}.share-and-embed-buttons .vy-tooltip .vy-button.facebook-share[data-v-322318fe]:hover{background-color:#2a4373}.share-and-embed-buttons .vy-tooltip .vy-button.linkedin-share[data-v-322318fe]{background-color:#007cb7}.share-and-embed-buttons .vy-tooltip .vy-button.linkedin-share[data-v-322318fe]:hover{background-color:#005984}.share-and-embed-buttons .vy-tooltip .vy-button.twitter-share[data-v-322318fe]{background-color:#00aeee}.share-and-embed-buttons .vy-tooltip .vy-button.twitter-share[data-v-322318fe]:hover{background-color:#0089bb}.share-and-embed-buttons .vy-tooltip .vy-button.youtube-share[data-v-322318fe]{background-color:#da2025}.share-and-embed-buttons .vy-tooltip .vy-button.youtube-share[data-v-322318fe]:hover{background-color:#ae191d}.share-and-embed-buttons .social-share-icon[data-v-322318fe]{color:#fff;font-size:16px}.share-and-embed-buttons .vy-button+.vy-button[data-v-322318fe]{margin-left:0}",""]);e.exports=s},"/ItQ":function(e,t,a){"use strict";var i=a("2PsU");var s=a.n(i);var n=s.a},"/XQW":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a.d(t,"b",(function(){return p}));var i=a("5s+n");var s=a("AOo/");var n=a("/Dqt");var r=a("Ei+z");var o=a("rDkq");var l=a("556C");var d={async index(e){try{const t=await o["a"].get("/api/v1/players/uuid=".concat(e,"/embed_restrictions"));return{success:true,data:t.data}}catch(e){return{success:false,message:Object(l["a"])(e)}}},async create(e,t){try{await o["a"].post("/api/v1/players/uuid=".concat(e,"/embed_restrictions"),t);return{success:true}}catch(e){return{success:false,message:Object(l["a"])(e)}}},async destroy(e,t){try{await o["a"].delete("/api/v1/players/uuid=".concat(e,"/embed_restrictions/").concat(t));return{success:true}}catch(e){return{success:false,message:Object(l["a"])(e)}}}};const c=Object(r["a"])("videoEditPage");const{namespacedModule:u,moduleHelpers:p}=Object(n["a"])("playerModule/embedRestrictions",{state:{embedRestrictions:[],embedRestrictionsLoading:true,videoDomains:{},videoLoading:{},failed:false},getters:{domainsFromSource:e=>t=>e.videoDomains[t],domainsSourceLoading:e=>t=>e.videoLoading[t]===undefined?true:e.videoLoading[t],anyDomainsSourcesLoading:e=>Object.values(e.videoLoading).some((e=>e))},mutations:{setFailed:(e,t)=>{e.failed=t},setEmbedRestrictions:(e,t)=>{e.embedRestrictions=t},setEmbedRestrictionsLoading:(e,t)=>{e.embedRestrictionsLoading=t},setVideoDomains:(e,{id:t,domains:a})=>{e.videoDomains={...e.videoDomains,[t]:a}},setVideoLoading:(e,{id:t,loading:a})=>{e.videoLoading={...e.videoLoading,[t]:a}}},actions:{...c.mapActions(["showStatus"]),async setup({dispatch:e,state:t,rootState:a}){await e("fetchEmbedRestrictions");if(a.playerModule.playerType==="playlist"&&t.embedRestrictions.length>0){e("loadEmbedRestrictionsSources")}},fetchEmbedRestrictions:async({commit:e,rootState:t})=>{e("setEmbedRestrictionsLoading",true);const a=await d.index(t.playerModule.uuid);if(a.success){e("setEmbedRestrictions",a.data.whitelisted_embed_domains)}else{e("setFailed",true)}e("setEmbedRestrictionsLoading",false)},loadEmbedRestrictionsSources({commit:e,state:t,rootState:a,rootGetters:i}){a.playerModule.playlistVideos.map((async a=>{if(t.failed){return}const n=a.video_id;e("setVideoLoading",{id:n,loading:true});const r=i["playerModule/videoFacadeUuid"](n);if(!r){s["a"].error("Cannot fetch embed restrictions: video facade uuid is undefined");e("setFailed",true);return}const o=await d.index(r);if(o.success){e("setVideoDomains",{id:n,domains:o.data.whitelisted_embed_domains});e("setVideoLoading",{id:n,loading:false})}else{e("setFailed",true)}}))},async addEmbedRestriction({dispatch:e,rootState:t},a){const i=await d.create(t.playerModule.uuid,{url:a});if(i.success){e("fetchEmbedRestrictions");e("showStatus",{success:true,message:"Added embed restriction: ".concat(a)})}else{return i.message}},async removeEmbedRestriction({dispatch:e,state:t,rootState:a},i){const s=t.embedRestrictions.find((e=>e.id===i));const n=await d.destroy(a.playerModule.uuid,i);if(n.success){e("fetchEmbedRestrictions");e("showStatus",{success:true,message:"Removed embed restriction: ".concat(s.url)})}else{e("showStatus",{success:false,message:"An error occurred while removing an embed restriction"})}}}})},"/cjo":function(e,t,a){"use strict";var i=a("6n2Y");var s=a.n(i);var n=s.a},"/ggy":function(e,t,a){e.exports=a.p+"youtube-logo-8115cae0752232d8b8f5cde1a9d24b23.svg"},"/huW":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{id:"linkedin-push-modal",size:"small",title:"LinkedIn","sr-description":"Share videos to LinkedIn","aria-live":"polite","data-testid":"linkedinDialog","back-button-aria-label":"back to "+e.dialogTitle,visible:e.visible,"back-button":e.backButtonEnabled},on:{"update:visible":function(t){return e.$emit("update:visible",t)},back:e.backToPreviousDialog}},[e.currentView!=="connect"?a("SharePreview",{attrs:{name:e.name,"share-link":"","thumbnail-url":e.thumbnailUrl}}):e._e(),e._v(" "),e.currentView==="loading"?a("div",{staticClass:"spinner-wrapper"},[a("VySpinner",{attrs:{type:"circle",status:"success",indeterminate:"",diameter:75}})],1):e.currentView==="options"?a("LinkedinPushOptions",{attrs:{"oauth-tokens":e.oauthTokens,"push-targets":e.pushTargets},on:{"select-push-video":e.handleSelectPushVideo,"select-share-link":e.handleSelectShareLink}}):e.currentView==="push"?a("LinkedinPush",{attrs:{"job-status":e.jobStatus,"preview-title":e.previewTitle,"push-targets":e.pushTargets,"thumbnail-url":e.thumbnailUrl,"video-id":e.videoId},on:{"update-visibility":function(t){return e.$emit("update:visible",t)}}}):e.currentView==="connect"?a("LinkedinConnect",{on:{connected:e.reloadAccountsAndPushTargets}}):e.currentView==="contact"?a("ContactAdmin",{attrs:{"social-platform-name":"LinkedIn"}}):e._e()],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("3bBZ");var o=a("E+oP");var l=a.n(o);var d=a("nbMm");var c=a("IHRM");var u=a("W8xq");var p=a("P56O");var h=a("GO2b");var v=a("rDkq");var m=a("pe3L");var f=a("MDNy");var b=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("AccountConnect",{ref:"accountConnect",attrs:{"social-platform":"linkedin","popup-height":600},on:{connecting:e.generateConnectUrl,connected:function(t){return e.$emit("connected")}}})};var g=[];b._withStripped=true;var y=a("+eX4");var _={name:"LinkedinConnect",components:{AccountConnect:y["a"]},computed:{...h["b"].mapState(["linkedin"])},methods:{async getSignedRequestId(){const{signedRequest:{headers:e,url:t}}=this.linkedin.connectAccount;return(await v["a"].post(t,{},{headers:e})).data.id},async generateConnectUrl(){let e;try{const e=await this.getSignedRequestId();const{redirectUrl:t}=this.linkedin.connectAccount;const a="".concat(t,"?signed_request_id=").concat(e);this.$refs.accountConnect.$emit("connect-url",undefined,a)}catch(t){e={status:"failed"};this.$refs.accountConnect.$emit("connect-url",e)}}}};var w=_;var x=a("KHd+");var S=Object(x["a"])(w,b,g,false,null,null,null);if(false){var k}S.options.__file="app/assets/components/share-dialog/linkedin-push/linkedin-connect.vue";var C=S.exports;var P=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("form",{attrs:{id:"linkedin-feed"}},[a("p",{attrs:{id:"linkedin-feed-menu-label"}},[e._v("\n      Sharing as\n    ")]),e._v(" "),a("div",{attrs:{id:"linkedin-feed-menu"}},[!e.publishing?a("VyMenuRadio",{attrs:{"labelled-by":"linkedin-feed-menu-label","max-height":"125px","aria-label":"Share as "+e.selectedAccount,"display-options":{above:false},"menu-items":e.pushTargetMenuItems},on:{select:e.setSelectedValue}}):a("p",[e._v("\n        "+e._s(e.selectedAccount)+"\n      ")])],1),e._v(" "),a("VyTextArea",{attrs:{id:"share-description","aria-label":"description of the video",label:"Description",disabled:e.publishing,"max-length":e.shareDescriptionMaxLength,placeholder:e.shareDescriptionPlaceholder},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),e._v(" "),a("VyButton",{attrs:{id:"publish-video-button",type:"primary",loading:e.publishing},on:{click:e.publishVideo}},[e._v("\n      Share\n    ")])],1)])};var T=[];P._withStripped=true;var V=a("4Brf");var A={name:"LinkedinPush",components:{VyButton:d["j"],VyMenuRadio:d["A"],VyTextArea:d["S"]},props:{pushTargets:{type:Object,required:true},jobStatus:{type:String,required:true},videoId:{type:Number,required:true},previewTitle:{type:String,required:false,default:""},thumbnailUrl:{type:String,required:false,default:""}},data(){return{description:"",jobId:null,publishing:false,pushTargetIndex:0}},computed:{...h["b"].mapState(["linkedin"]),...c["c"].mapGetters(["hasFeature"]),vyBrandedPlayerEnabled(){return this.hasFeature("vidyard_branded_player")},shareDescriptionPlaceholder(){return"Check out this video".concat(this.vyBrandedPlayerEnabled?" made with #Vidyard":"","!")},shareDescriptionSignature(){return this.vyBrandedPlayerEnabled?"\n\nMade with #Vidyard":""},shareDescriptionMaxLength(){return 1300-this.shareDescriptionSignature.length},pushTargetMenuItems(){return Object.entries(this.pushTargets).map((([e,t])=>t.map((t=>({text:t.entity_name,urn:t.urn,tokenId:e}))))).reduce(((e,t)=>[...e,...t]),[]).sort(((e,t)=>{const a=e.text.toUpperCase();const i=t.text.toUpperCase();if(a<i)return-1;if(a>i)return 1;return 0}))},selectedUrn(){return this.pushTargetMenuItems.length>0?this.pushTargetMenuItems[this.pushTargetIndex].urn:null},selectedAccount(){return this.pushTargetMenuItems.length>0?this.pushTargetMenuItems[this.pushTargetIndex].text:null},selectedToken(){return this.pushTargetMenuItems.length>0?this.pushTargetMenuItems[this.pushTargetIndex].tokenId:null}},methods:{setSelectedValue(e){this.pushTargetIndex=e},closeModal(){this.$emit("update-visibility",false);this.publishing=false},showToast(e,t=true){if(t){d["b"].show(new d["b"](e,{type:"success",icon:"check-circle"}));return}d["b"].show(new d["b"](e),{type:"error",icon:"exclamation-triangle"})},handlePushSuccess(){this.showToast("Your video will appear on LinkedIn shortly!");this.closeModal()},handlePushFail(){this.showToast("There was an error sending your video to LinkedIn. Please try again.",false);this.closeModal()},async publishVideo(){try{this.publishing=true;const e={oauth_token_id:parseInt(this.selectedToken,10),push_target:this.selectedUrn,video_id:parseInt(this.videoId,10),share_commentary:"".concat(this.description).concat(this.shareDescriptionSignature)};const{headers:t,url:a}=this.linkedin.pushJobs;const i=await v["a"].post(a,e,{headers:t});this.jobId=i.data.id;this.pollStatus()}catch(e){console.error(e);this.handlePushFail()}},checkStatus(){const e={headers:this.linkedin.pushJobs.headers};const t="".concat(this.linkedin.pushJobs.url,"/").concat(this.jobId,"/status");return v["a"].get(t,e)},async pollStatus(e=0,t=1e3){try{const a=await this.checkStatus();if(a.data.status==="COMPLETE"){return this.handlePushSuccess()}if(a.data.status==="FAILED_TO_PREPARE"||a.data.status==="FAILED_TO_PUBLISH"){return this.handlePushFail()}setTimeout((()=>this.pollStatus(e+1,t+(e<15?0:1e3))),t)}catch(e){this.$rollbar.error("Error polling LinkedIn push status",e);this.handlePushFail()}}}};var E=A;var I=a("Exsz");var D=Object(x["a"])(E,P,T,false,null,"731eef73",null);if(false){var O}D.options.__file="app/assets/components/share-dialog/linkedin-push/linkedin-push.vue";var L=D.exports;var B=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticClass:"linkedin-push-options push-options"},[i("ShareLinkOptionButton",{on:{click:e.chooseLinkedinShare}},[i("img",{attrs:{slot:"image",src:a("AnOx"),alt:"linkedin private message"},slot:"image"})]),e._v(" "),i("PushVideoOptionButton",{attrs:{"has-accounts":e.hasOauthTokens,"has-push-targets":e.hasPushTargets},on:{click:e.chooseLinkedinPush}},[i("img",{attrs:{slot:"image",src:a("AqYK"),alt:"linkedin feed"},slot:"image"})])],1)};var M=[];B._withStripped=true;var z=a("TYy9");var F=a.n(z);var U=a("H58f");var R=a("tjwj");var j={name:"LinkedinPushOptions",components:{PushVideoOptionButton:U["a"],ShareLinkOptionButton:R["a"]},props:{oauthTokens:{type:Array,default:()=>[]},pushTargets:{type:Object,default:()=>{}}},computed:{hasOauthTokens(){return this.oauthTokens.length>0},hasPushTargets(){return F()(Object.values(this.pushTargets)).length>0}},methods:{chooseLinkedinPush(){this.$emit("select-push-video")},chooseLinkedinShare(){this.$emit("select-share-link")}}};var q=j;var N=Object(x["a"])(q,B,M,false,null,null,null);if(false){var $}N.options.__file="app/assets/components/share-dialog/linkedin-push/linkedin-push-options.vue";var H=N.exports;var Y={name:"LinkedinDialog",components:{ContactAdmin:m["a"],LinkedinConnect:C,LinkedinPush:L,LinkedinPushOptions:H,SharePreview:f["a"],VyDialog:d["r"],VySpinner:d["K"]},props:{canEditIntegrations:{type:Boolean,required:true},visible:{type:Boolean,required:true},videoId:{type:Number,required:true},name:{type:String,required:true},playerType:{type:String,required:true},shareLink:{type:String,required:true},previewTitle:{type:String,required:false,default:""},thumbnailUrl:{type:String,required:false,default:""},backButtonEnabled:{type:Boolean,require:false,default:true},location:{type:String,required:false,default:""},playerUuid:{type:String,required:false,default:""}},data(){return{jobStatus:"",loading:true,oauthTokens:[],pushTargets:{},selectedOption:""}},computed:{...c["c"].mapGetters(["hasFeature"]),...u["b"].mapGetters(["hasPermission"]),...h["b"].mapState(["linkedin"]),...p["c"].mapState(["user"]),canPushToLinkedin(){return this.hasPermission("can_push_to_linkedin")&&this.playerType==="video_facade"},hasAccounts(){return this.oauthTokens.length>0},hasCompanyFeeds(){return!l()(this.pushTargets)},currentView(){if(this.loading)return"loading";if(this.selectedOption===""||!this.hasCompanyFeeds&&this.hasAccounts)return"options";if(this.hasAccounts)return"push";if(this.canEditIntegrations)return"connect";return"contact"},dialogTitle(){return["push","connect"].includes(this.selectedOption)?"dialog for linkedin push options":"share dialog"}},watch:{async visible(e){if(!e){setTimeout((()=>this.reset()),500)}else if(!this.canPushToLinkedin){this.openShareWindow();if(this.backButtonEnabled){this.backToPreviousDialog()}else{this.$emit("update:visible",false)}}else{this.reset();await this.reloadAccountsAndPushTargets()}}},updated(){this.$nextTick((()=>{if(this.backButtonEnabled){document.querySelector("button.vy-button.back-button").focus()}}))},methods:{...p["c"].mapActions(["sendHeapEvent"]),reset(){this.selectedOption=""},async getValidOauthTokens(e=false){if(this.oauthTokens&&!e){return this.oauthTokens}try{const{headers:e,url:t}=this.linkedin.accounts;const a=await v["a"].get(t,{headers:e});const i=a.data||[];this.oauthTokens=i.filter((e=>!e.invalidated_at));return this.oauthTokens}catch(e){console.error(e);this.$emit("update:visible",false);return[]}},async getPushTargets(e=false){if(this.hasCompanyFeeds&&!e){return this.pushTargets}try{const{headers:e,url:t}=this.linkedin.pushTargets;const a=await v["a"].get(t,{headers:e});this.pushTargets=a.data||{};return this.pushTargets}catch(e){console.error(e);this.$emit("update:visible",false);return{}}},async reloadAccountsAndPushTargets(){this.loading=true;try{await Promise.all([this.getValidOauthTokens(true),this.getPushTargets(true)])}catch(e){this.oauthTokens=[];this.pushTargets={}}this.loading=false},handleSelectPushVideo(){this.sendHeapEvent({eventName:"[linkedin] Share video in company feed option selected",customOptions:{userId:this.user.id,location:this.location,playerUuid:this.playerUuid}});this.selectedOption="push"},handleSelectShareLink(){this.openShareWindow();this.$emit("update:visible",false)},openShareWindow(){this.sendHeapEvent({eventName:"[linkedin] Share video as a link option selected",customOptions:{userId:this.user.id,location:this.location,playerUuid:this.playerUuid}});const e=encodeURIComponent(this.shareLink);const t=encodeURIComponent("Check out this video recorded with Vidyard");const a="Vidyard";window.open("https://www.linkedin.com/shareArticle?mini=true&url=".concat(e,"&title=&summary=").concat(t,"&source=").concat(a),"sharer","width=626, innerHeight=436, location=no, menubar=no, status=no, titlebar=no, scrollbars=no, toolbar=no")},backToPreviousDialog(){if(this.selectedOption){this.reset();return}this.$emit("back")}}};var G=Y;var W=a("hS2T");var J=Object(x["a"])(G,i,s,false,null,"5a62f94e",null);if(false){var Z}J.options.__file="app/assets/components/share-dialog/linkedin-push/dialog.vue";var K=t["a"]=J.exports},"/wDy":function(e,t,a){var i=a("scxn");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2f323c76",i,false,{});if(false){}},"0RXd":function(e,t,a){var i=a("EnCi");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4de5fda7",i,false,{});if(false){}},"0UK6":function(e,t,a){"use strict";var i=a("vFnc");var s=a.n(i);var n=s.a},"0XgV":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".reorder-playlist[data-v-29185ad0]{counter-reset:videos}.reorder-playlist__inner[data-v-29185ad0]{display:flex;justify-content:center;padding:20px 0}.reorder-playlist .dragging[data-v-29185ad0]{box-shadow:none!important}.reorder-playlist .container-generated[data-v-29185ad0]{width:100%;padding:0}",""]);e.exports=s},"0iAF":function(e,t,a){var i=a("59WQ");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4554ef48",i,false,{});if(false){}},"0jNN":function(e,t,a){"use strict";var i=Object.prototype.hasOwnProperty;var s=function(){var e=[];for(var t=0;t<256;++t){e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase())}return e}();var n=function e(t){var a;while(t.length){var i=t.pop();a=i.obj[i.prop];if(Array.isArray(a)){var s=[];for(var n=0;n<a.length;++n){if(typeof a[n]!=="undefined"){s.push(a[n])}}i.obj[i.prop]=s}}return a};var r=function e(t,a){var i=a&&a.plainObjects?Object.create(null):{};for(var s=0;s<t.length;++s){if(typeof t[s]!=="undefined"){i[s]=t[s]}}return i};var o=function e(t,a,s){if(!a){return t}if(typeof a!=="object"){if(Array.isArray(t)){t.push(a)}else if(typeof t==="object"){if(s.plainObjects||s.allowPrototypes||!i.call(Object.prototype,a)){t[a]=true}}else{return[t,a]}return t}if(typeof t!=="object"){return[t].concat(a)}var n=t;if(Array.isArray(t)&&!Array.isArray(a)){n=r(t,s)}if(Array.isArray(t)&&Array.isArray(a)){a.forEach((function(a,n){if(i.call(t,n)){if(t[n]&&typeof t[n]==="object"){t[n]=e(t[n],a,s)}else{t.push(a)}}else{t[n]=a}}));return t}return Object.keys(a).reduce((function(t,n){var r=a[n];if(i.call(t,n)){t[n]=e(t[n],r,s)}else{t[n]=r}return t}),n)};var l=function e(t,a){return Object.keys(a).reduce((function(e,t){e[t]=a[t];return e}),t)};var d=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}};var c=function e(t){if(t.length===0){return t}var a=typeof t==="string"?t:String(t);var i="";for(var n=0;n<a.length;++n){var r=a.charCodeAt(n);if(r===45||r===46||r===95||r===126||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122){i+=a.charAt(n);continue}if(r<128){i=i+s[r];continue}if(r<2048){i=i+(s[192|r>>6]+s[128|r&63]);continue}if(r<55296||r>=57344){i=i+(s[224|r>>12]+s[128|r>>6&63]+s[128|r&63]);continue}n+=1;r=65536+((r&1023)<<10|a.charCodeAt(n)&1023);i+=s[240|r>>18]+s[128|r>>12&63]+s[128|r>>6&63]+s[128|r&63]}return i};var u=function e(t){var a=[{obj:{o:t},prop:"o"}];var i=[];for(var s=0;s<a.length;++s){var r=a[s];var o=r.obj[r.prop];var l=Object.keys(o);for(var d=0;d<l.length;++d){var c=l[d];var u=o[c];if(typeof u==="object"&&u!==null&&i.indexOf(u)===-1){a.push({obj:o,prop:c});i.push(u)}}}return n(a)};var p=function e(t){return Object.prototype.toString.call(t)==="[object RegExp]"};var h=function e(t){if(t===null||typeof t==="undefined"){return false}return!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};e.exports={arrayToObject:r,assign:l,compact:u,decode:d,encode:c,isBuffer:h,isRegExp:p,merge:o}},"10m6":function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));a.d(t,"b",(function(){return O}));var i=a("4Brf");var s=a.n(i);var n=a("QGkA");var r=a.n(n);var o=a("5s+n");var l=a.n(o);var d=a("UxlC");var c=a.n(d);var u=a("SYor");var p=a.n(u);var h=a("3bBZ");var v=a.n(h);var m=a("/Dqt");var f=a("Ei+z");var b=a("YEuB");var g=a("5JVT");var y=a("vnz6");var _=a("+rx7");var w=a("AOo/");var x=a("bN9a");const S=Object(f["a"])("videoEditPage");const k=e=>!["simple_post_roll","simple_overlay","simple_email"].includes(e.cta_type);const C=e=>["simple_overlay","annotation"].includes(e.cta_type);const P=e=>e.filter((e=>!C(e)&&e.second===0));const T=(e,t)=>e.filter((e=>C(e)||e.second>0&&e.second<t));const V=(e,t)=>e.filter((e=>!C(e)&&(e.second===t||e.second<0)));const A={simple_post_roll:"Quick - Fullscreen",simple_overlay:"Quick - Banner",simple_email:"Quick - Email Form",fullscreen:"Custom - Fullscreen",annotation:"Custom - Annotation",marketo_form:"Custom - Marketo Form"};const E=e=>A[e]||"N/A";const I=(e,t)=>{if(e===0){return"Pre"}if(e>0&&e<t){return"Mid"}if(e===t||e<0){return"Post"}w["a"].error("Action timestamp exceeds the length of video.")};const{namespacedModule:D,moduleHelpers:O,moduleBuilder:L}=Object(m["a"])("playerModule/actions",{state:{playerActions:[],defaultActions:[],organizationActions:[],sharedActions:[],previewReloadIndex:0,selectedActionId:null,isSelectedActionUnique:false,isEditingAction:false,loading:false,loadingFailed:false},getters:{...S.mapState(["ownerTeam"]),selectedAction:e=>e.playerActions.find((t=>t.id===e.selectedActionId)),selectedActionIsDefault:(e,t)=>!!t.selectedAction&&t.selectedAction.owner_type==="Organization",selectedActionIsCustom:(e,t)=>!!t.selectedAction&&k(t.selectedAction),preActions:e=>P(e.playerActions),midActions:(e,t)=>T(e.playerActions,t.chapterLength),postActions:(e,t)=>V(e.playerActions,t.chapterLength),findAction:e=>t=>e.playerActions.find((e=>e.id===t)),defaultPreActions:e=>P(e.defaultActions),defaultMidActions:(e,t)=>T(e.defaultActions,t.chapterLength),defaultPostActions:(e,t)=>V(e.defaultActions,t.chapterLength),overriddenPreDefaultActions:(e,t)=>t.defaultPreActions.filter((({event_id:t})=>!e.playerActions.some((({id:e})=>e===t)))),overriddenMidDefaultActions:(e,t)=>t.defaultMidActions.filter((({event_id:t})=>!e.playerActions.some((({id:e})=>e===t)))),overriddenPostDefaultActions:(e,t)=>t.defaultPostActions.filter((({event_id:t})=>!e.playerActions.some((({id:e})=>e===t)))),unassignedActions:e=>e.organizationActions.filter((({id:t})=>!e.playerActions.some((({id:e})=>e===t))&&!e.defaultActions.some((({event_id:e})=>e===t)))),unassignedSharedActions:e=>e.sharedActions.filter((t=>!e.playerActions.some((e=>e.id===t.id))&&!t.is_team_default)),teamDefaultActions:e=>e.sharedActions.filter((e=>e.is_team_default)),overriddenTeamActions:(e,t)=>t.teamDefaultActions.filter((({id:t})=>!e.playerActions.some((({id:e})=>e===t)))),preTeamOverriddenActions:(e,t)=>t.overriddenTeamActions.filter((e=>e.placements[0].second===0)),postTeamOverriddenActions:(e,t)=>t.overriddenTeamActions.filter((e=>e.placements[0].second===t.chapterLength||e.placements[0].second<0)),chapter:(e,t,a)=>a.playerModule.playlistVideos.length>0?a.playerModule.playlistVideos[0]:undefined,chapterLength:(e,t)=>t.chapter?t.chapter.video_attributes.seconds:0},mutations:{setIsEditingAction(e,t){e.isEditingAction=t},setLoadingFailed(e,t){e.loadingFailed=t},setLoading(e,t){e.loading=t},$_reloadPreview(e){e.previewReloadIndex+=1},$_updatePlayerAction(e,{id:t,updatedAction:a}){e.playerActions=e.playerActions.map((e=>e.id===t?a:e))},$_setSelectedActionId(e,t){e.selectedActionId=t},$_setPlayerActions(e,t){e.playerActions=t},$_setDefaultActions(e,t){e.defaultActions=t},$_setIsSelectedActionUnique(e,t){e.isSelectedActionUnique=t},$_setOrganizationActions(e,t){e.organizationActions=t},$_setSharedActions(e,t){e.sharedActions=t}},actions:{...S.mapActions(["showStatus"]),async loadPlayerActions({commit:e,dispatch:t,rootState:a}){const i=b["a"].indexByPlayerUuid(a.playerModule.organizationId,a.playerModule.uuid);const{data:s,status:n}=await t("vyApi/sendApiRequest",i,{root:true});if(n!==200){e("setLoadingFailed",true);return}e("$_setPlayerActions",s.ctas);await t("loadActions")},async loadDefaultActions({commit:e,dispatch:t,rootState:a}){const i=g["a"].indexByOrg(a.playerModule.organizationId);const{data:s,status:n}=await t("vyApi/sendApiRequest",i,{root:true});if(n!==200){e("setLoadingFailed",true);return}e("$_setDefaultActions",s)},async loadActions({commit:e,dispatch:t,rootState:a,getters:i},{sharedOnly:s=false}={}){var n,r;const o=[];const l=[];let d=0;const c=200;let u=1;const p=a.playerModule.organizationId;const{ownerTeam:h}=i;if(!h&&s){e("$_setSharedActions",[]);return}const v=s?y["a"].eventsByTeam(p,h,{page:u,per_page:c,include:"placements"}):b["a"].index(p,{page:u,per_page:c,include:"placements"});const{data:m,status:f}=await t("vyApi/sendApiRequest",v,{root:true});if(f!==200){e("setLoadingFailed",true);return}d=((n=m.summary)===null||n===void 0?void 0:n.count)||0;o.push(...(r=m.events)!==null&&r!==void 0?r:[]);const g=Math.ceil(d/c);for(u=2;u<=g;u++){const e=s?y["a"].eventsByTeam(p,h,{page:u,per_page:c,include:"placements"}):b["a"].index(p,{page:u,per_page:c,include:"placements"});l.push(t("vyApi/sendApiRequest",e,{root:true}))}const _=await Promise.all(l);if(_.some((e=>e.status!==200))){e("setLoadingFailed",true);return}const w=_.map((e=>e.data.events));o.push(...w.flat());if(s){e("$_setSharedActions",o)}else{e("$_setOrganizationActions",o)}},async saveAction({dispatch:e,state:t,getters:a,commit:i,rootState:s},{isShared:n=false}={isShared:false}){if(a.selectedAction.name.trim()===""){e("updateSelectedPlayerAction",{name:x["a"][a.selectedAction.cta_type].name})}const r={name:a.selectedAction.name,description:a.selectedAction.description,settings:a.selectedAction.settings,display_once:a.selectedAction.display_once,closeable:a.selectedAction.closeable};if(a.selectedAction.cta_type==="simple_email"){r.new_contact=a.selectedAction.new_contact;r.prefill=a.selectedAction.prefill}const o=b["a"].update(s.playerModule.organizationId,t.selectedActionId,r);const{status:l}=await e("vyApi/sendApiRequest",o,{root:true});if(l!==200){e("showStatus",{success:false,message:"Something went wrong!",description:"Please refresh the page and try that again"});return}e("vidyard/sendHeapEvent",{eventName:"Action.saved",customOptions:{type:E(a.selectedAction.cta_type),location:"Video edit page",isTeamAction:n,teamId:a.ownerTeam}},{root:true});i("$_reloadPreview")},async setSelectedAction({dispatch:e,commit:t,getters:a,rootState:i},s){t("$_setSelectedActionId",s);t("setIsEditingAction",s!==null);if(s!==null){const n=b["a"].ownerMeta(i.playerModule.organizationId,s);const{data:r,status:o}=await e("vyApi/sendApiRequest",n,{root:true});if(o!==200){e("showStatus",{success:false,message:"Failed to load selected action's details."});return}const l=r.length;t("$_setIsSelectedActionUnique",l<=1&&!a.selectedActionIsDefault)}},updatePlayerAction({commit:e,getters:t},{id:a,payload:i}){const s={...t.findAction(a),...i};e("$_updatePlayerAction",{id:a,updatedAction:s})},updateSelectedPlayerAction({getters:e,dispatch:t},a){t("updatePlayerAction",{id:e.selectedAction.id,payload:a})},async updateActionEventJoin({getters:e,rootState:t,commit:a,dispatch:i},{id:s,payload:n}){const r={...e.findAction(s),...n,annotation_css:{}};if(!e.chapter){w["a"].error("Player has no videos: ".concat(t.playerModule.id));return}const o=g["a"].updateByChapter(t.playerModule.organizationId,e.chapter.id,s,r);const{status:l}=await i("vyApi/sendApiRequest",o,{root:true});if(l!==200){i("showStatus",{success:false,message:"Something went wrong!",description:"Please refresh the page and try that again"});return}i("updatePlayerAction",{id:s,payload:n});a("$_reloadPreview")},async createAndAssignAction({dispatch:e,rootState:t},{text:a,second:i}){let s;if(a==="Quick Fullscreen CTA"){s=x["a"].simple_post_roll}else if(a==="Quick Banner"){s=x["a"].simple_overlay}else if(a==="Quick Email Gate"){s=x["a"].simple_email}else{w["a"].error("Menu Text does not match default event.");return}const n=b["a"].create(t.playerModule.organizationId,s);const{data:r,status:o}=await e("vyApi/sendApiRequest",n,{root:true});if(o>=400){e("showStatus",{success:false,message:"".concat(r.error)});return}e("vidyard/sendHeapEvent",{eventName:"Action.created",customOptions:{type:E(r.event_type),location:"Video edit page"}},{root:true});await e("assignAction",{id:r.id,second:i})},async assignAction({getters:e,dispatch:t,commit:a,rootState:i},{id:s,second:n,isShared:r=false}){const o={event_id:s,second:n,duration:1};const l=g["a"].createByChapter(i.playerModule.organizationId,e.chapter.id,o);const{data:d,status:c}=await t("vyApi/sendApiRequest",l,{root:true});if(c>=400){t("showStatus",{success:false,message:"".concat(d.error.replace("Validation failed: ",""))});return}t("vidyard/sendHeapEvent",{eventName:"Action.assigned",customOptions:{type:E(d.event.event_type),timeCode:I(n,e.chapterLength),location:"Video edit page",isTeamAction:r,teamId:e.ownerTeam}},{root:true});await t("loadPlayerActions");t("setSelectedAction",s);a("$_reloadPreview")},async removeSelectedPlayerAction({state:e,getters:t,rootState:a,commit:i,dispatch:s}){if(!t.chapter){w["a"].error("Player has no videos: ".concat(a.playerModule.id));return null}const n=g["a"].deleteByChapter(a.playerModule.organizationId,t.chapter.id,e.selectedActionId);const{status:r}=await s("vyApi/sendApiRequest",n,{root:true});if(r!==200){s("showStatus",{success:false,message:"Failed to remove action",description:"Please try that again"});return}i("$_reloadPreview")},async deleteSelectedPlayerAction({state:e,commit:t,dispatch:a,rootState:i}){const s=b["a"].destroy(i.playerModule.organizationId,e.selectedActionId);const{status:n}=await a("vyApi/sendApiRequest",s,{root:true});if(n!==200){a("showStatus",{success:false,message:"Failed to delete action",description:"Please try that again"});return}t("$_reloadPreview")},async createSelectedEventOverride({state:e,dispatch:t,rootState:a,commit:i}){const s=_["a"].createEventOverride(a.playerModule.organizationId,a.playerModule.id,e.selectedActionId);const{status:n}=await t("vyApi/sendApiRequest",s,{root:true});if(n>=400){t("showStatus",{success:false,message:"Failed to create event override",description:"Please try that again"});return}i("$_reloadPreview")},async deleteEventOverride({dispatch:e,rootState:t,commit:a},i){const s=_["a"].deleteEventOverride(t.playerModule.organizationId,t.playerModule.id,i);const{status:n}=await e("vyApi/sendApiRequest",s,{root:true});if(n>=400){e("showStatus",{success:false,message:"Failed to remove event override",description:"Please try that again"});return}a("$_reloadPreview")}}})},"11Tu":function(e,t,a){var i=a("mg3s");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4a05b49a",i,false,{});if(false){}},122:function(e,t,a){a("FgMM");e.exports=a("RGSw")},"1F91":function(e,t){},"1Hzw":function(e,t,a){var i=a("U7pM");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1fa0944c",i,false,{});if(false){}},"1Mxu":function(e,t,a){var i=a("oG6Y");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("abb6aec4",i,false,{});if(false){}},"1Nzj":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="fal";var s="list-alt";var n=512;var r=512;var o=[];var l="f022";var d="M464 64c8.823 0 16 7.178 16 16v352c0 8.822-7.177 16-16 16H48c-8.823 0-16-7.178-16-16V80c0-8.822 7.177-16 16-16h416m0-32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-336 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm0 96c-17.673 0-32 14.327-32 32s14.327 32 32 32 32-14.327 32-32-14.327-32-32-32zm288-148v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6zm0 96v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6zm0 96v-24a6 6 0 0 0-6-6H198a6 6 0 0 0-6 6v24a6 6 0 0 0 6 6h212a6 6 0 0 0 6-6z";t.definition={prefix:i,iconName:s,icon:[n,r,o,l,d]};t.faListAlt=t.definition;t.prefix=i;t.iconName=s;t.width=n;t.height=r;t.ligatures=o;t.unicode=l;t.svgPathData=d},"1W/4":function(e,t,a){var i=a("nymn");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("44d1c486",i,false,{});if(false){}},"1sCl":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".header[data-v-2983ea34]{display:flex;justify-content:space-between;align-items:center;padding-bottom:4px}.title[data-v-2983ea34]{height:20px;font-size:14px}.source-name[data-v-2983ea34]{font-size:12px}.header-right[data-v-2983ea34]{display:flex;align-items:center}.domain[data-v-2983ea34]{margin-top:8px;margin-right:8px}",""]);e.exports=s},"1u+Y":function(e,t){},"297M":function(e,t,a){var i=a("Ch2X");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3ecf86dc",i,false,{});if(false){}},"2PsU":function(e,t,a){var i=a("TxVX");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("8e688d6e",i,false,{});if(false){}},"2jmN":function(e,t,a){"use strict";var i=a("mRle");var s=a.n(i);var n=s.a},"2lOU":function(e,t,a){"use strict";var i=a("CT1H");var s=a.n(i);var n=s.a},"2tRW":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".survey-dialog .feedback-content[data-v-ae642c8e]{margin-top:20px}.survey-dialog .feedback-content[data-v-ae642c8e] .vy-text-area__title-container{color:#475066}.survey-dialog .allow-contact-wrapper[data-v-ae642c8e]{margin-top:20px;display:flex}.survey-dialog .allow-contact-check[data-v-ae642c8e]{margin-right:1rem}.survey-dialog .likely-container[data-v-ae642c8e]{margin-top:20px;display:flex;justify-content:space-between;font-size:12px}.survey-dialog .score[data-v-ae642c8e]{display:flex;justify-content:center;margin-top:16px}.survey-dialog .score-radio-button[data-v-ae642c8e]{border-top:2px solid #b4002d;border-bottom:2px solid #b4002d}.survey-dialog .first[data-v-ae642c8e]{border-left:2px solid #b4002d;border-top-left-radius:6px;border-bottom-left-radius:6px}.survey-dialog .last[data-v-ae642c8e]{border-right:2px solid #b4002d;border-top-right-radius:6px;border-bottom-right-radius:6px}.survey-dialog .submit-error[data-v-ae642c8e]{display:flex;justify-content:center;align-items:center}.survey-dialog .warning-icon[data-v-ae642c8e]{color:#b4002d;margin-right:1rem}.survey-dialog .error-text[data-v-ae642c8e]{color:#b4002d;font-size:12px;font-weight:400}.survey-dialog .post-submit-item-wrapper[data-v-ae642c8e]{display:flex;justify-content:center;margin-bottom:1rem}.survey-dialog .end-thanks-text[data-v-ae642c8e]{text-align:center}",""]);e.exports=s},"2un2":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("NavSidebar",{attrs:{pages:e.pages}})};var s=[];i._withStripped=true;var n=a("srP+");var r=a("xIah");var o=a("W8xq");var l=a("IHRM");var d=a("mn20");var c=a("QKBm");var u=a("IYjj");var p={name:"EditPageSidebar",components:{NavSidebar:n["a"]},computed:{...r["b"].mapGetters(["isPersonalized"]),...u["b"].mapGetters(["canAccessSocialSharing"]),...o["b"].mapGetters(["hasPermission"]),...l["c"].mapGetters(["hasFeature","getVariation"]),...d["b"].mapState(["navigation","isCurrentLiveStream"]),...c["b"].mapState(["hasPassword","hasAccessManager","hasIpRestrictions","hasSecurePlatform","canAccessSecurePlatform"]),pages(){const e=[this.videoPage];if(this.hasPermission("can_edit_players")&&this.hasFeature("events_library")){e.push(this.eventsPage)}e.push(this.securityPage);e.push(this.settingsPage);if(this.isPersonalized&&this.hasPermission("can_edit_players")&&this.hasPermission("can_edit_player_style_and_restrictions")){e.push(this.personalizePage)}return e},videoPage(){const e=[{name:"Name",link:"#videoname"}];if(this.hasPermission("can_edit_players")){e.push({name:"Thumbnail",link:"#thumbnail"});if(this.getVariation("video_chapters",false)){e.push({name:"Chapters",link:"#chapters"})}if(this.hasFeature("transcriptions")){e.push({name:"Captions",link:"#captions"})}}if(!this.hasFeature("new_video_edit_page")&&this.hasFeature("sharing_page_seo")){e.push({name:"Access",link:"#access"})}if(this.canAccessSocialSharing){e.push({name:"Locations",link:"#locations"})}return{title:"Video",url:this.navigation.video,icon:"faPlay",sections:e}},eventsPage(){return{title:"Actions",url:this.navigation.actions,icon:"faBullseyePointer",sections:[{name:"Preview",link:"#action-preview"},{name:"Actions",link:"#actions-card"}]}},securityPage(){const e=[{name:"Access",link:"#access"}];if(this.hasPermission("can_edit_players")){const t=this.hasFeature("access_codes")&&this.hasPassword;const a=this.hasFeature("request_player_access")&&this.hasAccessManager;if(t||a){e.push({name:"Password",link:"#password"})}}if(this.hasPermission("can_edit_player_style_and_restrictions")){if(this.hasFeature("ip_restriction")&&this.hasIpRestrictions){e.push({name:"IP Restrictions",link:"#ip-restrictions"})}if(this.canAccessSecurePlatform&&this.hasSecurePlatform){e.push({name:"Secure Platform",link:"#secure-platform"})}}return{title:"Sharing",url:this.navigation.security,icon:"faShare",sections:e}},settingsPage(){const e=[];if(this.hasPermission("can_edit_player_style_and_restrictions")){e.push({name:"Player Design",link:"#design"});if(this.hasFeature("domain_restriction")){e.push({name:"Embed Restrictions",link:"#embed-restrictions"})}if(this.hasFeature("scheduled_videos")){e.push({name:"Schedule Video",link:"#schedule"})}if(this.hasFeature("custom_attributes")){e.push({name:"Custom Attributes",link:"#attributes"})}}if(this.isCurrentLiveStream){e.push({name:"Live Stream",link:"#live_stream"})}e.push({name:"About This Video",link:"#about"});return{title:"Settings",url:this.navigation.settings,icon:"faCog",sections:e}},personalizePage(){const e=[{name:"Batch Files",link:"#batch_files"},{name:"Download",link:"#download"}];return{title:"Personalize",url:this.navigation.personalize,icon:"faHeart",sections:e}}}};var h=p;var v=a("KHd+");var m=Object(v["a"])(h,i,s,false,null,null,null);if(false){var f}m.options.__file="app/assets/components/video_edit_page/common/SideBar.vue";var b=t["a"]=m.exports},"2wbO":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{attrs:{id:"embed-popover-wrapper"}},[a("VyPopover",{attrs:{id:"counter-popup",text:e.embeddedPopup.body,header:e.embeddedPopup.heading,placement:e.popoverPlacement,"is-visible":e.showPopper&&e.pql,"hide-close-button":"",width:284},on:{close:function(t){e.showPopper=false}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("UpgradeButton",{attrs:{id:"upgrade-button",campaign:"sharing-page","heap-event":"Sharing page embed counter upgrade prompt clicked","aria-Label":"Upgrade account to embed up to 20 videos"}})]},proxy:true}])}),e._v(" "),e.embedData.current!==undefined?a("div",{attrs:{id:"badge-wrapper",role:"button",tabindex:"0","aria-label":e.counterBadge.aria},on:{click:e.showPopup,keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.showPopup(t)}}},[a("VyBadge",{attrs:{id:"embed-counter","data-testid":"share-modal-embed-limit-text",text:e.counterBadge.text,type:e.embeddedPopup.type,tabindex:-1}})],1):e._e()],1)};var s=[];i._withStripped=true;var n=a("nbMm");var r=a("NvBw");var o={name:"EmbedPopover",components:{VyBadge:n["g"],VyPopover:n["D"],UpgradeButton:r["a"]},props:{pql:{type:Boolean,required:false,default:false},embedData:{type:Object,required:true,default:()=>({})},popoverPlacement:{type:String,required:false,default:"right"}},data(){return{showPopper:false}},computed:{counterBadge(){return{text:"".concat(this.embedData.current,"/").concat(this.embedData.limit," embedded"),aria:"".concat(this.embedData.current," of ").concat(this.embedData.limit," embedded videos.")}},embeddedPopup(){if(this.embedData.canEmbedOne){return{heading:"Upgrade to embed more videos",body:"Embed up to 20 videos on your site, and more!",type:"success"}}return{heading:"Whoops! You've reached your embed limit",body:"Upgrade to embed up to 20 videos on your site, and more!",type:"error"}}},methods:{showPopup(){this.showPopper=!this.showPopper;return this.showPopper}}};var l=o;var d=a("fuOl");var c=a("KHd+");var u=Object(c["a"])(l,i,s,false,null,"2b0d0ccd",null);if(false){var p}u.options.__file="app/assets/components/share-dialog/common/embed-popover.vue";var h=t["a"]=u.exports},"30Qr":function(e,t,a){"use strict";var i=a("3t0c");var s=a.n(i);var n=s.a},"33dT":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".design-content[data-v-29e88aab]{display:flex;justify-content:space-between}.design-content img[data-v-29e88aab]{height:80px}.design-content__left[data-v-29e88aab]{display:flex;align-items:center}.title[data-v-29e88aab]{font-size:16px;font-weight:400;line-height:1.5em;color:#475066}.main-text[data-v-29e88aab]{margin-left:24px}.button[data-v-29e88aab]{justify-self:right;padding:20px}",""]);e.exports=s},"3A41":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".domain-sources-wrapper[data-v-5aa8c6e9]{color:#5b627d;background:#f5f9ff;border-top:1px solid #ebf0f7;padding:20px}.no-domains-applied[data-v-5aa8c6e9]{padding-top:12px;margin:0}.domain-source-card[data-v-5aa8c6e9]{padding-top:12px}.domains-loading-spinner[data-v-5aa8c6e9]{display:flex;justify-content:center;padding-top:12px}",""]);e.exports=s},"3J7t":function(e,t,a){"use strict";var i=a("I0x7");var s=a.n(i);var n=s.a},"3jRJ":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".basic-embed[data-v-67296987]{flex-direction:column}.basic-embed .embed-toggle-wrapper[data-v-67296987]{display:flex;flex-direction:row;justify-content:space-between}.basic-embed .vy-switch[data-v-67296987]{margin-bottom:12px}.basic-embed .embed-codes-popover[data-v-67296987]{margin-left:-12px;margin-top:-12px}",""]);e.exports=s},"3myC":function(e,t,a){"use strict";var i=a("o8VJ");var s=a.n(i);var n=s.a},"3t0c":function(e,t,a){var i=a("ErnU");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0fc1c30c",i,false,{});if(false){}},"3vR5":function(e,t,a){e.exports=a.p+"survey-questions-7a98ed73e143557f1c339450d1ee1403.svg"},"4IUv":function(e,t,a){"use strict";var i=a("pWnx");var s=a.n(i);var n=s.a},"4TO3":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".spinner-wrapper[data-v-0a539fba]{text-align:center;padding:24px 0}",""]);e.exports=s},"4Yrz":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".title[data-v-fb1278cc]{font-size:18px;font-weight:500;color:#606782}.description[data-v-fb1278cc],.title[data-v-fb1278cc]{margin-bottom:20px}.control[data-v-fb1278cc]{display:flex;justify-content:space-between;font-size:16px}.control[data-v-fb1278cc],.select-control[data-v-fb1278cc]{margin-bottom:24px}.select-control label[data-v-fb1278cc]{color:#606782;display:block;margin-bottom:8px}",""]);e.exports=s},"4afP":function(e,t,a){"use strict";var i=a("jpLU");var s=a.n(i);var n=s.a},"4fpz":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".fr[data-v-393edf44]{float:right}.notification-preference-popover[data-v-393edf44]{display:none}@media (min-width:768px){.notification-preference-popover[data-v-393edf44]{display:block;white-space:normal}}",""]);e.exports=s},"4tH3":function(e,t,a){"use strict";var i="sbv";var s={toMilliseconds:function(e){var t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(e);var a=parseInt(t[1]);var i=parseInt(t[2]);var s=parseInt(t[3]);var n=t[5]?parseInt(t[5]):0;var r=a*3600*1e3+i*60*1e3+s*1e3+n;return r},toTimeString:function(e){var t=Math.floor(e/1e3/3600);var a=Math.floor(e/1e3/60%60);var i=Math.floor(e/1e3%60);var s=Math.floor(e%1e3);var n=(t<10?"0":"")+t+":"+(a<10?"0":"")+a+":"+(i<10?"0":"")+i+"."+(s<100?"0":"")+(s<10?"0":"")+s;return n}};function n(e,t){var a=[];var i=t.eol||"\r\n";var n=e.split(/\r?\n\s+\r?\n/);for(var r=0;r<n.length;r++){var o=/^(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi;var l=o.exec(n[r]);if(l){var d={};d.type="caption";d.start=s.toMilliseconds(l[1]);d.end=s.toMilliseconds(l[3]);d.duration=d.end-d.start;var c=l[5].split(/\[br\]|\r?\n/gi);d.content=c.join(i);d.text=d.content.replace(/\>\>\s*[^:]+:\s*/g,"");a.push(d);continue}if(t.verbose){console.log("WARN: Unknown part",n[r])}}return a}function r(e,t){var a="";var i=t.eol||"\r\n";for(var n=0;n<e.length;n++){var r=e[n];if(typeof r.type==="undefined"||r.type=="caption"){a+=s.toTimeString(r.start)+","+s.toTimeString(r.end)+i;a+=r.text+i;a+=i;continue}if(t.verbose){console.log("SKIP:",r)}}return a}function o(e){if(typeof e!=="string"){throw new Error("Expected string content!")}if(/\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?/g.test(e)){return"sbv"}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},"4ugL":function(e,t,a){"use strict";var i=a("gUuV");var s=a.n(i);var n=s.a},"4xgE":function(e,t,a){var i=a("LSRz");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("47a822a9",i,false,{});if(false){}},"52Xg":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".metrics-item,.metrics-item .vy-card__content{position:relative}.metrics-item .vy-card__content .vy-popover{margin:-20px}.metrics-item.default .vy-card__content{border:1px solid #dde1f0;box-shadow:none}.metrics-item.demo-mode .vy-card__content{border:.1rem dashed #c8cee3;box-shadow:none}.metrics-item.error .vy-card__content{border:.1rem solid #b4002d;box-shadow:none}.metrics-container{display:flex;align-items:center}.metrics-container .metric-icon{margin-right:8px}.metrics-container .metric-icon-cursor{cursor:pointer}.metrics-container .metric-information{display:flex;flex-direction:column;width:100%}.bold,.heading{font-weight:500}.heading{font-size:16px;line-height:24px;color:#374054}.number{font-size:24px}.dialog-text{margin-bottom:20px}.demo-text{display:inline-block;background-color:#ebf0f7;width:38px;height:14px;vertical-align:sub}@media screen and (-ms-high-contrast:active){.demo-text{border:1px solid}}.demo-number{display:inline-block;background-color:#ebf0f7;width:60px;height:24px}@media screen and (-ms-high-contrast:active){.demo-number{border:1px solid}}.upgrade-button{width:90%;margin:auto}",""]);e.exports=s},"59WQ":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".request-dialog-scaffold .controls[data-v-724efc14]{display:flex;align-content:flex-start;margin-top:4px;margin-bottom:4px}.request-dialog-scaffold .controls .request-type[data-v-724efc14]{width:100%;margin-right:10px;margin-left:0}.request-dialog-scaffold .controls .request-type[data-v-724efc14] .vy-button{width:100%}.request-dialog-scaffold .controls .request-type[data-v-724efc14] .window{width:100%;margin-bottom:10px}.request-dialog-scaffold .controls .request-type[data-v-724efc14] .drop-down{max-height:200px;overflow-y:scroll;overflow-x:hidden;padding-bottom:10px}.request-dialog-scaffold .error-message[data-v-724efc14]{display:flex;align-content:flex-start;font-size:12px;color:#b4002d;margin-top:8px}.request-dialog-scaffold .error-message .icon[data-v-724efc14]{margin-right:4px}",""]);e.exports=s},"5AiS":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"library-item"},[a("div",{staticClass:"library-item__prefix"},[e._t("prefix")],2),e._v(" "),a("div",{staticClass:"library-item__icon"},[e._t("icon")],2),e._v(" "),a("div",{staticClass:"flex-section"},[a("div",{staticClass:"library-item__text"},[a("h3",{staticClass:"library-item__name"},[a("VyTooltip",{staticClass:"library-item__tooltip-wrapper",attrs:{show:e.nameIsOverflowing(),content:e.name}},[a("a",{ref:"name",staticClass:"library-item__name-link",class:{disabled:e.disabled},attrs:{"aria-disabled":e.disabled,"aria-label":e.nameAriaLabel,href:e.editUrl},on:{click:function(t){t.stopPropagation();return e.titleClick(t)},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.titleClick(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])){return null}return e.titleClick(t)}]}},[e._v("\n            "+e._s(e.name)+"\n          ")])])],1),e._v(" "),a("div",{staticClass:"library-item__info"},[e.$slots.details?a("div",{staticClass:"library-item__details"},[e._t("details")],2):e._e(),e._v(" "),e.$slots.badges?a("div",{staticClass:"library-item__badges"},[e._t("badges")],2):e._e()])]),e._v(" "),a("div",{staticClass:"metadata-and-buttons-container"},[e.$slots.metadata?a("div",{staticClass:"library-item__metadata"},[e._t("metadata")],2):e._e(),e._v(" "),e.$slots.buttons?a("div",{staticClass:"library-item__buttons"},[e._t("buttons")],2):e._e(),e._v(" "),!e.hideMenu?a("VyOverflowMenu",{attrs:{"menu-items":e.menuItems,"display-options":{alignRight:true},"aria-label":"more actions for "+e.name,"data-testid-button":"video-overflow","data-testid-menu":"video-overflow-menu"},on:{action:e.menuItemClick}}):e._e()],1)])])};var s=[];i._withStripped=true;var n=a("L2JU");var r=a("P56O");var o=a("nbMm");var l=a("7wZh");var d={components:{VyOverflowMenu:o["B"],VyTooltip:o["U"]},props:{menuItems:{type:Array,default:()=>[]},name:{type:String,required:true},nameAriaLabel:{type:String,required:true},disabled:{type:Boolean,default:false},editUrl:{type:String,default:undefined},search:{type:String,default:""}},computed:{...Object(n["e"])("features",["hasFeature"]),hideMenu(){return this.menuItems.length===0}},methods:{...r["c"].mapActions(["sendHeapEvent"]),titleClick(e){if(this.editUrl){if(this.search){this.sendHeapEvent({eventName:"search.result-clicked",customOptions:{destination:"Video in current folder"}})}return}e.preventDefault();this.$emit("title-click")},menuItemClick(e){try{this.menuItems[e].action()}catch(e){this.$rollbar.error("Error handling library item menu click",e);Object(l["a"])(e)}},nameIsOverflowing(){return this.$refs.name&&this.$refs.name.clientWidth<this.$refs.name.scrollWidth}}};var c=d;var u=a("Pmjp");var p=a("KHd+");var h=Object(p["a"])(c,i,s,false,null,"044b5a8a",null);if(false){var v}h.options.__file="app/assets/components/library/libraryItemTemplate.vue";var m=t["a"]=h.exports},"5E4h":function(e,t,a){"use strict";var i=a("EJHZ");var s=a.n(i);var n=s.a},"5LOR":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".spinner-wrapper[data-v-5a62f94e]{text-align:center;padding:24px 0}#linkedin-push-modal select[data-v-5a62f94e]{display:block;width:50%;height:36px;margin:8px 0 16px}#linkedin-push-modal .el-textarea[data-v-5a62f94e]{margin-top:16px}",""]);e.exports=s},"5X2M":function(e,t,a){e.exports=a.p+"facebook-not-connected-00d7c7e4b932174b2fa944b43d6c94eb.svg"},"5kKH":function(e,t,a){var i=a("JPst");var s=a("HeW1");var n=a("rRbN");var r=i(false);var o=s(n);r.push([e.i,".checkmark-image[data-v-2ca4757f]{background:url("+o+") 0 0 no-repeat;width:64px;height:68px;margin:20px}.spinner[data-v-2ca4757f]{margin:20px}.headline[data-v-2ca4757f]{color:#374054;font-size:18px;line-height:26px}.description[data-v-2ca4757f]{font-size:16px;line-height:24px;margin-bottom:52px;color:#606782;text-align:center}.main-contents[data-v-2ca4757f]{display:flex;flex-direction:column;align-items:center}",""]);e.exports=r},"5vGc":function(e,t,a){var i=a("GYeE");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("462301bd",i,false,{});if(false){}},"5w4N":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".metric-icon{display:flex;flex-shrink:0;align-items:center;justify-content:center;font-size:16px;height:46px;width:46px}.metric-icon.default{border-radius:50%}.metric-icon.demo-icon{border-radius:5px}.metric-icon.blue{color:#003099;background:#c7e3ff}.metric-icon.green{color:#2e7a53;background:#ebfff1}.metric-icon.loading{color:#ebf0f7;background:#ebf0f7}.metric-icon.loading-icon{color:#a9b0c9;background:#ebf0f7}.metric-icon.purple{color:#4f009e;background:#ecdbff}.metric-icon.turquoise{color:#006b8c;background:#dafeff}.metric-icon.grey{color:#606782}",""]);e.exports=s},"62Xw":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".security-popover[data-v-06f443a8]{display:flex;flex-direction:column;position:absolute;width:256px;background-color:#fff;border-radius:4px;outline:4px solid transparent;box-shadow:0 0 8px 0 rgba(15,31,41,.2),0 8px 8px 0 rgba(15,31,41,.2);z-index:8;top:100%;right:0;margin-top:12px;padding:16px}.security-popover__heading[data-v-06f443a8]{font-family:LL Circular,Helvetica,Arial,sans-serif}.security-popover__body[data-v-06f443a8]{font-size:12px;padding:16px 0}",""]);e.exports=s},"631N":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.library-item[data-v-044b5a8a]{display:grid;grid-template-columns:28px auto;grid-template-rows:auto auto;padding:12px 20px;outline:none}@media (min-width:768px){.library-item[data-v-044b5a8a]{grid-template-columns:32px 180px minmax(0,1fr);grid-template-rows:auto}}.library-item__prefix[data-v-044b5a8a]{align-items:center;display:flex;grid-column:1;grid-row:1;position:relative}.library-item__icon[data-v-044b5a8a]{grid-column:2;grid-row:1;position:relative}@media (min-width:768px){.library-item__icon[data-v-044b5a8a]{min-width:100px;width:180px}}.library-item__info[data-v-044b5a8a]{display:none;align-items:center;justify-content:center}@media (min-width:768px){.library-item__info[data-v-044b5a8a]{display:flex}}.library-item__details[data-v-044b5a8a]{display:flex;align-items:center;font-size:12px}.library-item__details[data-v-044b5a8a]>:not(:last-child):after{content:"|";margin-left:8px;margin-right:8px}.library-item__badges[data-v-044b5a8a]{display:none;align-items:center;margin-left:24px}@media (min-width:768px){.library-item__badges[data-v-044b5a8a]{display:flex}}.library-item__badges[data-v-044b5a8a]>:not(:last-child){margin-right:8px}.flex-section[data-v-044b5a8a]{display:flex;flex:1;flex-direction:column;grid-column:2;grid-row:2;justify-content:center}@media (min-width:768px){.flex-section[data-v-044b5a8a]{grid-column:3;grid-row:1;margin-left:24px}}@media (min-width:1024px){.flex-section[data-v-044b5a8a]{align-items:center;flex-direction:row;justify-content:flex-start}}.library-item__text[data-v-044b5a8a]{display:flex;flex-direction:column;align-items:flex-start;margin-top:8px;min-width:0}@media (min-width:768px){.library-item__text[data-v-044b5a8a]{margin-bottom:8px}}@media (min-width:1024px){.library-item__text[data-v-044b5a8a]{flex:1;margin-bottom:0;margin-right:8px;margin-top:0}}.library-item__name[data-v-044b5a8a]{line-height:1;margin-top:0;margin-bottom:0;width:auto;max-width:100%}.library-item__tooltip-wrapper[data-v-044b5a8a]{width:100%}.library-item__name-link[data-v-044b5a8a]{display:block;padding:4px;position:relative;left:-4px;box-sizing:border-box;font-size:16px;font-weight:500;text-overflow:ellipsis;overflow:hidden;white-space:normal;color:#5b627d;outline:none;border-radius:4px;text-decoration:none}.library-item__name-link[data-v-044b5a8a]:not(.disabled):focus,.library-item__name-link[data-v-044b5a8a]:not(.disabled):hover{color:#5e5cfa;text-decoration:underline}.library-item__name-link[data-v-044b5a8a]:not(.disabled):focus{box-shadow:0 0 0 3px #bfc4ff}@media (min-width:768px){.library-item__name-link[data-v-044b5a8a]{white-space:nowrap}}.metadata-and-buttons-container[data-v-044b5a8a]{align-items:center;display:flex}.library-item__metadata[data-v-044b5a8a]{display:none;margin-right:24px}@media (min-width:1024px){.library-item__metadata[data-v-044b5a8a]{display:block}}.library-item__buttons[data-v-044b5a8a]{align-items:center;display:flex;margin-right:8px}',""]);e.exports=s},"65ZB":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".table td[data-v-621fe920]{vertical-align:middle;padding:8px 10px}.table td.demo-mode[data-v-621fe920]{position:relative}.contact[data-v-621fe920]{overflow-wrap:anywhere}.date-time-cell[data-v-621fe920],.location-cell[data-v-621fe920]{font-size:12px}.country-text[data-v-621fe920],.time-text[data-v-621fe920]{color:#606782}.margin-top[data-v-621fe920]{margin-top:15px}.num-actions-clicked-container[data-v-621fe920]{text-align:center}.button-popover-container[data-v-621fe920]{display:inline-flex;position:relative}.actions-squiggly-arrow.actions-squiggly-arrow[data-v-621fe920]{left:-10px}.num-actions-clicked[data-v-621fe920]{height:auto;line-height:1.5;padding:4px 8px;font-size:12px;background-color:#ebeeff;color:#414dd4;border:none;border-radius:5px}.num-actions-clicked[data-v-621fe920]:focus,.num-actions-clicked[data-v-621fe920]:hover{background-color:#ebeeff;color:#414dd4;border:none;box-shadow:0 0 0 3px #bfc4ff}@media (max-width:700px){.percent-watched-squiggly-arrow[data-v-621fe920]{display:none}}",""]);e.exports=s},"66/U":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".email-code[data-v-7e15e4d5]{display:flex;flex-direction:column;justify-content:space-between;height:180px}.email-code__embed-code[data-v-7e15e4d5]{margin-top:12px;display:flex}.email-code__embed-code .copy-button[data-v-7e15e4d5]{margin-left:20px}.email-code__controls[data-v-7e15e4d5]{display:flex;margin-top:20px}.email-code__controls--left[data-v-7e15e4d5]{flex:0 0;padding-bottom:7px}.email-code__controls--right[data-v-7e15e4d5]{display:flex;align-items:flex-end;flex:1 1;margin-left:60px}.email-code__controls[data-v-7e15e4d5] .vy-radio-group{display:flex;flex-direction:column}.email-code__controls[data-v-7e15e4d5] .vy-radio+.vy-radio{margin-top:20px;margin-left:0}",""]);e.exports=s},"66dD":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"sidebar-container"},[e.$slots.custom?e._t("custom"):e._e(),e._v(" "),e._l(e.mappedSections,(function(t){return a("VyCollapse",{key:t.title,class:{active:t.open},attrs:{title:t.title.toUpperCase(),"collapse-disabled":t.collapseDisabled,open:t.open,"data-testid":t.id+"-collapse-toggle"},on:{"update:open":[function(a){return e.$set(t,"open",a)},function(a){return e.sectionToggled(t,a)}]}},[t.hasOwnProperty("icon")?a("VyIcon",{attrs:{slot:"icon",name:t.icon,type:t.iconType||"light"},slot:"icon"}):e._e(),e._v(" "),a("div",{staticClass:"content-section"},[e._t("content-"+t.id,[a("p",[e._v("Â ")])])],2)],1)}))],2)};var s=[];i._withStripped=true;var n=a("nbMm");var r={name:"AccordionSidebar",components:{VyCollapse:n["n"],VyIcon:n["v"]},props:{sections:{type:Array,required:false,default:()=>[]}},data(){return{mappedSections:this.sections.map((e=>{if(!window.location.hash&&e.default){e.open=true}else{e.open=e.id===window.location.hash.slice(1)}return e}))}},methods:{sectionToggled(e,t=true){e.open=t;window.location.hash=e.id;this.sections.forEach((t=>{if(t.id!==e.id){t.open=false}}))}}};var o=r;var l=a("HZXU");var d=a("KHd+");var c=a("jVPg");var u=a.n(c);var p=Object(d["a"])(o,i,s,false,null,"9fc20f9a",null);if(typeof u.a==="function")u()(p);if(false){var h}p.options.__file="app/assets/components/layout/sidebar/AccordionSidebar.vue";var v=t["a"]=p.exports},"67WC":function(e,t,a){"use strict";var i=a("qYE9");var s=a("g6v/");var n=a("2oRo");var r=a("hh1v");var o=a("UTVS");var l=a("9d/t");var d=a("kRJp");var c=a("busE");var u=a("m/L8").f;var p=a("4WOD");var h=a("0rvr");var v=a("tiKp");var m=a("kOOl");var f=n.Int8Array;var b=f&&f.prototype;var g=n.Uint8ClampedArray;var y=g&&g.prototype;var _=f&&p(f);var w=b&&p(b);var x=Object.prototype;var S=x.isPrototypeOf;var k=v("toStringTag");var C=m("TYPED_ARRAY_TAG");var P=i&&!!h&&l(n.opera)!=="Opera";var T=false;var V;var A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};var E=function e(t){var a=l(t);return a==="DataView"||o(A,a)};var I=function(e){return r(e)&&o(A,l(e))};var D=function(e){if(I(e))return e;throw TypeError("Target is not a typed array")};var O=function(e){if(h){if(S.call(_,e))return e}else for(var t in A)if(o(A,V)){var a=n[t];if(a&&(e===a||S.call(a,e))){return e}}throw TypeError("Target is not a typed array constructor")};var L=function(e,t,a){if(!s)return;if(a)for(var i in A){var r=n[i];if(r&&o(r.prototype,e)){delete r.prototype[e]}}if(!w[e]||a){c(w,e,a?t:P&&b[e]||t)}};var B=function(e,t,a){var i,r;if(!s)return;if(h){if(a)for(i in A){r=n[i];if(r&&o(r,e)){delete r[e]}}if(!_[e]||a){try{return c(_,e,a?t:P&&f[e]||t)}catch(e){}}else return}for(i in A){r=n[i];if(r&&(!r[e]||a)){c(r,e,t)}}};for(V in A){if(!n[V])P=false}if(!P||typeof _!="function"||_===Function.prototype){_=function e(){throw TypeError("Incorrect invocation")};if(P)for(V in A){if(n[V])h(n[V],_)}}if(!P||!w||w===x){w=_.prototype;if(P)for(V in A){if(n[V])h(n[V].prototype,w)}}if(P&&p(y)!==w){h(y,w)}if(s&&!o(w,k)){T=true;u(w,k,{get:function(){return r(this)?this[C]:undefined}});for(V in A)if(n[V]){d(n[V],C,V)}}e.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:T&&C,aTypedArray:D,aTypedArrayConstructor:O,exportTypedArrayMethod:L,exportTypedArrayStaticMethod:B,isView:E,isTypedArray:I,TypedArray:_,TypedArrayPrototype:w}},"6MXf":function(e,t,a){"use strict";var i=a("UfW7");var s=a.n(i);var n=s.a},"6Sf0":function(e,t,a){"use strict";var i=a("Wqj1");var s=a.n(i);var n=s.a},"6Xor":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".recipients-box[data-v-5c0a9282]{width:100%;height:auto;max-height:150px;border:1px solid #a9b0c9;border-radius:4px;overflow-x:auto;overflow-y:auto;padding:4px 8px 8px;box-sizing:border-box;position:relative}.recipients-box[data-v-5c0a9282]:hover{border-color:#5e5cfa}.recipients-box .vy-tag[data-v-5c0a9282]{margin-right:6px;margin-top:4px}.recipients-box-disabled[data-v-5c0a9282]{pointer-events:none;opacity:.5}.recipients-box.recipients-box-focused[data-v-5c0a9282]{box-shadow:0 0 0 2px #bfc4ff;border-color:#bfc4ff}.recipient-input[data-v-5c0a9282]{font-size:12px;margin:0}.recipient-input[data-v-5c0a9282] .vy-input__container--focus{box-shadow:none}.hidden-emails[data-v-5c0a9282]{height:0;opacity:0;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;position:absolute;white-space:nowrap}.input-emails[data-v-5c0a9282]{display:inline-block;width:auto;z-index:1;border:0;box-shadow:none;margin-top:6px;padding:0;min-width:10px;max-width:100%}.input-emails[data-v-5c0a9282] .vy-input__container{height:100%;border:none;box-shadow:none!important}.input-emails[data-v-5c0a9282] .vy-input__inner{padding:0 0 4px}.input-emails input[data-v-5c0a9282]{border:0;box-shadow:none;padding:0;min-width:150px;max-width:100%}",""]);e.exports=s},"6gaV":function(e,t,a){var i=a("631N");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("45b233d9",i,false,{});if(false){}},"6n2Y":function(e,t,a){var i=a("WoDU");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("afad2f46",i,false,{});if(false){}},"721z":function(e,t,a){"use strict";var i=a("HKam");var s=a.n(i);var n=s.a},"78bL":function(e,t,a){"use strict";var i="srt";var s={toMilliseconds:function(e){var t=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(e);var a=parseInt(t[1]);var i=parseInt(t[2]);var s=parseInt(t[3]);var n=t[5]?parseInt(t[5]):0;var r=a*3600*1e3+i*60*1e3+s*1e3+n;return r},toTimeString:function(e){var t=Math.floor(e/1e3/3600);var a=Math.floor(e/1e3/60%60);var i=Math.floor(e/1e3%60);var s=Math.floor(e%1e3);var n=(t<10?"0":"")+t+":"+(a<10?"0":"")+a+":"+(i<10?"0":"")+i+","+(s<100?"0":"")+(s<10?"0":"")+s;return n}};function n(e,t){var a=[];var i=t.eol||"\r\n";var n=e.split(/\r?\n\s+\r?\n/g);for(var r=0;r<n.length;r++){var o=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*\-\-\>\s*(\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi;var l=o.exec(n[r]);if(l){var d={};d.type="caption";d.index=parseInt(l[1]);d.start=s.toMilliseconds(l[2]);d.end=s.toMilliseconds(l[4]);d.duration=d.end-d.start;var c=l[6].split(/\r?\n/);d.content=c.join(i);d.text=d.content.replace(/\<[^\>]+\>/g,"").replace(/\{[^\}]+\}/g,"").replace(/\>\>\s*[^:]*:\s*/g,"");a.push(d);continue}if(t.verbose){console.log("WARN: Unknown part",n[r])}}return a}function r(e,t){var a="";var i=t.eol||"\r\n";for(var n=0;n<e.length;n++){var r=e[n];if(typeof r.type==="undefined"||r.type=="caption"){a+=(n+1).toString()+i;a+=s.toTimeString(r.start)+" --\x3e "+s.toTimeString(r.end)+i;a+=r.text+i;a+=i;continue}if(t.verbose){console.log("SKIP:",r)}}return a}function o(e){if(typeof e==="string"){if(/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?\s*\-\-\>\s*\d{1,2}:\d{1,2}:\d{1,2}([.,]\d{1,3})?/g.test(e)){return i}}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},"7Cno":function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));a.d(t,"b",(function(){return p}));var i=a("5s+n");var s=a("3bBZ");var n=a("/Dqt");var r={listBatches:(e,t,a)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/batches").concat(a?"?continuation_token=".concat(encodeURIComponent(a)):""),responseSchema:["batches","continuation_token"],nonRetryableErrors:[]}),getBatch:(e,t,a)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/batches/").concat(a),responseSchema:["batch_uuid","title","status","error","uploaded","url"],nonRetryableErrors:[]}),generateReport:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/batches/").concat(a,"/report"),responseSchema:["report_id"]})};var o=a("twEG");var l=a("nbMm");function d(e){if(!e.chapters_attributes||!e.chapters_attributes[0]||!e.chapters_attributes[0].video_attributes){return null}return e.chapters_attributes[0].video_attributes}function c(e,t){let a="";let i="";switch(e.status){case 401:a="Not signed in";i="Could not ".concat(t," because you have been logged out");break;case 403:a="Access denied";i="You do not have permissions to ".concat(t," for this video");break;case 404:a="Batches not found";i="Could not ".concat(t," for this personalized video");break;default:a="Server error";i="An error occurred while trying to ".concat(t);break}const s=new l["b"](i,{type:"error",icon:"times-circle",title:a});l["b"].show(s)}const{namespacedModule:u,moduleHelpers:p,moduleBuilder:h}=Object(n["a"])("videoEditPage/personalization",{state:{isLoading:true,batches:[],continuationToken:null},mutations:{$_beginLoading(e){e.isLoading=true},$_endLoading(e){e.isLoading=false},$_processBatch(e,t){const a=e.batches.find((e=>e.batch_uuid===t));if(a){a.status="processing"}},$_setContinuationToken(e,t){e.continuationToken=t},$_setDownloadBatches(e,t){e.batches=t}},actions:{async $_loadProcessingBatches({dispatch:e,state:t}){const a=t.continuationToken;let i=t.batches.filter((e=>e.status==="processing"));const s=5*1e3;const n=30*60*1e3;for(let r=0;r<n&&i.length>0&&a===t.continuationToken;r+=s){await Object(o["a"])(s);await Promise.all(i.map((t=>e("$_loadBatch",{batchUuid:t.batch_uuid}))));i=t.batches.filter((e=>e.status==="processing"))}},async $_loadBatch({commit:e,dispatch:t,state:a,rootState:i},{batchUuid:s}){const{id:n,organization_id:o}=d(i.playerModule.player);const l=r.getBatch(o,n,s);const u=await t("vyApi/sendApiRequest",l,{root:true});if(u.status===200){e("$_setDownloadBatches",a.batches.map((e=>{if(e.batch_uuid===s){return u.data}return e})))}else{c(u,"find batch ".concat(s))}},async loadBatches({commit:e,dispatch:t,state:a,rootState:i},{continuationToken:s}={}){e("$_beginLoading");const{id:n,organization_id:o}=d(i.playerModule.player);const l=r.listBatches(o,n,s);const u=await t("vyApi/sendApiRequest",l,{root:true});if(u.status===200){const{batches:i,continuation_token:n}=u.data;const r=s?a.batches:[];const o=r.concat(...i);e("$_setDownloadBatches",o);e("$_setContinuationToken",n);t("$_loadProcessingBatches")}else{c(u,"list batches")}e("$_endLoading")},async generateReport({commit:e,dispatch:t,state:a,rootState:i},{batchUuid:s}){const{id:n,organization_id:o}=d(i.playerModule.player);const l=r.generateReport(o,n,s);const u=await t("vyApi/sendApiRequest",l,{root:true});if(u.status===200){const i=a.batches.some((e=>e.status==="processing"));e("$_processBatch",s);if(!i){t("$_loadProcessingBatches")}}else{c(u,"generate a report")}}}})},"7amn":function(e,t,a){"use strict";var i=a("FKfD");var s=a.n(i);var n=s.a},"7kp6":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".metric-skeleton .placeholder{background-color:#ebf0f7}.metric-skeleton .skeleton-number{margin-top:4px;height:30px}",""]);e.exports=s},"7nXg":function(e,t,a){"use strict";var i=a("XUUH");var s=a.n(i);var n=s.a},"7r5J":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".sidebar-container[data-v-9fc20f9a]{height:100%;overflow-y:auto}.sidebar-container[data-v-9fc20f9a]>:not(:first-child){border-top:2px solid #ebf0f7}.vy-collapse[data-v-9fc20f9a] .vy-collapse__header{letter-spacing:1.5px;height:60px}.vy-collapse[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__title span{font-size:12px;font-weight:700}.vy-collapse[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__title span i{font-size:14px}.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__chevron,.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__chevron i,.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__chevron i svg,.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__title span,.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__title span i,.vy-collapse.active[data-v-9fc20f9a] .vy-collapse__header .vy-collapse__header__title span i svg{color:#5e5cfa}.vy-collapse.singleton[data-v-9fc20f9a] .vy-collapse__header{grid-template-columns:1fr 0}.vy-collapse.singleton[data-v-9fc20f9a] .vy-collapse__header__chevron{display:none}.content-section[data-v-9fc20f9a]{padding:20px}",""]);e.exports=s},"8+xA":function(e,t,a){"use strict";var i=a("bKAB");var s=a.n(i);var n=s.a},"88PC":function(e,t,a){var i=a("LJPw");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("97af13ea",i,false,{});if(false){}},"88cA":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"[data-v-7da812fc] .vy-dialog__body{padding:0}.video-insights[data-v-7da812fc]{height:75vh;margin-top:-16px;overflow-x:hidden;display:flex}.video-insights .vy-card[data-v-7da812fc]{flex:1}.footer-button[data-v-7da812fc]{margin-left:auto}.dialog-footer[data-v-7da812fc]{display:flex;align-items:center}",""]);e.exports=s},"8EIn":function(e,t,a){"use strict";var i=a("oaSL");var s=a.n(i);var n=s.a},"8YsL":function(e,t,a){var i=a("IdiT");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("45088b48",i,false,{});if(false){}},"8g+4":function(e,t,a){"use strict";var i=a("88PC");var s=a.n(i);var n=s.a},"92Ci":function(e,t,a){"use strict";var i=a("9UbG");var s=a.n(i);var n=s.a},"9Cr1":function(e,t,a){e.exports=a.p+"no-comparable-data-7e34f79742de158c1df0244d4fbac051.svg"},"9QB7":function(e,t,a){var i=a("O1iR");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1083b391",i,false,{});if(false){}},"9UbG":function(e,t,a){var i=a("Mqc9");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3cf3bfa8",i,false,{});if(false){}},"9hHo":function(e,t,a){var i=a("IBvZ");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("6a092783",i,false,{});if(false){}},"9m6N":function(e,t,a){var i=a("sfGH");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2169012f",i,false,{});if(false){}},"9oGl":function(e,t,a){var i=a("FAoR");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2d2f0ae0",i,false,{});if(false){}},"9ois":function(e,t,a){var i=a("abAv");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0213b3a4",i,false,{});if(false){}},"9sj+":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".lightbox-code[data-v-cc0c7db8]{flex-direction:column;height:180px}.lightbox-code[data-v-cc0c7db8],.lightbox-code__size[data-v-cc0c7db8]{display:flex;justify-content:space-between}.lightbox-code__size[data-v-cc0c7db8]{margin-top:20px}.lightbox-code__size-controls[data-v-cc0c7db8]{display:flex}.lightbox-code__size-controls>*[data-v-cc0c7db8]{margin-left:20px;width:100px}",""]);e.exports=s},A8fG:function(e,t,a){"use strict";var i=a("i8rW");var s=a.n(i);var n=s.a},ADDm:function(e,t,a){var i=a("ssN6");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("8306b164",i,false,{});if(false){}},ASuD:function(e,t,a){"use strict";var i=a("gCr6");var s=a.n(i);var n=s.a},Al5X:function(e,t,a){"use strict";var i=a("TeML");var s=a.n(i);var n=s.a},AnOx:function(e,t,a){e.exports=a.p+"linkedin-message-127f54afb323f834b7e86e2612bc0e02.svg"},AqYK:function(e,t,a){e.exports=a.p+"linkedin-feed-32ea239ac029c612498ec631a9780ae0.svg"},"Ar/Z":function(e,t,a){"use strict";t["a"]={get:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t)}),update:(e,t,a)=>({method:"PATCH",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t),data:a}),status:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/status")}),trim:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/trim"),data:a}),trimSlices:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/trim_slices"),data:{trim_slices:a}}),deleteTrimSlices:(e,t)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/trim_slices")})}},Avfd:function(e,t,a){"use strict";a.d(t,"h",(function(){return i}));a.d(t,"d",(function(){return s}));a.d(t,"e",(function(){return n}));a.d(t,"b",(function(){return r}));a.d(t,"g",(function(){return o}));a.d(t,"a",(function(){return l}));a.d(t,"c",(function(){return d}));a.d(t,"f",(function(){return u}));a.d(t,"i",(function(){return p}));const i="updating";const s="pushed";const n="pushing";const r="failed";const o="syncing";const l="checking_sync_status";const d="out_of_sync";const c="";const u={CREATED:"CREATED",WAITING_TO_PREPARE:"WAITING_TO_PREPARE",PREPARING:"PREPARING",FAILED_TO_PREPARE:"FAILED_TO_PREPARE",READY_TO_PUBLISH:"READY_TO_PUBLISH",WAITING_TO_PUBLISH:"WAITING_TO_PUBLISH",PUBLISHING:"PUBLISHING",FAILED_TO_PUBLISH:"FAILED_TO_PUBLISH",COMPLETE:"COMPLETE",UNLINKED:"UNLINKED"};const p=e=>[u.COMPLETE,u.FAILED_TO_PREPARE,u.FAILED_TO_PUBLISH].includes(e)},BNVX:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".container[data-v-24b6f1ef]{display:flex;width:100%;align-items:center;padding-left:0}.container .icon[data-v-24b6f1ef]{margin-right:8px;max-width:30px}.placeholderWrapper[data-v-24b6f1ef]{flex:auto}.table td[data-v-24b6f1ef]{vertical-align:middle;padding:8px 10px}.placeholder[data-v-24b6f1ef]{background-color:#ebf0f7}",""]);e.exports=s},CDkA:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".fb>div[data-v-6e52149e]{margin:32px 0}.fb>div[data-v-6e52149e]:first-child{margin-top:16px}.fb-blurb[data-v-6e52149e],.fb-blurb .fb-icon[data-v-6e52149e]{display:flex;align-items:center}.fb-blurb .fb-icon[data-v-6e52149e]{background-color:#3b5998;width:36px;height:36px;float:left;border-radius:4px;justify-content:center;margin-right:16px}.fb-blurb svg[data-v-6e52149e]{color:#fff;font-size:16px}.fb-connect[data-v-6e52149e]{display:flex;align-items:center;border-radius:4px;background-color:#f5f9ff;padding:16px}.fb-connect p[data-v-6e52149e]{flex:1;margin:0 16px 0 0}.fb-finalize[data-v-6e52149e]{text-align:center;margin:32px 0}.fb-finalize p[data-v-6e52149e]{margin-top:16px}",""]);e.exports=s},CInQ:function(e,t,a){"use strict";var i=a("URN4");var s=a.n(i);var n=s.a},CNgq:function(e,t,a){var i=a("3jRJ");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("93098d7a",i,false,{});if(false){}},CT1H:function(e,t,a){var i=a("RVsj");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0bcb48b2",i,false,{});if(false){}},CTfP:function(e,t,a){"use strict";var i=a("Vm7V");var s=a.n(i);var n=s.a},CUR7:function(e,t,a){var i=a("x0fN");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("b62436d6",i,false,{});if(false){}},CXEb:function(e,t,a){"use strict";var i=a("Z4fz");var s=a.n(i);var n=s.a},CYEu:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".shareable-embeds[data-v-10516331]{display:flex;flex-direction:column;height:180px}.shareable-embeds .section[data-v-10516331]{display:flex;justify-content:space-between;margin-top:20px}.shareable-embeds .section .sub-description[data-v-10516331]{font-size:12px}",""]);e.exports=s},Cedo:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".sortable-th.sortable-th[data-v-7bde79c1]{border-color:#ebf0f7;min-width:150px;padding:10px;white-space:nowrap}.squiggly-container[data-v-7bde79c1]{margin-left:8px;position:relative}@media (max-width:700px){.squiggly-container[data-v-7bde79c1]{display:none}}",""]);e.exports=s},Ch2X:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".request-dialog-scaffold .controls[data-v-97225b8e]{display:flex;align-content:flex-start;margin-top:4px;margin-bottom:4px}.request-dialog-scaffold .controls .request-type[data-v-97225b8e]{width:100%;margin-right:12px;margin-left:0}.request-dialog-scaffold .controls .request-type[data-v-97225b8e] .vy-button{width:100%}.request-dialog-scaffold .controls .request-type[data-v-97225b8e] .window{width:100%;margin-bottom:12px}.request-dialog-scaffold .controls .request-type[data-v-97225b8e] .drop-down{max-height:200px;overflow-y:scroll;overflow-x:hidden;padding-bottom:12px}.request-dialog-scaffold .additional-notes-area[data-v-97225b8e],.request-dialog-scaffold .auto-caption-controls[data-v-97225b8e]{margin-top:12px}.request-dialog-scaffold .auto-caption-controls .auto-publish-option[data-v-97225b8e]{color:#606782}",""]);e.exports=s},"Cy5+":function(e,t,a){var i=a("YnOx");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("6e509a70",i,false,{});if(false){}},CyXQ:function(e,t,a){var i=a("ppGB");var s=a("UMSQ");e.exports=function(e){if(e===undefined)return 0;var t=i(e);var a=s(t);if(t!==a)throw RangeError("Wrong length or index");return a}},D1Uf:function(e,t,a){"use strict";var i=a("ZrGz");var s=a.n(i);var n=s.a},D2Pl:function(e,t,a){"use strict";var i="vtt";var s={toMilliseconds:function(e){var t=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(e);var a=t[1]?parseInt(t[1].replace(":","")):0;var i=parseInt(t[2]);var s=parseInt(t[3]);var n=t[5]?parseInt(t[5]):0;var r=a*3600*1e3+i*60*1e3+s*1e3+n;return r},toTimeString:function(e){var t=Math.floor(e/1e3/3600);var a=Math.floor(e/1e3/60%60);var i=Math.floor(e/1e3%60);var s=Math.floor(e%1e3);var n=(t<10?"0":"")+t+":"+(a<10?"0":"")+a+":"+(i<10?"0":"")+i+"."+(s<100?"0":"")+(s<10?"0":"")+s;return n}};function n(e,t){var a=1;var i=[];var n=t.eol||"\r\n";var r=e.split(/\r?\n\s+\r?\n/);for(var o=0;o<r.length;o++){var l=/^([^\r\n]+\r?\n)?((\d{1,2}:)?\d{1,2}:\d{1,2}([.,]\d{1,3})?)\s*\-\-\>\s*((\d{1,2}:)?\d{1,2}:\d{1,2}([.,]\d{1,3})?)\r?\n([\s\S]*)(\r?\n)*$/gi;var d=l.exec(r[o]);if(d){var c={};c.type="caption";c.index=a++;if(d[1]){c.cue=d[1].replace(/[\r\n]*/gi,"")}c.start=s.toMilliseconds(d[2]);c.end=s.toMilliseconds(d[5]);c.duration=c.end-c.start;var u=d[8].split(/\r?\n/);c.content=u.join(n);c.text=c.content.replace(/\<[^\>]+\>/g,"").replace(/\{[^\}]+\}/g,"");i.push(c);continue}var p=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(r[o]);if(!p){p=/^([A-Z]+)\s+([^\r\n]*)?$/.exec(r[o])}if(p){var c={};c.type="meta";c.name=p[1];if(p[3]){c.data=p[3]}i.push(c);continue}if(t.verbose){console.log("WARN: Unknown part",r[o])}}return i}function r(e,t){var a=t.eol||"\r\n";var i="WEBVTT"+a+a;for(var n=0;n<e.length;n++){var r=e[n];if(r.type=="meta"){if(r.name=="WEBVTT")continue;i+=r.name+a;i+=r.data?r.data+a:"";i+=a;continue}if(typeof r.type==="undefined"||r.type=="caption"){i+=(n+1).toString()+a;i+=s.toTimeString(r.start)+" --\x3e "+s.toTimeString(r.end)+a;i+=r.text+a;i+=a;continue}if(t.verbose){console.log("SKIP:",r)}}return i}function o(e){if(typeof e!=="string"){throw new Error("Expected string content!")}if(/^[\s\r\n]*WEBVTT\r?\n/g.test(e)){return"vtt"}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},DAkv:function(e,t,a){"use strict";var i=a("WPke");var s=a.n(i);var n=s.a},DPZZ:function(e,t,a){"use strict";var i="ssa";var s={toMilliseconds:function(e){var t=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(e);var a=t[1]?parseInt(t[1].replace(":","")):0;var i=parseInt(t[2]);var s=parseInt(t[3]);var n=t[5]?parseInt(t[5]):0;var r=a*3600*1e3+i*60*1e3+s*1e3+n*10;return r},toTimeString:function(e){var t=Math.floor(e/1e3/3600);var a=Math.floor(e/1e3/60%60);var i=Math.floor(e/1e3%60);var s=Math.floor(e%1e3/10);var n=t+":"+(a<10?"0":"")+a+":"+(i<10?"0":"")+i+"."+(s<10?"0":"")+s;return n}};function n(e,t){var a;var i=null;var n=[];var r=t.eol||"\r\n";var o=e.split(/\r?\n\s*\r?\n/);for(var l=0;l<o.length;l++){var d=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)(\r?\n)*$/gi;var c=d.exec(o[l]);if(c){var u=c[1];var p=c[2].split(/\r?\n/);for(var h=0;h<p.length;h++){var v=p[h];if(/^\s*;/.test(v)){continue}var m=/^\s*([^:]+):\s*(.*)(\r?\n)?$/.exec(v);if(m){if(u=="Script Info"){if(!a){a={};a.type="meta";a.data={};n.push(a)}var f=m[1].trim();var b=m[2].trim();a.data[f]=b;continue}if(u=="V4 Styles"||u=="V4+ Styles"){var f=m[1].trim();var b=m[2].trim();if(f=="Format"){i=b.split(/\s*,\s*/g);continue}if(f=="Style"){var g=b.split(/\s*,\s*/g);var y={};y.type="style";y.data={};for(var _=0;_<i.length&&_<g.length;_++){y.data[i[_]]=g[_]}n.push(y);continue}}if(u=="Events"){var f=m[1].trim();var b=m[2].trim();if(f=="Format"){i=b.split(/\s*,\s*/g);continue}if(f=="Dialogue"){var g=b.split(/\s*,\s*/g);var y={};y.type="caption";y.data={};for(var _=0;_<i.length&&_<g.length;_++){y.data[i[_]]=g[_]}y.start=s.toMilliseconds(y.data["Start"]);y.end=s.toMilliseconds(y.data["End"]);y.duration=y.end-y.start;y.content=y.data["Text"];function w(e,t,a){return e.split(t,a).join(t).length}var x=w(b,",",i.length-1)+1;y.content=b.substr(x);y.data["Text"]=y.content;y.text=y.content.replace(/\\N/g,r).replace(/\{[^\}]+\}/g,"");n.push(y);continue}}}}}if(t.verbose){console.log("WARN: Unknown part",o[l])}}return n}function r(e,t){var a=t.eol||"\r\n";var i=t.format=="ass";var n="";n+="[Script Info]"+a;n+="; Script generated by subsrt "+a;n+="ScriptType: v4.00"+(i?"+":"")+a;n+="Collisions: Normal"+a;n+=a;if(i){n+="[V4+ Styles]"+a;n+="Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding"+a;n+="Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0"+a}else{n+="[V4 Styles]"+a;n+="Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding"+a;n+="Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0"+a}n+=a;n+="[Events]"+a;n+="Format: "+(i?"Layer":"Marked")+", Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text"+a;for(var r=0;r<e.length;r++){var o=e[r];if(o.type=="meta"){continue}if(typeof o.type==="undefined"||o.type=="caption"){n+="Dialogue: "+(i?"0":"Marked=0")+","+s.toTimeString(o.start)+","+s.toTimeString(o.end)+",DefaultVCD, NTP,0000,0000,0000,,"+o.text.replace(/\r?\n/g,"\\N")+a;continue}if(t.verbose){console.log("SKIP:",o)}}return n}function o(e){if(typeof e!=="string"){throw new Error("Expected string content!")}if(/^[\s\r\n]*\[Script Info\]\r?\n/g.test(e)&&/[\s\r\n]*\[Events\]\r?\n/g.test(e)){return e.indexOf("[V4+ Styles]")>0?"ass":"ssa"}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},DVpS:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{modal:"",visible:e.visible,size:"small","data-testid":"youtubeDialog","sr-description":"Youtube sync settings"},on:{"update:visible":e.closeDialog}},[a("template",{slot:"title"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"title"},[e._v("\n      "+e._s(e.wizardContext)+" to YouTube\n    ")])]),e._v(" "),[a("div",{staticClass:"progress-indicator"},[a("VyProgress",{attrs:{"aria-label":"Youtube sync progress","round-percent":"",value:e.progress}})],1),e._v(" "),!e.loading&&!e.error.display?a("div",[a("SharePreview",{directives:[{name:"show",rawName:"v-show",value:!e.isLastStep,expression:"!isLastStep"}],attrs:{name:e.player.name,"share-link":e.player.description,"thumbnail-url":e.selectedThumbnailUrl}}),e._v(" "),a("keep-alive",[a(e.pages[e.currentPage].component,{tag:"component",attrs:{player:e.player,"is-initial-push":!e.selectedSocialPushId,"display-validation":e.displayValidation,"form-data":e.formData,"job-id":e.jobId,"current-selected-job-id":e.selectedSocialPushId,"previous-job":e.relatedSocialPush,categories:e.categories,"social-pushes":e.socialPushes},on:{continue:function(t){return e.goToNextPage()},valid:e.setCanProceed,footer:function(t){return e.pages[e.currentPage].displayFooter=t},error:e.handleError},model:{value:e.pages[e.currentPage].data,callback:function(t){e.$set(e.pages[e.currentPage],"data",t)},expression:"pages[currentPage].data"}})],1)],1):e.loading?a("VySpinner",{staticClass:"centered spinner",attrs:{type:"circle",indeterminate:"",diameter:50,status:"success"}}):e.error.display?a("YoutubeSyncError",{attrs:{message:e.error.message}}):e._e()],e._v(" "),a("template",{slot:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.pages[e.currentPage].displayFooter&&!e.error.display,expression:"pages[currentPage].displayFooter && !error.display"}],staticClass:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLastStep,expression:"!isLastStep"}]},[a("VyButton",{directives:[{name:"show",rawName:"v-show",value:e.currentPage>0,expression:"currentPage > 0"}],on:{click:function(t){return e.goToPrevPage()}}},[e._v("\n          Back\n        ")]),e._v(" "),a("VyButton",{attrs:{type:"primary",disabled:e.processingRequest},on:{click:function(t){return e.nextPageButtonHandler()}}},[e._v("\n          "+e._s(e.nextPageButtonText)+"\n        ")])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isLastStep,expression:"isLastStep"}],staticClass:"centered-buttons"},[a("VyButton",{directives:[{name:"show",rawName:"v-show",value:e.currentPage>0,expression:"currentPage > 0"}],on:{click:e.closeDialog}},[e._v("\n          Close\n        ")]),e._v(" "),a("VyButton",{attrs:{type:"primary"},on:{click:e.handleLocationClick}},[e._v("\n          View Locations Panel\n        ")])],1)])])],2)};var s=[];i._withStripped=true;var n=a("4Brf");var r=a("5s+n");var o=a("3bBZ");var l=a("nbMm");var d=a("MDNy");var c=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[(e.isInitialPush||e.hasBeenScheduled)&&e.hasYoutubeScheduling?a("div",[a("div",{staticClass:"section-header"},[e._v("\n      Schedule video and configure privacy\n    ")]),e._v(" "),a("div",{staticClass:"control"},[a("VyRadioGroup",{attrs:{vertical:true,size:"large"},model:{value:e.publishData.publishLater,callback:function(t){e.$set(e.publishData,"publishLater",t)},expression:"publishData.publishLater"}},[a("div",{staticClass:"radio-control primary-radio-control",class:{selected:!e.publishData.publishLater}},[a("VyRadio",{attrs:{"native-value":false}},[e._v("\n            Publish now\n            "),a("transition",{attrs:{name:"slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.publishData.publishLater,expression:"!publishData.publishLater"}],staticClass:"privacy-control"},[a("p",{staticClass:"sub-heading"},[e._v("\n                  Make your video "),a("b",[e._v("public")]),e._v(", "),a("b",[e._v("unlisted")]),e._v(", or "),a("b",[e._v("private")])]),e._v(" "),a("PrivacySelect",{model:{value:e.publishData.privacyState,callback:function(t){e.$set(e.publishData,"privacyState",t)},expression:"publishData.privacyState"}})],1)])],1)],1),e._v(" "),a("div",{staticClass:"radio-control primary-radio-control",class:{selected:e.publishData.publishLater}},[a("VyRadio",{staticClass:"schedule-control",attrs:{"native-value":true}},[e._v("\n            Schedule for later\n            "),a("transition",{attrs:{name:"slide"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.publishData.publishLater,expression:"publishData.publishLater"}]},[a("p",{staticClass:"sub-heading"},[e._v("\n                  Select a date to make your video "),a("b",[e._v("public")])]),e._v(" "),a("div",{staticClass:"publish-datepicker"},[a("VyDateTimePicker",{staticClass:"vy-datetime-picker",attrs:{"disable-past":"","initial-date":e.publishData.publishAt},on:{change:e.handleDateChange}}),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{placement:"top"},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n                      Set to local time zone ("+e._s((new Date).toLocaleString("en",{timeZoneName:"short"}).split(" ").pop())+")\n                    ")]},proxy:true}])},[e._v(" "),a("VyIcon",{attrs:{name:"faInfoCircle",type:"light"}})],1)],1),e._v(" "),e.displayValidation?a("span",{staticClass:"validation-error error",attrs:{role:"alert"}},[e._v("\n                  Please select a Date and Time\n                ")]):e._e(),e._v(" "),a("p",{staticClass:"sub-heading"},[e._v("\n                  Video will be "),a("b",[e._v("private")]),e._v(" before publishing\n                ")])])])],1)],1)])],1)]):a("div",{staticClass:"control"},[a("div",{staticClass:"privacy-container"},[a("div",{staticClass:"section-header"},[e._v("\n        Privacy\n      ")]),e._v(" "),a("PrivacySelect",{model:{value:e.publishData.privacyState,callback:function(t){e.$set(e.publishData,"privacyState",t)},expression:"publishData.privacyState"}})],1)])])};var u=[];c._withStripped=true;var p=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyRadioGroup",{attrs:{vertical:true,size:"large"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("VyRadio",{attrs:{"native-value":"private"}},[e._v("\n    Private\n    "),a("p",[e._v("Only you and people you choose can watch your YouTube video")])]),e._v(" "),a("VyRadio",{attrs:{"native-value":"unlisted"}},[e._v("\n    Unlisted\n    "),a("p",[e._v("Anyone with the video link can watch your YouTube video")])]),e._v(" "),a("VyRadio",{attrs:{"native-value":"public"}},[e._v("\n    Public\n    "),a("p",[e._v("Everyone can watch your YouTube video")])])],1)};var h=[];p._withStripped=true;var v={name:"PrivacySelect",components:{VyRadioGroup:l["H"],VyRadio:l["F"]},props:{value:{type:String,default:undefined,required:false}},data(){return{selected:this.value||"private"}},watch:{selected(e){this.$emit("input",e)},value(e){this.selected=e}}};var m=v;var f=a("zHCS");var b=a("KHd+");var g=Object(b["a"])(m,p,h,false,null,"68e3d30a",null);if(false){var y}g.options.__file="app/assets/components/share-dialog/youtube-push/wizard/PrivacySelect.vue";var _=g.exports;var w=a("IHRM");var x=a("Qfib");var S={name:"ScheduleVideo",components:{VyDateTimePicker:l["q"],VyRadio:l["F"],VyRadioGroup:l["H"],VyTooltip:l["U"],VyIcon:l["v"],PrivacySelect:_},props:{isInitialPush:{type:Boolean,required:true},formData:{type:Object,required:false,default:undefined},previousJob:{type:Object,required:false,default:()=>undefined},displayValidation:{type:Boolean,required:true}},data(){var e,t,a,i,s,n;const r=((e=this.previousJob)===null||e===void 0?void 0:e.vy_metadata.yt_publish_at)!==undefined;return{publishData:{privacyState:((t=this.formData)===null||t===void 0?void 0:t.privacyState)||(r?(a=this.previousJob)===null||a===void 0?void 0:(i=a.vy_metadata)===null||i===void 0?void 0:i.yt_privacy_status:"private"),publishLater:((s=this.formData)===null||s===void 0?void 0:s.publishLater)||r,publishAt:((n=this.formData)===null||n===void 0?void 0:n.publishAt)||(r?new Date(this.previousJob.vy_metadata.yt_publish_at):undefined)}}},computed:{...w["c"].mapGetters(["hasFeature"]),hasBeenScheduled(){var e;const t=(e=this.previousJob)===null||e===void 0?void 0:e.vy_metadata.yt_publish_at;return t&&new Date(t)>Date.now()},hasYoutubeScheduling(){return this.hasFeature("youtube_push_scheduling")}},watch:{publishData:{handler(e){if(e.publishLater){this.publishData.privacyState="private"}this.emitChange();this.validateDateChange(e)},deep:true}},created(){this.emitChange()},methods:{emitChange(){this.$emit("input",{...this.publishData})},handleDateChange(e){this.publishData.publishAt=e;this.validateDateChange(e)},validateDateChange(e){this.$emit("valid",!(e.publishLater&&!e.publishAt))}}};var k=S;var C=a("bd2R");var P=Object(b["a"])(k,c,u,false,null,"06946ffb",null);if(false){var T}P.options.__file="app/assets/components/share-dialog/youtube-push/wizard/ScheduleVideo.vue";var V=P.exports;var A=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("\n    Video details\n  ")]),e._v(" "),a("p",{staticClass:"dialog-description"},[e._v("\n    Your video will publish to YouTube with the following details.\n  ")]),e._v(" "),a("div",{staticClass:"control"},[a("VyInputV2",{attrs:{label:"Title","label-type":"fixed","max-length":100,required:""},model:{value:e.details.title,callback:function(t){e.$set(e.details,"title",t)},expression:"details.title"}})],1),e._v(" "),a("div",{staticClass:"control"},[a("VyInputV2",{attrs:{label:"Description","label-type":"fixed","max-length":5e3},model:{value:e.details.description,callback:function(t){e.$set(e.details,"description",t)},expression:"details.description"}})],1),e._v(" "),a("div",{staticClass:"control"},[a("label",{attrs:{for:"add-tag"}},[e._v("\n      Tags\n    ")]),e._v(" "),a("VyTagBox",{directives:[{name:"validate",rawName:"v-validate",value:"tags",expression:"'tags'"}],attrs:{id:"add-tag","data-vv-name":"tags",label:"Add Tag"},model:{value:e.details.tags,callback:function(t){e.$set(e.details,"tags",t)},expression:"details.tags"}}),e._v(" "),e.displayValidation?a("span",{staticClass:"tags-error",attrs:{role:"alert"}},[e._v("\n      "+e._s(e.errors.first("tags"))+"\n    ")]):e._e()],1),e._v(" "),a("div",{staticClass:"control"},[a("label",{attrs:{for:"youtube-sync-category"}},[e._v("\n      Category\n    ")]),e._v(" "),a("VyMenuRadio",{attrs:{id:"youtube-sync-category","labelled-by":"youtube-sync-category",icon:{name:"faCaretDown",type:"regular"},"menu-items":e.mappedCategories,selected:e.getSelectedCategory,"max-height":"300px","full-width":""},on:{select:e.setCategory}})],1),e._v(" "),a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Thumbnail"},model:{value:e.details.thumbnail,callback:function(t){e.$set(e.details,"thumbnail",t)},expression:"details.thumbnail"}},[e._v("\n      Copy thumbnail\n      "),a("VyTooltip",{attrs:{placement:"right"},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n          Publish this video with your thumbnail from Vidyard, or"),a("br"),e._v("unselect this setting to use a default thumbnail from"),a("br"),e._v("YouTube (or upload your own later)\n        ")]},proxy:true}])},[e._v(" "),a("VyIcon",{staticClass:"icon-padding",attrs:{name:"faInfoCircle",type:"light"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"control"},[e.hasCaptions?a("VyCheckbox",{attrs:{disabled:!e.containsValidCaptions,"aria-label":"Captions"},model:{value:e.details.captions,callback:function(t){e.$set(e.details,"captions",t)},expression:"details.captions"}},[e._v("\n      Copy captions\n      "),a("VyTooltip",{attrs:{placement:"right"},scopedSlots:e._u([e.containsValidCaptions?{key:"content",fn:function(){return[e._v("\n          Publish this video with captions from Vidyard, or unselect"),a("br"),e._v("this setting to add your own captions in YouTube later.\n        ")]},proxy:true}:{key:"content",fn:function(){return[e._v("\n          To copy captions from Vidyard, please ensure your "),a("br"),e._v("Captions are published on Vidyard. Captions in draft "),a("br"),e._v(" mode cannot be published to YouTube.\n        ")]},proxy:true}],true)},[e._v(" "),a("VyIcon",{staticClass:"icon-padding",attrs:{name:"faInfoCircle",type:"light"}})],1)],1):e._e()],1),e._v(" "),e.isDevelopment?a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Captions"},model:{value:e.details.mock,callback:function(t){e.$set(e.details,"mock",t)},expression:"details.mock"}},[e._v("\n      (Dev only) Mock Request\n      "),a("VyTooltip",{attrs:{placement:"top"},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n          This will mock a request to youtube. The video will not be published.\n        ")]},proxy:true}])},[e._v(" "),a("VyIcon",{staticClass:"icon-padding",attrs:{name:"faInfoCircle",type:"light"}})],1)],1)],1):e._e()])};var E=[];A._withStripped=true;var I=a("Kw5r");var D=a("e7F3");var O=a("GO2b");var L=a("XF5U");var B={data(){return{containsValidCaptions:true}},methods:{async setContainsValidCaptions(e){if(!e){this.containsValidCaptions=false;return}const{data:t}=await L["a"].captions(e);this.containsValidCaptions=(t||[]).some((e=>e.status==="published"))}}};var M=a("ioXw");D["a"].extend("tags",{getMessage:e=>"The ".concat(e," must not exceed the 500 character limit"),validate:e=>e.map((e=>e.includes(" ")?'"'.concat(e,'"'):e)).join(" ").length<500});I["a"].use(D["b"],{events:""});var z={name:"EditDetails",components:{VyCheckbox:l["m"],VyIcon:l["v"],VyInputV2:l["x"],VyMenuRadio:l["A"],VyTagBox:l["R"],VyTooltip:l["U"]},mixins:[B],props:{player:{type:Object,required:true,default:()=>({title:"",description:"",tags_attributes:[],chapters_attributes:[]})},displayValidation:{type:Boolean,required:true},formData:{type:Object,required:false,default:undefined},categories:{type:Array,required:true,default:()=>[]}},data(){var e,t,a,i,s,n,r;const o=this.player.name;const l=this.player.description||"";const d=this.player.tags_attributes.map((e=>e.name))||[];return{details:{title:((e=this.formData)===null||e===void 0?void 0:e.title)||o,description:((t=this.formData)===null||t===void 0?void 0:t.description)||l,tags:((a=this.formData)===null||a===void 0?void 0:a.tags)||d,captions:((i=this.formData)===null||i===void 0?void 0:i.captions)||false,category:((s=this.formData)===null||s===void 0?void 0:s.category)||(this.categories.length>0?this.categories[0].id:"1"),thumbnail:((n=this.formData)===null||n===void 0?void 0:n.thumbnail)||false,mock:((r=this.formData)===null||r===void 0?void 0:r.mock)||false}}},computed:{...w["c"].mapGetters(["hasFeature"]),...O["b"].mapState(["youtube"]),hasCaptions(){return this.hasFeature("transcriptions")},hasTagsAndDescriptions(){return this.hasFeature("video_description_and_tags")},mappedCategories(){return this.categories.map((e=>{var t;return{text:(t=e.snippet)===null||t===void 0?void 0:t.title}}))},getSelectedCategory(){return this.categories.length>0?{text:(this.categories.find((e=>e.id===this.details.category))||this.categories[0]).snippet.title}:{text:""}},isDevelopment(){return"production"==="development"},videoId(){var e,t;return(e=this.player)===null||e===void 0?void 0:(t=e.chapters_attributes[0])===null||t===void 0?void 0:t.video_id}},watch:{details:{handler(){this.emitChange();this.validate()},deep:true},containsValidCaptions(e){if(!e){this.details.captions=false}}},created(){this.emitChange();this.setContainsValidCaptions(this.videoId)},methods:{emitChange(){this.$emit("input",{...this.details})},setCategory(e){this.details.category=this.categories[e].id},validate(){this.$validator.validate().then((e=>{this.$emit("valid-input",e)}))}}};var F=z;var U=a("OX2J");var R=Object(b["a"])(F,A,E,false,null,"f2a38322",null);if(false){var j}R.options.__file="app/assets/components/share-dialog/youtube-push/wizard/EditDetails.vue";var q=R.exports;var N=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("\n    "+e._s(e.noTokens?"Connect":"Select")+" a YouTube account\n  ")]),e._v(" "),!e.loadingIntegrations&&e.noTokens?a("p",[e._v("\n    Connect a YouTube account to publish your video to.\n  ")]):!e.loadingIntegrations&&e.hasTokens?a("p",[e._v("\n    Select a YouTube account to publish your video to, or connect a new account.\n  ")]):e._e(),e._v(" "),a("br"),e._v(" "),a("div",[e._v("Connected YouTube Accounts")]),e._v(" "),a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.loadingIntegrations&&e.noTokens,expression:"loadingIntegrations && noTokens"}],staticClass:"radio-control"},[a("LoadingSkeleton",{staticClass:"vy-radio",attrs:{height:"40px"}})],1),e._v(" "),e.hasTokens?a("div",[a("VyRadioGroup",{directives:[{name:"show",rawName:"v-show",value:!e.loadingIntegrations,expression:"!loadingIntegrations"}],attrs:{vertical:"",size:"large"},model:{value:e.youtubeAccountIndex,callback:function(t){e.youtubeAccountIndex=t},expression:"youtubeAccountIndex"}},e._l(e.oauthTokens,(function(t,i){return a("div",{key:i,staticClass:"radio-control",class:{selected:i===e.youtubeAccountIndex}},[a("AccountSelectItem",{attrs:{token:t,"native-value":i,"has-previous-job":e.socialPushAccountTokensIds.includes(t.id)}})],1)})),0),e._v(" "),a("VyButton",{attrs:{loading:e.isConnecting,type:"secondary","full-width":"","text-align":"left"},on:{click:e.$refs.accountConnect.connectStart}},[a("VyIcon",{attrs:{slot:"icon",name:"faPlus",type:"regular"},slot:"icon"}),e._v("\n        Add Another Account\n      ")],1)],1):e._e()]),e._v(" "),a("AccountConnect",{directives:[{name:"show",rawName:"v-show",value:!e.loadingIntegrations&&e.noTokens,expression:"!loadingIntegrations && noTokens"}],ref:"accountConnect",attrs:{"display-platform-banner":false,"social-platform":"youtube","popup-height":600},on:{connecting:e.generateConnectUrl,connected:e.accountConnected}})],1)};var $=[];N._withStripped=true;var H=a("rDkq");var Y=a("P56O");var G=a("PF2z");var W=a("+eX4");var J=a("atsX");var Z=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyRadio",{staticClass:"account-radio",attrs:{"native-value":e.nativeValue,disabled:e.accountStatus.disabled}},[a("div",[a("div",{staticClass:"channel-user",class:{"no-sub-text":!e.token.data.name}},[e._v("\n      "+e._s(e.token.data.username)+" Channel\n    ")]),e._v(" "),e.token.data.name?a("div",{staticClass:"channel-name"},[e._v("\n      "+e._s(e.token.data.name)+"\n    ")]):e._e()]),e._v(" "),a("VyTooltip",{attrs:{placement:"top",show:e.accountStatus.icon!=="ready"},scopedSlots:e._u([e.accountStatus.tooltip?{key:"content",fn:function(){return[a("span",{domProps:{innerHTML:e._s(e.accountStatus.tooltip)}})]},proxy:true}:null],true)},[e._v(" "),a("VyStatus",{attrs:{status:e.accountStatus.icon,text:e.accountStatus.message}})],1)],1)};var K=[];Z._withStripped=true;var Q={name:"AccountSelectItem",components:{VyRadio:l["F"],VyTooltip:l["U"],VyStatus:l["L"]},props:{token:{type:Object,required:true,default:()=>({invalidated_at:undefined,data:{username:""}})},hasPreviousJob:{type:Boolean,required:true,default:false},nativeValue:{type:Number,required:true}},computed:{accountStatus(){if(this.token.invalidated_at){return this.status("error","Connection Error","Please ensure your YouTube <br /> token is properly set up.")}if(this.hasPreviousJob){return this.status("warning","You already published to this account","The same video cannot be published more <br /> than once to the same YouTube account.")}return this.status("ready","Ready",undefined)}},methods:{status(e,t,a){return{icon:e,message:t,tooltip:a,disabled:e!=="ready"}}}};var X=Q;var ee=a("/ItQ");var te=Object(b["a"])(X,Z,K,false,null,"854e26da",null);if(false){var ae}te.options.__file="app/assets/components/share-dialog/youtube-push/wizard/AccountSelectItem.vue";var ie=te.exports;var se={name:"AccountSelect",components:{VyButton:l["j"],VyIcon:l["v"],VyRadioGroup:l["H"],AccountConnect:W["a"],LoadingSkeleton:J["a"],AccountSelectItem:ie},props:{previousJob:{type:Object,required:false,default:()=>undefined},socialPushes:{type:Array,required:true,default:()=>[]}},data(){return{oauthTokens:[],isConnecting:false,loadingIntegrations:true,youtubeAccountIndex:undefined}},computed:{...O["b"].mapState(["youtube"]),...Y["c"].mapState(["organization"]),noTokens(){return this.oauthTokens.length===0},hasTokens(){return this.oauthTokens.length>0},previousJobTokenId(){var e;return(e=this.previousJob)===null||e===void 0?void 0:e.oauth_token_id},selectedYoutubeAccount(){return{youtubeAccount:this.oauthTokens[this.youtubeAccountIndex]}},isSelectedAccountValid(){return this.validateAccount(this.selectedYoutubeAccount.youtubeAccount)},socialPushAccountTokensIds(){return this.socialPushes.map((e=>e.oauth_token_id))}},watch:{youtubeAccountIndex(){this.emitChange()},oauthTokens:{handler(){if(!this.noTokens){this.emitDisplayFooter()}this.emitChange()},deep:true}},async created(){this.oauthTokens=await this.getValidOauthTokens(true);const e=this.oauthTokens.findIndex((e=>this.validateAccount(e)));if(e!==-1){this.youtubeAccountIndex=e}this.emitChange();this.loadingIntegrations=false},methods:{...G["b"].mapActions(["sendApiRequest"]),async getSignedRequestId(){const{signedRequest:{headers:e,url:t}}=this.youtube.connectAccount;return(await H["a"].post(t,{},{headers:e})).data.id},async generateConnectUrl(){let e;try{const e=await this.getSignedRequestId();const{redirectUrl:t}=this.youtube.connectAccount;const a="".concat(t,"?signed_request_id=").concat(e);this.$refs.accountConnect.$emit("connect-url",undefined,a)}catch(t){e={status:"failed"};this.$refs.accountConnect.$emit("connect-url",e)}},async selectAccount(){const e=[...this.oauthTokens];this.oauthTokens=await this.getValidOauthTokens(true);const t=this.oauthTokens.filter((({id:t})=>!e.some((({id:e})=>e===t))));if(t.length===1){const e=this.oauthTokens.findIndex((e=>e.id===t[0].id));if(e!==-1)this.youtubeAccountIndex=e}},async getValidOauthTokens(e=false){if(this.oauthTokens&&!e){return this.oauthTokens}try{const{headers:e,url:t}=this.youtube.accounts;const a=await H["a"].get(t,{headers:e});const i=a.data||[];return i}catch(e){if(e.response.status===403){this.$emit("error","Your session has expired.",e)}this.$emit("update:visible",false);return[]}},emitChange(){this.$emit("input",{...this.selectedYoutubeAccount});this.$emit("valid",this.isSelectedAccountValid)},emitDisplayFooter(){this.$emit("footer",true)},async accountConnected(){await this.selectAccount();if(this.oauthTokens.length===1){this.$emit("continue")}},validateAccount(e){return e!==undefined&&!e.invalidated_at&&!this.socialPushAccountTokensIds.includes(e.id)}}};var ne=se;var re=a("zGT/");var oe=Object(b["a"])(ne,N,$,false,null,"bf7f9a40",null);if(false){var le}oe.options.__file="app/assets/components/share-dialog/youtube-push/wizard/AccountSelect.vue";var de=oe.exports;var ce=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("p",{staticClass:"title"},[e._v("\n    Ready to publish your video?\n  ")]),e._v(" "),a("div",{staticClass:"image-block"},[a("img",{staticClass:"vidyard-logo",attrs:{src:e.VidyardLogo,alt:"Vidyard Logo"}}),e._v(" "),a("VyIcon",{attrs:{name:"faArrowRight",type:"regular"}}),e._v(" "),a("img",{staticClass:"youtube-logo",attrs:{src:e.YoutubeLogo,alt:"YouTube Logo"}})],1),e._v(" "),!e.formData.publishLater?a("p",{staticClass:"message"},[e._v("\n    Your video will be "+e._s(e.isInitialPush?"published":"synced")+" with a privacy setting of "+e._s(e.formData.privacyState)+".\n  ")]):a("p",{staticClass:"message"},[e._v("\n    Your video is scheduled to publish on "+e._s(e.formattedDate)+". It will have a privacy setting of "+e._s(e.formData.privacyState)+".\n  ")]),e._v(" "),e._m(0)])};var ue=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",{staticClass:"publish-notice"},[e._v("\n    By publishing this video to the YouTube platform, you agree to abide by the "),a("a",{attrs:{href:"https://www.youtube.com/t/terms"}},[e._v("YouTube Terms of Service")])])}];ce._withStripped=true;var pe=a("A3GR");var he=a.n(pe);var ve=a("/ggy");var me=a.n(ve);var fe=a("IdCL");var be={name:"PublishOptions",components:{VyIcon:l["v"]},props:{isInitialPush:{type:Boolean,required:true,default:false},formData:{type:Object,required:true,default(){return{publishLater:false,publishAt:new Date,privacyState:"private"}}}},data(){return{VidyardLogo:he.a,YoutubeLogo:me.a}},computed:{formattedDate(){return Object(fe["f"])(this.formData.publishAt)}}};var ge=be;var ye=a("koWL");var _e=Object(b["a"])(ge,ce,ue,false,null,"005f49e8",null);if(false){var we}_e.options.__file="app/assets/components/share-dialog/youtube-push/wizard/ConfirmPublish.vue";var xe=_e.exports;var Se=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",{staticClass:"title"},[e._v("\n    Video details\n  ")]),e._v(" "),a("div",{staticClass:"description"},[e._v("\n    Select which video details you want to publish to YouTube.\n  ")]),e._v(" "),a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Title"},model:{value:e.syncOptions.title,callback:function(t){e.$set(e.syncOptions,"title",t)},expression:"syncOptions.title"}},[e._v("\n      Copy title\n    ")])],1),e._v(" "),e.hasDescriptionAndTags?a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Description"},model:{value:e.syncOptions.description,callback:function(t){e.$set(e.syncOptions,"description",t)},expression:"syncOptions.description"}},[e._v("\n      Copy description\n    ")])],1):e._e(),e._v(" "),e.hasDescriptionAndTags?a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Tags"},model:{value:e.syncOptions.tags,callback:function(t){e.$set(e.syncOptions,"tags",t)},expression:"syncOptions.tags"}},[e._v("\n      Copy tags\n    ")])],1):e._e(),e._v(" "),a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{"aria-label":"Thumbnail"},model:{value:e.syncOptions.thumbnail,callback:function(t){e.$set(e.syncOptions,"thumbnail",t)},expression:"syncOptions.thumbnail"}},[e._v("\n      Copy thumbnail\n    ")])],1),e._v(" "),e.hasCaptions?a("div",{staticClass:"control"},[a("VyCheckbox",{attrs:{disabled:!e.containsValidCaptions,"aria-label":"Captions"},model:{value:e.syncOptions.captions,callback:function(t){e.$set(e.syncOptions,"captions",t)},expression:"syncOptions.captions"}},[e._v("\n      Copy captions\n      "),!e.containsValidCaptions?a("VyTooltip",{attrs:{placement:"right"},scopedSlots:e._u([{key:"content",fn:function(){return[e._v("\n          To copy captions from Vidyard, please ensure your "),a("br"),e._v("Captions are published on Vidyard. Captions in draft "),a("br"),e._v(" mode cannot be published to YouTube.\n        ")]},proxy:true}])},[e._v(" "),a("VyIcon",{staticClass:"icon-padding",attrs:{name:"faInfoCircle",type:"light"}})],1):e._e()],1)],1):e._e()])};var ke=[];Se._withStripped=true;var Ce={name:"SyncOptions",components:{VyCheckbox:l["m"],VyTooltip:l["U"],VyIcon:l["v"]},mixins:[B],props:{player:{type:Object,required:true},categories:{type:Array,required:true,default:()=>[]}},data(){return{syncOptions:{title:true,description:true,tags:true,thumbnail:true,captions:true}}},computed:{...w["c"].mapGetters(["hasFeature"]),details(){return{title:this.syncOptions.title?this.player.name:undefined,description:this.syncOptions.description&&this.hasDescriptionAndTags?this.player.description:undefined,tags:this.syncOptions.tags&&this.hasDescriptionAndTags?this.player.tags_attributes.map((e=>e.name)):undefined,captions:this.syncOptions.captions&&this.hasCaptions?true:undefined,thumbnail:this.syncOptions.thumbnail?true:undefined}},hasDescriptionAndTags(){return this.hasFeature("video_description_and_tags")},hasCaptions(){return this.hasFeature("transcriptions")},videoId(){var e,t;return(e=this.player)===null||e===void 0?void 0:(t=e.chapters_attributes[0])===null||t===void 0?void 0:t.video_id}},watch:{syncOptions:{handler(){this.emitChange()},deep:true},containsValidCaptions(e){if(!e){this.syncOptions.captions=false}}},created(){this.emitChange();this.setContainsValidCaptions(this.videoId)},methods:{emitChange(){this.$emit("input",{...this.details})},setCategory(e){this.syncOptions.category=this.categories[e].id}}};var Pe=Ce;var Te=a("5E4h");var Ve=Object(b["a"])(Pe,Se,ke,false,null,"fb1278cc",null);if(false){var Ae}Ve.options.__file="app/assets/components/share-dialog/youtube-push/wizard/SyncOptions.vue";var Ee=Ve.exports;var Ie=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.polling?a("div",{staticClass:"main-contents"},[a("svg",{staticClass:"checkmark-image",attrs:{alt:"Checkmark"}}),e._v(" "),a("div",{staticClass:"headline"},[e._v("\n    Congratulations! "+e._s(e.formData.publishLater?"Your video is scheduled to be published.":"Your video has been "+(e.isInitialPush?"published":"synced")+".")+"\n  ")]),e._v(" "),a("p",{staticClass:"description"},[e._v("\n    Sharing is caring, keep up the great work.\n  ")])]):a("div",{staticClass:"main-contents"},[a("VySpinner",{staticClass:"spinner",attrs:{type:"circle",indeterminate:"",diameter:50}}),e._v(" "),a("div",{staticClass:"headline"},[e._v("\n    "+e._s(e.isInitialPush?"Publishing":"Syncing")+" your video...\n  ")]),e._v(" "),e._m(0)],1)};var De=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",{staticClass:"description"},[e._v("\n    You can view the status of the upload by visiting your Locations Panel. "),a("br"),e._v("\n    Feel free to leave this screen while you wait.\n  ")])}];Ie._withStripped=true;var Oe=a("Avfd");const Le=1e3;var Be={name:"PublishComplete",components:{VySpinner:l["K"]},props:{jobId:{type:Number,required:true},isInitialPush:{type:Boolean,required:true},playerUuid:{type:String,required:true},categories:{type:Array,required:true,default:()=>[]},formData:{type:Object,required:true,default(){return{publishLater:false}}}},data(){return{polling:true,interval:undefined,pollingCount:0}},computed:{...O["b"].mapState(["youtube"]),...Y["c"].mapState({currentOrganizationId:e=>e.organization.id,currentAccountId:e=>e.organization.accountId}),heapEventDetails(){return{title:this.formData.title?"true":"false",description:this.formData.description?"true":"false",tags:this.formData.tags?"true":"false",category:this.formData.category||(this.categories.length>0?this.categories[0].id:"1")}}},created(){if(this.formData.publishLater){this.polling=false}else{this.pollStatus()}},beforeDestroy(){clearInterval(this.interval)},methods:{...Y["c"].mapActions(["sendHeapEvent"]),checkStatus(){const e={headers:this.youtube.pushJobs.headers};const t="".concat(this.youtube.pushJobs.url,"/").concat(this.jobId,"/status");return H["a"].get(t,e)},isEditPlayerView(){return location.pathname.includes("/players/".concat(this.playerUuid))},sendCustomHeapEvent(e){this.sendHeapEvent({eventName:"Successful - Initial YouTube Sync",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid,title_edited:this.heapEventDetails.title,description_edited:this.heapEventDetails.description,tags_edited:this.heapEventDetails.tags,copy_thumbnail:this.formData.thumbnail,copy_captions:this.formData.captions,category:(this.categories.find((e=>e.id===this.heapEventDetails.category))||this.categories[0]).snippet.title,privacy:this.formData.privacyState,scheduled:this.formData.publishLater,triggered_location:e}})},async pollStatus(){try{const e=await this.checkStatus();if(e.data.status===Oe["f"].COMPLETE){this.polling=false;if(this.isInitialPush&&this.isEditPlayerView()){this.sendCustomHeapEvent("sharing_sidebar")}else if(this.isInitialPush&&!this.isEditPlayerView()){this.sendCustomHeapEvent("sharing_modal")}else{this.sendHeapEvent({eventName:"Successful - Subsequent YouTube Sync",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid,copy_title:this.heapEventDetails.title,copy_description:this.heapEventDetails.description,copy_tags:this.heapEventDetails.tags,copy_thumbnail:this.formData.thumbnail,privacy:this.formData.privacyState}})}return}if(e.data.status===Oe["f"].FAILED_TO_PREPARE||e.data.status===Oe["f"].FAILED_TO_PUBLISH){this.polling=false;this.$emit("error","We could not publish your video.");return}this.pollingCount+=1;this.interval=setTimeout((()=>{this.pollStatus()}),Math.pow(2,this.pollingCount)*Le)}catch(e){this.$emit("error","Error retrieving YouTube push status",e)}}}};var Me=Be;var ze=a("I79s");var Fe=Object(b["a"])(Me,Ie,De,false,null,"2ca4757f",null);if(false){var Ue}Fe.options.__file="app/assets/components/share-dialog/youtube-push/wizard/PublishComplete.vue";var Re=Fe.exports;var je=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"error-view"},[a("div",{staticClass:"control"},[a("img",{attrs:{src:e.img,alt:"A hand holding an unplugged extension cord"}})]),e._v(" "),a("div",{staticClass:"title"},[e._v("\n    Oh Beep...\n  ")]),e._v(" "),a("p",[e._v("\n    "+e._s(e.message?e.message:"We've encountered some technical difficulties.")+" "),a("br"),e._v(" Let's try that one more time.\n  ")]),e._v(" "),a("div",{staticClass:"control"},[a("VyButton",{on:{click:e.refresh}},[e._v("\n      Refresh\n    ")])],1)])};var qe=[];je._withStripped=true;var Ne=a("5QCp");var $e=a.n(Ne);var He={name:"YoutubeSyncError",components:{VyButton:l["j"]},props:{message:{type:String,required:false,default:undefined}},data(){return{img:$e.a}},methods:{refresh(){window.location.reload()}}};var Ye=He;var Ge=a("hfar");var We=Object(b["a"])(Ye,je,qe,false,null,"ecce337a",null);if(false){var Je}We.options.__file="app/assets/components/share-dialog/youtube-push/wizard/YoutubeSyncError.vue";var Ze=We.exports;var Ke=a("IYjj");var Qe=a("G83Z");var Xe={name:"YoutubeSyncDialog",components:{ScheduleVideo:V,SharePreview:d["a"],VyButton:l["j"],VyDialog:l["r"],VyProgress:l["E"],YoutubeSyncError:Ze,VySpinner:l["K"]},props:{visible:{type:Boolean,required:true},playerUuid:{type:String,required:true},selectedSocialPushId:{type:Number,required:false,default:undefined}},data(){return{componentData:this.initialComponentData(),categories:[],socialPushes:[],currentPage:0,canProceed:true,displayValidation:false,error:{display:false,message:undefined},player:undefined,jobId:undefined,loading:true,processingRequest:false}},computed:{...Y["c"].mapState(["organization"]),...O["b"].mapState(["youtube"]),...Y["c"].mapState({currentOrganizationId:e=>e.organization.id,currentAccountId:e=>e.organization.accountId}),progress(){return Math.floor(100*((this.currentPage+1)/this.pages.length))},isLastStep(){return this.currentPage+1===this.pages.length},formData(){return this.pages.map((e=>e.data)).reduce(((e,t)=>({...e,...t})),{})},nextPageButtonText(){return this.pages[this.currentPage]===this.componentData.confirmPublish?"Continue to ".concat(this.wizardContext," Changes"):"Continue"},videoId(){var e,t;return(e=this.player)===null||e===void 0?void 0:(t=e.chapters_attributes[0])===null||t===void 0?void 0:t.video_id},relatedSocialPush(){var e,t;if(!((e=this.formData)===null||e===void 0?void 0:(t=e.youtubeAccount)===null||t===void 0?void 0:t.id)){if(this.selectedSocialPushId){return this.socialPushes.find((e=>e.id===this.selectedSocialPushId))}return}return this.socialPushes.find((e=>{var t;return e.oauth_token_id===((t=this.formData.youtubeAccount)===null||t===void 0?void 0:t.id)}))},selectedThumbnailUrl(){var e,t,a,i,s;const n=((e=this.player)===null||e===void 0?void 0:(t=e.chapters_attributes[0])===null||t===void 0?void 0:(a=t.video_attributes)===null||a===void 0?void 0:(i=a.current_thumbnail_attributes)===null||i===void 0?void 0:(s=i.url_versions)===null||s===void 0?void 0:s.normal)||"";return n.startsWith("//")?"https:".concat(n):n},pages(){let e=[this.componentData.publishOptions,this.componentData.confirmPublish,this.componentData.publishComplete];if(!this.selectedSocialPushId){e=[this.componentData.accountSelect,this.componentData.editDetails,...e]}else{var t;const a=this.socialPushes.find((e=>e.id===this.selectedSocialPushId));e=[a&&((t=a.provider_metadata)===null||t===void 0?void 0:t.youtube_id)?this.componentData.syncOptions:this.componentData.editDetails,...e]}return e},playerUrl(){return"/organizations/".concat(this.organization.id,"/players/").concat(this.playerUuid,"?edit=true")},isPlayerView(){return location.pathname.includes("/players/".concat(this.playerUuid))},viewLocations(){return this.isPlayerView?"#locations":"".concat(this.playerUrl,"#locations")},wizardContext(){return this.selectedSocialPushId?"Sync":"Publish"}},watch:{"formData.youtubeAccount":function(e){if((e===null||e===void 0?void 0:e.id)&&this.categories.length===0){this.getYoutubeCategories(e.id)}},visible(e){if(e){this.refresh()}}},async created(){await this.refresh()},methods:{...G["b"].mapActions(["sendApiRequest"]),...Ke["b"].mapActions(["loadYoutubePushes"]),...Y["c"].mapActions(["sendHeapEvent"]),goToPrevPage(){if(this.currentPage>0){this.currentPage-=1}},goToNextPage(){if(!this.canProceed){this.displayValidation=true;return}this.displayValidation=false;if(this.currentPage<this.pages.length-1){this.currentPage+=1}},async refresh(){this.loading=true;this.currentPage=0;this.canProceed=true;this.error.display=false;this.error.message=undefined;this.player=await this.loadPlayer();this.socialPushes=await this.loadJobs();this.componentData=this.initialComponentData();if(this.relatedSocialPush){this.getYoutubeCategories(this.relatedSocialPush.oauth_token_id)}this.loading=false},setCanProceed(e){this.canProceed=e},nextPageButtonHandler(){return this.pages[this.currentPage]===this.componentData.confirmPublish?this.syncVideo():this.goToNextPage()},async loadJobs(){const{headers:e,url:t}=this.youtube.pushJobs;try{var a;const i=await H["a"].get(t,{params:{video_id:this.videoId},headers:e});return(i===null||i===void 0?void 0:(a=i.data)===null||a===void 0?void 0:a.socialPushJobs)||[]}catch(e){this.handleError(undefined,e)}},async loadPlayer(){const e=await this.sendApiRequest(Qe["a"].get(this.organization.id,this.playerUuid,["video_thumbnails","tags"]));return e.data},async syncVideo(){this.processingRequest=true;const e={video_id:this.videoId,category_id:this.formData.category,title:this.formData.title,privacy:this.formData.privacyState,description:this.formData.description,sync_captions:this.formData.captions,tags:JSON.stringify(this.formData.tags)};if(!this.selectedSocialPushId){e.channel_id=this.formData.youtubeAccount.social_account_id;e.oauth_token_id=parseInt(this.formData.youtubeAccount.id,10)}if(this.formData.publishLater){e.publish_at=this.formData.publishAt.toISOString()}if(this.formData.thumbnail){e.thumbnail_url=this.selectedThumbnailUrl}if(false){}const{headers:t,url:a}=this.youtube.pushJobs;try{if(this.relatedSocialPush){e.job_id=this.relatedSocialPush.id;this.jobId=this.relatedSocialPush.id;await H["a"].patch(a,e,{headers:t})}else{const i=await H["a"].post(a,e,{headers:t});this.jobId=i.data.id}}catch(e){this.handleError("We could not ".concat(this.wizardContext.toLowerCase()," your video"),e);return}finally{this.processingRequest=false}this.goToNextPage()},async getYoutubeCategories(e){const t=async()=>{const{headers:t,url:a}=this.youtube.youtubeCategories;const i={regionCode:"US",youtubeAccountId:e};const s=await H["a"].get(a,{params:i,headers:t});return s.data||{items:[]}};try{const e=await t();this.categories=e.items}catch(e){this.handleError("Unable to load youtube categories.",e)}},handleError(e,t){this.error.display=true;this.error.message=e;this.$rollbar.error("Unexpected error with YouTubeSyncDialog",t)},handleLocationClick(){this.$emit("update:visible",false);if(this.isPlayerView){this.loadYoutubePushes()}location.href=this.viewLocations},closeDialog(){this.loadYoutubePushes();this.$emit("update:visible",false);if(!this.selectedSocialPushId){this.sendHeapEvent({eventName:"Cancelled - Initial YouTube Sync",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid,dropoff_location:this.pages[this.currentPage].heapName}})}else{this.sendHeapEvent({eventName:"Cancelled - Subsequent YouTube Sync",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid,dropoff_location:this.pages[this.currentPage].heapName}})}},initialComponentData(){return{accountSelect:{component:de,displayFooter:false,data:{},heapName:"Select YouTube Account"},syncOptions:{component:Ee,displayFooter:true,data:{},heapName:"Select Video Details to Copy"},editDetails:{component:q,displayFooter:true,data:{},heapName:"Edit Video Details"},publishOptions:{component:V,displayFooter:true,data:{},heapName:"Set Schedule and Privacy"},confirmPublish:{component:xe,displayFooter:true,data:{},heapName:"Confirm Sync"},publishComplete:{component:Re,displayFooter:true,data:{}}}}}};var et=Xe;var tt=a("yykG");var at=Object(b["a"])(et,i,s,false,null,"0fe04ac6",null);if(false){var it}at.options.__file="app/assets/components/share-dialog/youtube-push/wizard/YoutubeSyncDialog.vue";var st=t["a"]=at.exports},Dbly:function(e,t,a){"use strict";var i=a("X2br");var s=a.n(i);var n=s.a},DrgS:function(e,t,a){var i=a("OFk7");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("7f9f070e",i,false,{});if(false){}},Dur5:function(e,t,a){var i=a("gPd5");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("5f1c03c4",i,false,{});if(false){}},EJHZ:function(e,t,a){var i=a("4Yrz");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("9c7603d0",i,false,{});if(false){}},Egzw:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));function i(e){return e?e.origin==="blender"||e.origin==="replicator":false}},EnCi:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".edit-playlist[data-v-a3df8ef0]{grid-column:span 12;display:grid;grid-template-columns:100%;row-gap:40px}.edit-playlist__playlist-details[data-v-a3df8ef0]>:not(:first-child){margin-top:16px}",""]);e.exports=s},ErnU:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".sharing-icon-container[data-v-51099e5b]{display:flex;justify-content:space-between;align-items:stretch;margin:8px;color:#606782;padding-left:12px}.sharing-icon-container .wrapper-left[data-v-51099e5b]{display:flex;justify-content:flex-start;align-items:center}.sharing-icon-container .wrapper-left .text[data-v-51099e5b],.sharing-icon-container .wrapper-left .token-text[data-v-51099e5b]{font-size:14px}.sharing-icon-container .wrapper-left .token-text[data-v-51099e5b]{margin-left:32px}@media (max-width:899px){.sharing-icon-container .wrapper-left .token-text[data-v-51099e5b]{display:none}}.sharing-icon-container .wrapper-left .social-share-icon[data-v-51099e5b]{margin-right:8px}.sharing-icon-container .wrapper-right[data-v-51099e5b]{display:flex;justify-content:flex-end;align-items:center}.sharing-icon-container .sharing-item-menu-placeholder[data-v-51099e5b]{height:36px;width:36px}",""]);e.exports=s},EsEr:function(e,t,a){var i=a("ibYm");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("6b9adba4",i,false,{});if(false){}},Exsz:function(e,t,a){"use strict";var i=a("9m6N");var s=a.n(i);var n=s.a},F2AF:function(e,t,a){var i=a("3A41");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0689df7a",i,false,{});if(false){}},F5Zk:function(e,t,a){"use strict";var i=a("wNix");var s=a.n(i);var n=s.a},FAoR:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".responsive-embed-controls[data-v-6653a9cf]{display:flex;flex-direction:column;justify-content:space-between}.description[data-v-6653a9cf]{font-size:12px}.controls[data-v-6653a9cf]{display:flex;flex-direction:row;margin:12px 0}.controls>*+*[data-v-6653a9cf]{margin-left:8px}",""]);e.exports=s},FKfD:function(e,t,a){var i=a("mnX/");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("16f0c14c",i,false,{});if(false){}},FS8L:function(e,t,a){var i=a("Lz30");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("6ed16922",i,false,{});if(false){}},G69k:function(e,t,a){"use strict";var i=a("afd2");var s=a.n(i);var n=s.a},GC2F:function(e,t,a){var i=a("+M1K");e.exports=function(e,t){var a=i(e);if(a%t)throw RangeError("Wrong offset");return a}},"GJ+n":function(e,t,a){"use strict";var i="lrc";var s={toMilliseconds:function(e){var t=/^\s*(\d+):(\d{1,2})([.,](\d{1,3}))?\s*$/.exec(e);var a=parseInt(t[1]);var i=parseInt(t[2]);var s=t[4]?parseInt(t[4]):0;var n=a*60*1e3+i*1e3+s*10;return n},toTimeString:function(e){var t=Math.floor(e/1e3/60);var a=Math.floor(e/1e3%60);var i=Math.floor(e%1e3);var s=(t<10?"0":"")+t+":"+(a<10?"0":"")+a+"."+(i<100?"0":"")+(i<10?"0":Math.floor(i/10));return s}};function n(e,t){var a=null;var i=[];var n=t.eol||"\r\n";var r=e.split(/\r?\n/);for(var o=0;o<r.length;o++){if(!r[o]||r[o].trim().length==0){continue}var l=/^\[(\d{1,2}:\d{1,2}([.,]\d{1,3})?)\](.*)(\r?\n)*$/gi;var d=l.exec(r[o]);if(d){var c={};c.type="caption";c.start=s.toMilliseconds(d[1]);c.end=c.start+2e3;c.duration=c.end-c.start;c.content=d[3];c.text=c.content;i.push(c);if(a){a.end=c.start;a.duration=a.end-a.start}a=c;continue}var u=/^\[([\w\d]+):([^\]]*)\](\r?\n)*$/gi.exec(r[o]);if(u){var c={};c.type="meta";c.tag=u[1];if(u[2]){c.data=u[2]}i.push(c);continue}if(t.verbose){console.log("WARN: Unknown part",r[o])}}return i}function r(e,t){var a="";var i=false;var n=t.eol||"\r\n";for(var r=0;r<e.length;r++){var o=e[r];if(o.type=="meta"){if(o.tag&&o.data){a+="["+o.tag+":"+o.data.replace(/[\r\n]+/g," ")+"]"+n}continue}if(typeof o.type==="undefined"||o.type=="caption"){if(!i){a+=n;i=true}a+="["+s.toTimeString(o.start)+"]"+o.text+n;continue}if(t.verbose){console.log("SKIP:",o)}}return a}function o(e){if(typeof e==="string"){if(/\r?\n\[(\d+:\d{1,2}([.,]\d{1,3})?)\](.*)\r?\n/.test(e)){return true}}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},GYeE:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".mailer .error-alert[data-v-7c8d1e3a]{margin-bottom:20px}.mailer .error-message[data-v-7c8d1e3a]{font-size:12px;margin:0}.mailer label[data-v-7c8d1e3a]{color:#606782}.mailer .recipients-wrapper[data-v-7c8d1e3a]{margin-top:20px;display:flex;flex-direction:row;align-items:center}.mailer .recipients-wrapper label[data-v-7c8d1e3a]{margin-right:45px}.mailer .body-wrapper[data-v-7c8d1e3a]{margin:12px 0}.mailer .body-wrapper .rich-editor[data-v-7c8d1e3a]{height:auto}.mailer .mailer-description[data-v-7c8d1e3a]{font-size:12px;margin-bottom:8px}.mailer .from-address-box[data-v-7c8d1e3a]{background:#f5f9ff;height:40px;border-radius:4px;font-size:12px;display:flex}.mailer .from-address-box .from-label[data-v-7c8d1e3a]{font-weight:600;margin-right:4px}.mailer .from-address-box .connect-account[data-v-7c8d1e3a]{margin:0 8px}.mailer .from-address-box .from-connected[data-v-7c8d1e3a]{margin:0 16px}.mailer .from-address-box .connect-account[data-v-7c8d1e3a],.mailer .from-address-box .from-connected[data-v-7c8d1e3a]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}.mailer .from-address-box .connect-account .connect-arrow[data-v-7c8d1e3a],.mailer .from-address-box .from-connected .connect-arrow[data-v-7c8d1e3a]{transition:.25s}.mailer .from-address-box .connect-account:hover .connect-arrow[data-v-7c8d1e3a],.mailer .from-address-box .from-connected:hover .connect-arrow[data-v-7c8d1e3a]{transform:translate(75%)}.mailer .from-address-box .edit-link[data-v-7c8d1e3a]{cursor:pointer}.mailer .from-address-box .edit-link-disabled[data-v-7c8d1e3a]{color:#a9b0c9;cursor:not-allowed;pointer-events:none}.mailer .validation-error[data-v-7c8d1e3a]{font-size:12px;margin:8px 65px;color:#b4002d}.mailer .vy-input[data-v-7c8d1e3a]{margin:8px 0;align-items:baseline}",""]);e.exports=s},GhEK:function(e,t,a){var i=a("ZDYE");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("224eb9e4",i,false,{});if(false){}},GyRi:function(e,t,a){var i=a("1sCl");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3c89c91b",i,false,{});if(false){}},H2eV:function(e,t,a){"use strict";var i=a("uTlm");var s=a.n(i);var n=s.a},H58f:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("OptionButton",{staticClass:"push-video-option-button",attrs:{"description-body":"Video will play inline natively","description-title":"Share video on a Company Page that you manage",disabled:e.isConnectedAccountWithNoPushTargets},on:{click:function(t){return e.$emit("click")}},scopedSlots:e._u([{key:"image",fn:function(){return[e._t("image")]},proxy:true},e.isConnectedAccountWithNoPushTargets?{key:"description-body",fn:function(){return[a("VyIcon",{attrs:{slot:"icon",name:"faExclamationCircle"},slot:"icon"}),e._v("\n    The connected account does not have a Company Page\n  ")]},proxy:true}:null],true)})};var s=[];i._withStripped=true;var n=a("nbMm");var r=a("KVjs");var o={name:"PushVideoOptionButton",components:{OptionButton:r["a"],VyIcon:n["v"]},props:{hasAccounts:{type:Boolean,required:true},hasPushTargets:{type:Boolean,required:true}},computed:{isConnectedAccountWithNoPushTargets(){return this.hasAccounts&&!this.hasPushTargets}}};var l=o;var d=a("KHd+");var c=Object(d["a"])(l,i,s,false,null,null,null);if(false){var u}c.options.__file="app/assets/components/share-dialog/common/push-video-option-button.vue";var p=t["a"]=c.exports},HKam:function(e,t,a){var i=a("MbN0");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("ca45b0ba",i,false,{});if(false){}},HKrk:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"insights"},[!e.hasVideoInsightsFeature?a("VyBanner",{staticClass:"top-banner",attrs:{description:"Get insights on how your video content is performing",type:"success",closable:false}},[a("template",{slot:"ctaContent"},[a("UpgradeButton",{attrs:{"heap-event":"Video Insights banner upgrade button clicked",text:"Upgrade for Insights","aria-label":"Upgrade for Insights","upgrade-paths-variant":"insights"}})],1)],2):e._e(),e._v(" "),a("PqlBanner",{staticClass:"pro-upgrade-banner",attrs:{id:"pro-upgrade-pql","feature-name":"pqlp_video_insights",location:"video_insights"}}),e._v(" "),a("VyCard",{attrs:{heading:e.videoName,"full-height":""}},[e.hasVideoInsightsFeature?a("div",{staticClass:"time-filter-container"},[e._v("\n      "+e._s(e.dateRangeString)+"\n      "),a("TimeFilter",{staticClass:"time-filter",attrs:{filter:e.timeFilter},on:{change:e.handleTimeFilterChange}})],1):e._e(),e._v(" "),!e.hasAnalyticsCenterFeature?a("div",{staticClass:"metrics-wrapper"},[a("p",[e._v("\n        Understand how your video is engaging viewers\n      ")]),e._v(" "),a("div",{staticClass:"metrics"},e._l(e.items,(function(t){return a("Metric",{key:t.id,ref:t.id,refInFor:true,staticClass:"metrics-item",attrs:{heading:t.heading,type:t.type,data:e.metricData,theme:t.theme,dialog:t.dialog,"dialog-tip":t.dialogTip,"icon-name":t.iconName,"metric-identifier":"average",module:e.metricGroupModulePath,"video-id":e.videoId,status:e.metricsStatus,"video-length":e.videoLength,"demo-mode":!e.hasVideoInsightsFeature,"element-id":t.elementId,"data-testId":t.type+"-metric"},on:{"update:status":function(t){e.metricsStatus=t}}})})),1),e._v(" "),e.metricsStatus==="error"||e.metricsStatus==="unauthorized"?a("div",{staticClass:"metrics-error"},[a("VyIcon",{staticClass:"icon",attrs:{name:"faTimes",type:"solid"}}),e._v(" "),e.metricsStatus==="error"?a("p",[e._v("\n          We're having trouble loading your performance data.\n          "),a("a",{attrs:{href:"#"},on:{click:e.fetchMetrics}},[e._v("Try again.")])]):e.metricsStatus==="unauthorized"?a("p",[e._v("\n          It looks like your login session has expired. Please\n          "),a("a",{attrs:{href:"#"},on:{click:e.refreshPage}},[e._v("refresh")]),e._v(" the page.\n        ")]):e._e()],1):e._e()]):e._e(),e._v(" "),a("br"),e._v(" "),a("VyTabs",{attrs:{"disable-compact-view":"","data-testid":"tabs-list-wrapper"},on:{changed:e.tabChanged}},[a("VyTab",{ref:"totalViewsTab",attrs:{name:e.totalViewsName}}),e._v(" "),a("VyTab",{ref:"identifiedViewsTab",attrs:{name:e.identifiedViewsName}})],1),e._v(" "),a("ViewSessions",{ref:"totalViews",attrs:{type:e.viewType,"video-id":e.videoId,"demo-mode":!e.hasVideoInsightsFeature,"video-length":e.videoLength,"video-created-at":e.videoCreatedAt,"interval-start":e.intervalStart,"interval-end":e.intervalEnd,"edit-page-link":e.editPageLink}}),e._v(" "),a("br"),e._v(" "),e.showLegend&&e.hasVideoInsightsFeature?a("ViewSessionsLegend"):e._e(),e._v(" "),!e.hasVideoInsightsFeature?a("TipBox",{staticClass:"identity-tip-wrapper",attrs:{title:"Tip: Learning the identity of your viewers is 100% free!"}},[e._v("\n      When you send videos using the Email option on the Video Edit Page, we'll add a tracking token to the link so that you know whether your recipient watched the video.\n    ")]):e._e(),e._v(" "),!e.hasVideoInsightsFeature?a("VyBanner",{staticClass:"mobile-banner",attrs:{description:"Upgrade to sort views by email (alphabetically), time of watch, and percent watched",type:"success",closable:false}},[a("template",{slot:"ctaContent"},[a("UpgradeButton",{attrs:{"heap-event":"Video Insights banner upgrade button clicked",text:"Upgrade for Insights","aria-label":"Upgrade to Customize","upgrade-paths-variant":"insights"}})],1)],2):e._e()],1)],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("L2JU");var o=a("IHRM");var l=a("P56O");var d=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("label",{attrs:{id:"timeFilter"}},[a("VyMenuRadio",{staticClass:"dropdown",attrs:{id:"insights-date-dropdown","aria-label":"Performance stats date range selector","labelled-by":"timeFilter","menu-items":e.menuItems,selected:e.selectedTimeFilter,"data-testid":"insights-date-dropdown"},on:{select:e.handleSelect}})],1)};var c=[];d._withStripped=true;var u=a("nbMm");var p={name:"TimeFilter",components:{VyMenuRadio:u["A"]},props:{filter:{type:String,required:true}},data(){const e=[{text:"Today",id:"today"},{text:"Yesterday",id:"yesterday"},{text:"Last 7 Days",id:"last-7-days"},{text:"Last 30 Days",id:"last-30-days"},{text:"Last 90 Days",id:"last-90-days"},{text:"Last Year",id:"last-year"},{text:"Lifetime",id:"all-time"}];return{menuItems:e}},computed:{selectedTimeFilter(){return this.menuItems.find((e=>e.id===this.filter))}},methods:{...Object(r["d"])("vidyard",["sendHeapEvent"]),handleSelect(e){const t=this.menuItems[e].id;if(t!==this.filter){this.$emit("change",t);this.sendHeapEvent({eventName:"Video Insights date range changed",customOptions:{range:t}})}}}};var h=p;var v=a("kTRX");var m=a("KHd+");var f=Object(m["a"])(h,d,c,false,null,null,null);if(false){var b}f.options.__file="app/assets/components/analytics/TimeFilter.vue";var g=f.exports;var y=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{class:e.getCardClass,attrs:{"full-height":true}},[a("div",{staticClass:"metrics-container"},[a("MetricIcon",{class:e.demoMode?"demo-metric-icon":"metric-icon",attrs:{"icon-text":e.formatted.iconText,"icon-name":e.iconName,theme:e.getTheme,type:e.demoMode?"demo-icon":"default","aria-label":e.metricIconAriaLabel,role:"img","data-testid":e.type+"-metric-icon"}}),e._v(" "),a("div",{staticClass:"metric-information"},[a("div",{staticClass:"heading"},[e._v("\n        "+e._s(e.heading)+"\n        "),a("span",{class:{"metric-icon-cursor":!!e.dialog},attrs:{tabindex:"0","aria-label":"Open "+e.heading+" tooltip","data-testid":e.type+"-metric-open-tooltip-button"},on:{click:function(t){e.dialogVisible=true},keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}e.dialogVisible=true}}},[a("VyIcon",{attrs:{name:"faInfoCircle"}})],1)]),e._v(" "),a("div",{attrs:{"aria-live":"polite"}},[e.status==="loading"?a("Skeleton",{attrs:{"number-only":e.numberOnly}}):a("div",{class:{number:e.numberOnly},attrs:{"aria-label":e.heading+" "+e.formatted.aria}},[e.type==="video-play-rate"?a("span",{attrs:{"aria-hidden":"true"}},[a("span",{class:["bold",{"demo-text":e.demoMode}]},[e._v("\n              "+e._s(e.formatted.firstValue)+"\n            ")]),e._v(" "),a("span",[e._v("\n              "+e._s(e.formatted.descriptionFirstHalf)+"\n            ")]),e._v(" "),a("span",{class:["bold",{"demo-text":e.demoMode}]},[e._v("\n              "+e._s(e.formatted.secondValue)+"\n            ")]),e._v(" "),a("span",[e._v("\n              "+e._s(e.formatted.descriptionSecondHalf)+"\n            ")])]):e.type==="avg-watch-pct"?a("span",{attrs:{"aria-hidden":"true"}},[a("span",{class:["bold",{"demo-text":e.demoMode}]},[e._v("\n              "+e._s(e.formatted.firstValue)+"\n            ")]),e._v(" "),a("span",[e._v("\n              "+e._s(e.formatted.descriptionFirstHalf)+"\n            ")]),e._v(" "),a("span",{staticClass:"bold"},[e._v("\n              "+e._s(e.formatted.secondValue)+"\n            ")]),e._v(" "),a("span",[e._v("\n              "+e._s(e.formatted.descriptionSecondHalf)+"\n            ")])]):e.type==="action-clicks"?a("span",{class:["bold",{"demo-number":e.demoMode}]},[e._v("\n            "+e._s(e.formatted.firstValue)+"\n          ")]):e._e()])],1)])],1),e._v(" "),e.dialog?a("VyDialog",{attrs:{title:e.heading,visible:e.dialogVisible,"close-on-click-modal":true,"close-on-press-escape":true,"show-close":true,modal:true,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("p",{staticClass:"dialog-text"},[e._v("\n      "+e._s(e.dialog)+"\n    ")]),e._v(" "),a("TipBox",{attrs:{color:"turquoise"}},[e._v("\n      "+e._s(e.dialogTip)+"\n    ")])],1):e._e()],1)};var _=[];y._withStripped=true;var w=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{class:["metric-icon",e.type,e.getTheme],attrs:{"aria-label":e.ariaLabel}},[e.iconName?a("VyIcon",{attrs:{name:e.iconName,type:"regular"}}):a("div",{attrs:{"aria-hidden":"true"}},[e._v("\n    "+e._s(e.iconText)+"\n  ")])],1)};var x=[];w._withStripped=true;var S={name:"MetricIcon",components:{VyIcon:u["v"]},props:{iconText:{type:String,default:"",validator:e=>e.length<=4},theme:{type:String,default:"green",validator:e=>e.match(/(blue|green|loading|loading-icon|purple|turquoise|grey)/)},iconName:{type:String,default:""},type:{type:String,default:"default"},ariaLabel:{type:String,required:true}},computed:{getTheme(){if(this.theme==="loading"){return this.iconName?"loading-icon":"loading"}return this.theme}}};var k=S;var C=a("6Sf0");var P=Object(m["a"])(k,w,x,false,null,null,null);if(false){var T}P.options.__file="app/assets/components/analytics/metrics/metric-icon.vue";var V=P.exports;var A=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"metric-skeleton"},[e.numberOnly?a("Placeholder",{staticClass:"skeleton-number"}):a("div",[a("Placeholder"),e._v(" "),a("Placeholder")],1)],1)};var E=[];A._withStripped=true;var I=a("T5lZ");var D={name:"Skeleton",components:{Placeholder:I["a"]},props:{numberOnly:{type:Boolean,required:true}}};var O=D;var L=a("vnU3");var B=Object(m["a"])(O,A,E,false,null,null,null);if(false){var M}B.options.__file="app/assets/components/analytics/metrics/skeleton.vue";var z=B.exports;var F=a("wd/R");var U=a.n(F);var R=a("7CL+");var j={name:"Metric",components:{VyCard:u["k"],VyDialog:u["r"],VyIcon:u["v"],MetricIcon:V,Skeleton:z,TipBox:R["a"]},props:{heading:{type:String,required:true},type:{type:String,required:true},module:{type:String,required:true},metricIdentifier:{type:String,required:true},videoId:{type:String,required:true},videoLength:{type:Number,required:true},status:{type:String,default:undefined},data:{type:Object,required:true},theme:{type:String,required:true},iconName:{type:String,default:""},dialog:{type:String,default:""},dialogTip:{type:String,default:""},demoMode:{type:Boolean,required:true},elementId:{type:Number,default:0}},data(){return{dialogVisible:false}},computed:{params(){return{videoId:this.videoId,types:[this.type]}},metricError(){return this.status==="error"},getCardClass(){if(this.demoMode){return"demo-mode"}if(this.metricError){return"error"}return"default"},formatted(){let e="-%";let t="";let a="-";let i="";let s="";let n="";let r="";if(Object.keys(this.data).length>0){if(this.type==="video-play-rate"){const{total_views:o}=this.data;const{total_impressions:l}=this.data;const{video_play_rate:d}=this.data;if(o>l){this.$rollbar.error("Received metrics where views > impressions",{data:this.data})}i=o.toLocaleString();s=l.toLocaleString();n="total views from";r="video loads";t="".concat(i," ").concat(n," ").concat(s," ").concat(r);a=Math.min(Math.round(d*100),100);e="".concat(a,"%")}if(this.type==="avg-watch-pct"){const o=this.data.average_watch_time;const l=this.data.average_percent_watch_time;const{videoLength:d}=this;if(o>d){this.$rollbar.error("Received metrics where watchTime > videoLength",{data:this.data})}i=this.secondsToMinutes(o);s=this.secondsToMinutes(d);n="watched on average of your";r="video";t="".concat(i," ").concat(n," ").concat(s," ").concat(r);a=Math.min(Math.round(l*100),100);e="".concat(a,"%")}if(this.type==="action-clicks"){const e=this.data.total_action_clicks;i=e;t=i}}if(this.demoMode){switch(this.type){case"video-play-rate":i="";s="";n="total views from";r="video loads";t="".concat(i," ").concat(n," blank ").concat(r);break;case"avg-watch-pct":i="";s=this.secondsToMinutes(this.videoLength);n="watched on average of your";r="video";t="Blank ".concat(n," ").concat(s," ").concat(r);break;case"action-clicks":i="";t="Blank";break}e="X%"}if(this.metricError){i="-";s="-";e="-"}return{iconText:e,aria:t,firstValue:i,secondValue:s,descriptionFirstHalf:n,descriptionSecondHalf:r}},numberOnly(){return this.type==="action-clicks"},getTheme(){if(this.demoMode){return"grey"}if(this.status==="loading"){return"loading"}return this.theme},metricIconAriaLabel(){if(this.type==="action-clicks"){return"Action Clicks Icon"}return this.formatted.iconText}},methods:{secondsToMinutes(e){const t=e/60>60?"HH:mm:ss":"mm:ss";return U()(e*1e3).utc().format(t)}}};var q=j;var N=a("Al5X");var $=Object(m["a"])(q,y,_,false,null,null,null);if(false){var H}$.options.__file="app/assets/components/analytics/metrics/metric.vue";var Y=$.exports;var G=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticClass:"table-container",class:{"demo-mode":e.demoMode}},[i("VyTable",{staticClass:"table"},[i("ViewSessionsTableHeader",{attrs:{"demo-mode":e.demoMode,"sort-ascending":!e.sortDescending,"sort-by":e.sortBy,"views-type":e.type},on:{"sort-selected":e.changeSort}}),e._v(" "),i("tbody",{staticClass:"table-body"},[e._l(e.items,(function(t,a){return i("Item",{key:t.id,staticClass:"line",attrs:{"edit-page-link":e.editPageLink,email:t.email,timestamp:t.timestamp,city:t.city,"country-code":t.country_code,"percent-watched":t.attention_span*100,"detailed-percent-watched":t.detailed_percentage_watched,"detailed-attention-span":t.detailed_attention_span,"sharing-page-action-clicked":!!(t.actions&&t.actions.sharepage_action),"in-video-action-clicked":!!(t.actions&&t.actions.invideo_action),"show-arrows":e.demoMode&&a===0,"demo-mode":e.demoMode,"insight-type":e.type,"data-testid":e.type+"-"+(e.demoMode?"demo":"item.id")+"-item-"+a,"test-id":e.type+"-"+(e.demoMode?"demo":"item.id")+"-item-"+a,actions:e.actions,"clicked-action-ids":e.getItemActionIds(t),"view-count":t.view_count},on:{"open-someone-dialog":function(t){return e.setSomeoneDialogVisible(true)}}})})),e._v(" "),e._l(e.loading?e.numPlaceholders:0,(function(e){return i("Skeleton",{key:e,attrs:{"aria-hidden":""}})}))],2),e._v(" "),!e.demoMode?i("tr",[i("td",{staticClass:"infinite-loading-cell",attrs:{colspan:"5",role:"contentinfo"}},[i("InfiniteLoading",{attrs:{id:"feed",identifier:e.infiniteId},on:{infinite:e.infiniteHandler},scopedSlots:e._u([{key:"error",fn:function(t){var s=t.trigger;return i("div",{},[i("div",{staticClass:"infinite-slot-container error-container"},[i("img",{attrs:{src:a("5QCp"),alt:"A hand holding an unplugged extension cord"}}),e._v(" "),i("h1",[e._v("Something went wrong...")]),e._v(" "),i("p",[e._v("Weâ€™re having trouble loading your viewing data.")]),e._v(" "),i("VyButton",{staticClass:"try-again-button",attrs:{type:"primary","data-testid":"retry-loading-button"},on:{click:s}},[e._v("\n                Try again\n              ")])],1)])}}])},[i("div",{attrs:{slot:"spinner"},slot:"spinner"},[i("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:50}})],1),e._v(" "),i("div",{attrs:{slot:"no-more","aria-hidden":""},slot:"no-more"}),e._v(" "),i("div",{attrs:{slot:"no-results"},slot:"no-results"},[i("div",{staticClass:"infinite-slot-container no-results-container"},[i("div",{staticClass:"no-results"},[i("div",{staticClass:"no-results__image-wrapper"},[i("img",{staticClass:"no-results-image",attrs:{src:a("xUjf"),alt:"Person looking through binoculars"}})]),e._v(" "),e.getVariation("in_platform_mailer")&&e.type==="identified_views"?i("div",{staticClass:"no-results__body-wrapper"},[i("h1",{staticClass:"no-results-title"},[e._v("\n                    No identified views yet\n                  ")]),e._v(" "),i("p",[e._v("\n                    When a viewer watches a video that includes a tracking token, you'll be notified here.\n                  ")]),e._v(" "),i("p",[e._v("\n                    A tracking token is added to your video link whenever you share using the Email option on the\n                    "),i("a",{attrs:{href:e.editPageLink,"data-test-id":"empty-sessions-edit-link"},on:{click:e.editPageLinkClicked}},[e._v("\n                      Video Edit Page\n                    ")])])]):i("div",{staticClass:"no-results__body-wrapper"},[i("h1",{staticClass:"no-results-title"},[e._v("\n                    Nothing to report here\n                  ")]),e._v(" "),i("p",[e._v("\n                    When you receive a view notification, return here to see the breakdown of your viewer engagement.\n                    "),i("br"),e._v("\n                    You can also filter by date range to view results over different periods of time.\n                  ")])])])])])])],1)]):e._e()],1),e._v(" "),i("SomeoneDialog",{attrs:{"edit-page-url":e.editPageLink,visible:e.someoneDialogVisible},on:{"update:visible":function(t){return e.setSomeoneDialogVisible(t)}}})],1)};var W=[];G._withStripped=true;var J=a("3bBZ");var Z=a("PF2z");var K=a("G83Z");var Q=a("4Wae");var X=a.n(Q);var ee=a("rDkq");var te={async getMetrics({metrics:e,videoId:t,videoCreatedAt:a,videoLength:i,intervalStart:s,intervalEnd:n},r){const o="/api/v1/organizations/".concat(r,"/interaction_analytics/metrics.json");const l={metrics:e,video_id:t,video_created_at:a,video_length:i,interval_start:s,interval_end:n};const{data:d}=await ee["a"].get(o,{params:l});return d},async getViewSessions({type:e,sortBy:t,sortDirection:a,videoId:i,videoCreatedAt:s,videoLength:n,intervalStart:r,intervalEnd:o,previousPlayerLoadIds:l,limit:d},c){let u;if(e==="total_views"){u="/api/v1/organizations/".concat(c,"/interaction_analytics/view_sessions.json")}else{u="/api/v1/organizations/".concat(c,"/interaction_analytics/identified_view_sessions.json")}const p={sort_by:t,sort_direction:a,video_id:i,video_created_at:s,video_length:n,interval_start:r,interval_end:o,previous_player_load_ids:l,limit:d};const{data:h}=await ee["a"].get(u,{params:p});return h}};var ae=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("tr",{attrs:{"aria-label":e.contactString+" from "+e.formattedLocation+" watched "+e.percentWatched.toFixed(2)+"% of video on "+e.ariaTime+" and "+e.actionClickAria}},[a("td",{staticClass:"contact",attrs:{"data-testid":e.testId+"-contact"}},[a("Contact",{attrs:{email:e.email,"demo-mode":e.demoMode},on:{"open-someone-dialog":function(t){return e.$emit("open-someone-dialog")}}})],1),e._v(" "),a("td",{staticClass:"date-time-cell",attrs:{"data-testid":e.testId+"-time"}},[e._v("\n    "+e._s(e.date)+"\n    "),a("div",{staticClass:"time-text"},[e._v("\n      "+e._s(e.time)+"\n    ")])]),e._v(" "),a("td",{staticClass:"location-cell",attrs:{"data-testid":e.testId+"-location"}},[e._v("\n    "+e._s(e.city)+"\n    "),a("div",{staticClass:"country-text"},[e._v("\n      "+e._s(e.country)+"\n    ")])]),e._v(" "),a("td",{class:{"demo-mode":e.demoMode},attrs:{"data-testid":e.testId+"-percent-watched"}},[e.showArrows?a("SquigglyArrow",{staticClass:"percent-watched-squiggly-arrow",attrs:{text:"See the percent watched from each video view session","arrow-type":"four","text-width":"190px","arrow-width":e.insightType==="identified_views"?"30px":"45px"}}):e._e(),e._v(" "),e.showDetailedAttentionSpan?a("DetailedAttentionSpan",{attrs:{"attention-span-intervals":e.detailedAttentionSpan,"percent-watched":e.detailedPercentWatched}}):a("AttentionSpan",{attrs:{value:e.percentWatched,"view-count":e.viewCount}})],1),e._v(" "),e.showActionClicksColumn?a("td",{staticClass:"num-actions-clicked-container",attrs:{"data-testid":e.testId+"-action-clicked"}},[a("div",{staticClass:"button-popover-container"},[a("VyButton",{staticClass:"num-actions-clicked",attrs:{"aria-label":"Number of actions clicked","data-testid":"num-actions-clicked-button","data-heap":"Clicked - Action Click Count"},on:{click:e.openActionClicksPopover,keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.openActionClicksPopover(t)}}},[e.showItemizedActions?a("div",[e._v("\n          "+e._s(e.videoActionsClicked.length)+"/"+e._s(e.actions.length)+"\n        ")]):a("div",[e._v("\n          "+e._s(e.numActionsClicked)+"\n        ")])]),e._v(" "),e.showItemizedActions?a("ItemizedActionsPopover",{attrs:{"show-popover":e.showPopover,actions:e.actions,"clicked-action-ids":e.clickedActionIds,"data-testid":"itemized-actions-popover"},on:{"close-actions-popover":e.closeActionClicksPopover}}):a("ActionsPopover",{attrs:{"show-popover":e.showPopover,"sharing-page-action-clicked":e.sharingPageActionClicked,"in-video-action-clicked":e.inVideoActionClicked,"data-testid":"actions-clicked-popover"},on:{"close-actions-popover":e.closeActionClicksPopover}}),e._v(" "),e.showArrows?a("SquigglyArrow",{staticClass:"actions-squiggly-arrow",attrs:{text:"Find out if viewers are taking action on your content","arrow-type":"one","text-width":"110px","arrow-width":e.insightType==="identified_views"?"30px":"45px"}}):e._e()],1)]):e._e()])};var ie=[];ae._withStripped=true;var se=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"container",attrs:{"aria-label":e.contactString}},[a("div",{staticClass:"icon"},[a("Gravatar",{attrs:{email:e.email}})],1),e._v(" "),e.useButtonForUnidentified?a("button",{staticClass:"unknown-contact-link",attrs:{type:"button",tabindex:"0","data-testid":"insights-someone-button"},on:{click:e.openTip}},[e._v("\n    "+e._s(e.contactString)+"\n  ")]):a("div",{attrs:{role:"text"}},[e._v("\n    "+e._s(e.contactString)+"\n  ")])])};var ne=[];se._withStripped=true;var re=a("W8xq");var oe=a("QK13");var le={name:"Contact",components:{Gravatar:oe["a"]},props:{email:{type:String,required:true},demoMode:{type:Boolean,required:true}},data(){return{dialogVisible:false}},computed:{...o["c"].mapGetters(["hasFeature"]),...re["b"].mapGetters(["hasPermission"]),contactString(){return this.email||"Someone"},useButtonForUnidentified(){return this.email===""&&!this.demoMode&&this.canAccessInPlatformMailer},canAccessInPlatformMailer(){return this.hasFeature("in_platform_mailer")&&this.hasPermission("can_email_share_videos")}},methods:{...l["c"].mapActions(["sendHeapEvent"]),openTip(){this.sendHeapEvent({eventName:"Someone clicked"});this.$emit("open-someone-dialog")}}};var de=le;var ce=a("A8fG");var ue=Object(m["a"])(de,se,ne,false,null,"4b1ab7ee",null);if(false){var pe}ue.options.__file="app/assets/components/analytics/view_sessions/item/contact.vue";var he=ue.exports;var ve=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyProgress",{attrs:{value:e.value,color:e.progressBarColor,"tooltip-text":"Times Watched: "+e.viewCount,"aria-label":e.ariaLabel,role:"text"}})};var me=[];ve._withStripped=true;var fe={name:"AttentionSpan",components:{VyProgress:u["E"]},props:{value:{type:Number,required:true},viewCount:{type:Number,required:true}},computed:{progressBarColor(){if(this.viewCount===1){return"c_green_400"}if(this.viewCount===2){return"c_green_600"}if(this.viewCount>=3){return"c_green_700"}return undefined},ariaLabel(){return"".concat(this.value.toFixed(1),", watched ").concat(this.viewCount," times")}}};var be=fe;var ge=Object(m["a"])(be,ve,me,false,null,null,null);if(false){var ye}ge.options.__file="app/assets/components/analytics/view_sessions/item/attentionSpan.vue";var _e=ge.exports;var we=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{role:"progressbar","aria-label":"Percentage watched","aria-valuemin":0,"aria-valuenow":e.percentWatched,"aria-valuemax":100}},[a("div",{staticClass:"bar"},e._l(e.attentionSpanIntervals,(function(t){return a("VyTooltip",{key:t.start_percentile,class:["interval-bar","interval-bar-level-"+e.getIntervalLevel(t)],style:e.getIntervalStyle(t),attrs:{placement:"top"},scopedSlots:e._u([{key:"content",fn:function(){return[a("div",{staticClass:"tooltip-content"},[e._v("\n          "+e._s(e.formatTime(t.start_time))+" -\n          "+e._s(e.formatTime(t.end_time))+"\n          "),a("br"),e._v("\n          Times Watched: "+e._s(t.times_watched)+"\n        ")])]},proxy:true}])})})),1),e._v(" "),a("div",{staticClass:"percent-text"},[e._v("\n    "+e._s(e.percentWatched)+"%\n  ")])])};var xe=[];we._withStripped=true;var Se=a("IdCL");var ke={name:"DetailedAttentionSpan",components:{VyTooltip:u["U"]},props:{attentionSpanIntervals:{type:Array,required:true},percentWatched:{type:Number,required:true}},methods:{formatTime(e){return Object(Se["i"])(e,{padMinutes:false})},getIntervalLevel(e){return Math.min(e.times_watched,3)},getIntervalStyle(e){return{width:"".concat(e.end_percentile-e.start_percentile,"%")}}}};var Ce=ke;var Pe=a("7amn");var Te=Object(m["a"])(Ce,we,xe,false,null,"08ff57e6",null);if(false){var Ve}Te.options.__file="app/assets/components/analytics/view_sessions/item/DetailedAttentionSpan.vue";var Ae=Te.exports;var Ee=a("5bZN");var Ie=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyPopover",{attrs:{header:"Actions Clicked",placement:"right","is-visible":e.showPopover},on:{close:e.closeActionClicksPopover}},[e.sharingPageActionClicked||e.inVideoActionClicked?a("div",{staticClass:"popover-body",attrs:{"data-testid":"actions-popover-body"}},[e.inVideoActionClicked?a("div",{staticClass:"popover-body-item"},[a("div",{staticClass:"check-container"},[a("VyIcon",{attrs:{name:"faCheck"}})],1),e._v(" "),a("div",{staticClass:"primary-text"},[e._v("\n        In-video action\n      ")])]):e._e(),e._v(" "),e.sharingPageActionClicked?a("div",{class:"popover-body-item "+(e.inVideoActionClicked?"margin-top":"")},[a("div",{staticClass:"check-container"},[a("VyIcon",{attrs:{name:"faCheck"}})],1),e._v(" "),a("div",{staticClass:"primary-text"},[e._v("\n        Sharing page action\n      ")])]):e._e()]):a("p",{staticClass:"secondary-text"},[e._v("\n    No action clicks\n  ")])])};var De=[];Ie._withStripped=true;var Oe={name:"ActionsPopover",components:{VyPopover:u["D"],VyIcon:u["v"]},props:{sharingPageActionClicked:{type:Boolean,required:true},inVideoActionClicked:{type:Boolean,required:true},showPopover:{type:Boolean,required:true}},methods:{closeActionClicksPopover(){this.$emit("close-actions-popover")}}};var Le=Oe;var Be=a("POis");var Me=Object(m["a"])(Le,Ie,De,false,null,"72ae6b8a",null);if(false){var ze}Me.options.__file="app/assets/components/analytics/view_sessions/item/actionsPopover.vue";var Fe=Me.exports;var Ue=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyPopover",{attrs:{header:"Action Clicks",placement:"right","is-visible":e.showPopover},on:{close:e.closeActionsPopover}},[a("div",{staticClass:"popover-body",attrs:{"data-testid":"itemized-actions-popover-body"}},[e._l(e.actions,(function(t,i){return a("div",{key:i,staticClass:"popover-body-item"},[i<e.actions.length-1?a("div",{staticClass:"divider"}):e._e(),e._v(" "),a("div",{staticClass:"status-indicator"},[a("VyStatus",{attrs:{status:e.getActionStatus(t),text:t.name}})],1)])})),e._v(" "),!e.actions.length?a("p",{staticClass:"secondary-text"},[e._v("\n      No action clicks\n    ")]):e._e()],2)])};var Re=[];Ue._withStripped=true;var je={name:"ItemizedActionsPopover",components:{VyPopover:u["D"],VyStatus:u["L"]},props:{clickedActionIds:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},showPopover:{type:Boolean,required:true}},methods:{closeActionsPopover(){this.$emit("close-actions-popover")},getActionStatus(e){return this.clickedActionIds.includes(e.id)?"ready":"indeterminate"}}};var qe=je;var Ne=a("sQ10");var $e=Object(m["a"])(qe,Ue,Re,false,null,"7f7f33e6",null);if(false){var He}$e.options.__file="app/assets/components/analytics/view_sessions/item/itemizedActionsPopover.vue";var Ye=$e.exports;var Ge=a("uo9e");var We={name:"ViewSessionsItem",components:{ActionsPopover:Fe,AttentionSpan:_e,Contact:he,DetailedAttentionSpan:Ae,ItemizedActionsPopover:Ye,SquigglyArrow:Ee["a"],VyButton:u["j"]},props:{email:{type:String,required:true},timestamp:{type:Number,required:true},city:{type:String,required:true},countryCode:{type:String,required:true},percentWatched:{type:Number,required:true},detailedPercentWatched:{type:Number,default:0},detailedAttentionSpan:{type:Array,default:()=>[]},sharingPageActionClicked:{type:Boolean,required:true},inVideoActionClicked:{type:Boolean,required:true},demoMode:{type:Boolean,default:false},insightType:{type:String,required:true},showArrows:{type:Boolean,required:true},testId:{type:String,required:true},clickedActionIds:{type:Array,default:()=>[]},actions:{type:Array,default:()=>[]},viewCount:{type:Number,required:true}},data(){return{showPopover:false}},computed:{...o["c"].mapGetters(["hasFeature"]),showActionClicksColumn(){return!this.hasFeature("events_library")||this.hasFeature("video_insights_action_analytics")},showItemizedActions(){return this.hasFeature("video_insights_action_analytics")},showDetailedAttentionSpan(){return this.hasFeature("video_insights_detailed_attention_span")},timeMoment(){return U()(new Date(this.timestamp))},ariaTime(){return this.timeMoment.format("LLLL")},date(){return this.timeMoment.format("MMM D, YYYY")},time(){return this.timeMoment.format("h:mm a")},country(){return this.countryCode?Object(Ge["a"])(this.countryCode):"Unknown"},formattedLocation(){if(!this.countryCode){return"Unknown"}if(!this.city){return this.country}return"".concat(this.city,", ").concat(this.country)},contactString(){return this.email||"Someone"},actionClickAria(){if(this.sharingPageActionClicked&&this.inVideoActionClicked)return"clicked the sharing page and in-video actions";if(this.sharingPageActionClicked)return"clicked the sharing page action";if(this.inVideoActionClicked)return"clicked the in-video action";return"did not click any action"},numActionsClicked(){if(this.sharingPageActionClicked&&this.inVideoActionClicked)return 2;if(this.sharingPageActionClicked||this.inVideoActionClicked)return 1;return 0},videoActionsClicked(){return this.clickedActionIds.filter((e=>this.actions.some((t=>t.id===e))))}},methods:{openActionClicksPopover(){this.showPopover=true},closeActionClicksPopover(){this.showPopover=false}}};var Je=We;var Ze=a("LQv2");var Ke=Object(m["a"])(Je,ae,ie,false,null,"621fe920",null);if(false){var Qe}Ke.options.__file="app/assets/components/analytics/view_sessions/item/index.vue";var Xe=Ke.exports;var et=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"container"},[a("Avatar",{staticClass:"icon",attrs:{item:{}}}),e._v(" "),a("div",{staticClass:"placeholderWrapper"},[a("Placeholder")],1)],1)]),e._v(" "),a("td",[a("Placeholder")],1),e._v(" "),a("td",[a("Placeholder")],1),e._v(" "),a("td",[a("Placeholder")],1)])};var tt=[];et._withStripped=true;var at=a("y8r+");var it={name:"Skeleton",components:{Placeholder:I["a"],Avatar:at["a"]}};var st=it;var nt=a("4afP");var rt=Object(m["a"])(st,et,tt,false,null,"24b6f1ef",null);if(false){var ot}rt.options.__file="app/assets/components/analytics/view_sessions/item/skeleton.vue";var lt=rt.exports;var dt=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("thead",[a("tr",[a("ViewSessionsTableHeaderCell",{attrs:{"sort-id":"email",text:"Viewer","demo-mode":e.demoMode,"is-sortable":!e.demoMode&&e.viewsType!=="total_views","is-sorting":e.sortBy==="email","sort-ascending":e.sortAscending,"views-type":e.viewsType,width:e.viewerWidth},on:{click:function(t){return e.emitSortSelected("email")}}}),e._v(" "),a("ViewSessionsTableHeaderCell",{attrs:{"sort-id":"timestamp",text:"Time","demo-mode":e.demoMode,"is-sortable":!e.demoMode,"is-sorting":e.sortBy==="timestamp","sort-ascending":e.sortAscending,"views-type":e.viewsType,width:"10%"},on:{click:function(t){return e.emitSortSelected("timestamp")}}}),e._v(" "),a("ViewSessionsTableHeaderCell",{attrs:{"sort-id":"location",text:"Location","demo-mode":e.demoMode,"is-sortable":!e.demoMode,"is-sorting":e.sortBy==="location","sort-ascending":e.sortAscending,"views-type":e.viewsType,width:e.locationWidth},on:{click:function(t){return e.emitSortSelected("location")}}}),e._v(" "),a("ViewSessionsTableHeaderCell",{attrs:{"sort-id":"attention_span",text:"Percent Watched","demo-mode":e.demoMode,"is-sortable":!e.demoMode,"is-sorting":e.sortBy==="attention_span","sort-ascending":e.sortAscending,"views-type":e.viewsType,width:e.attentionSpanWidth},on:{click:function(t){return e.emitSortSelected("attention_span")}}}),e._v(" "),e.showActionClicksColumn?a("ViewSessionsTableHeaderCell",{staticClass:"action-click-cell",attrs:{"sort-id":"action_click",text:"Action Clicks",width:"13%","demo-mode":e.demoMode,"views-type":e.viewsType}}):e._e()],1)])};var ct=[];dt._withStripped=true;var ut=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VySortableTh",{staticClass:"sortable-th",style:{width:e.width},attrs:{"aria-sort":e.ariaSort,ascending:e.sortAscending,"data-testid":e.sortId+"-sortable-header",sortable:e.isSortable,sorting:e.isSorting,text:e.text},on:{click:function(t){return e.$emit("click")}},scopedSlots:e._u([e.demoMode&&e.sortId==="email"?{key:"append",fn:function(){return[a("div",{staticClass:"squiggly-container"},[a("SquigglyArrow",{attrs:{"arrow-type":"two","arrow-width":e.viewsType==="identified_views"?"35px":"45px",text:"Upgrade to sort views by email (alphabetically), time of watch, and percent watched","text-width":"200px"}})],1)]},proxy:true}:null],true)})};var pt=[];ut._withStripped=true;var ht={name:"ViewSessionsTableHeaderCell",components:{SquigglyArrow:Ee["a"],VySortableTh:u["J"]},props:{demoMode:{type:Boolean,required:true},isSortable:{type:Boolean,default:false},isSorting:{type:Boolean,default:false},sortAscending:{type:Boolean,default:false},sortId:{type:String,required:true},text:{type:String,required:true},viewsType:{type:String,required:true},width:{type:String,required:true}},computed:{ariaSort(){if(this.isSorting){return this.sortAscending?"ascending":"descending"}return"none"}}};var vt=ht;var mt=a("ZNXO");var ft=Object(m["a"])(vt,ut,pt,false,null,"7bde79c1",null);if(false){var bt}ft.options.__file="app/assets/components/analytics/view_sessions/ViewSessionsTableHeaderCell.vue";var gt=ft.exports;var yt={name:"ViewSessionsTableHeader",components:{ViewSessionsTableHeaderCell:gt},props:{demoMode:{type:Boolean,required:true},sortAscending:{type:Boolean,required:true},sortBy:{type:String,required:true},viewsType:{type:String,required:true}},computed:{...o["c"].mapGetters(["getVariation","hasFeature"]),showActionClicksColumn(){return!this.hasFeature("events_library")||this.hasFeature("video_insights_action_analytics")},viewerWidth(){return this.showActionClicksColumn?"30%":"35%"},locationWidth(){return this.showActionClicksColumn?"10%":"15%"},attentionSpanWidth(){return this.showActionClicksColumn?"37%":"40%"}},methods:{emitSortSelected(e){this.$emit("sort-selected",e)}}};var _t=yt;var wt=a("ca7r");var xt=Object(m["a"])(_t,dt,ct,false,null,"0feb0e82",null);if(false){var St}xt.options.__file="app/assets/components/analytics/view_sessions/ViewSessionsTableHeader.vue";var kt=xt.exports;var Ct=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:"What does this mean?",visible:e.visible,"close-on-click-modal":"","close-on-press-escape":"","show-close":"",size:"small","data-testid":"someone-dialog"},on:{"update:visible":e.handleUpdateVisible}},[a("p",[e._v('\n    When you see "Someone" listed as a viewer, it means that Vidyard could not identify the person who watched your video.\n  ')]),e._v(" "),a("p",[e._v("\n    To identify viewers, share a link to your video with a tracking token.\n  ")]),e._v(" "),a("p",[e._v("\n    A tracking token is added to your video whenever you share using the Email option on the\n    "),a("VyLink",{staticClass:"edit-page-link",attrs:{text:"Video Edit Page.",href:e.editPageUrl+"#email","open-in-new-tab":false,"data-testid":"someone-dialog-edit-link"},on:{click:e.editPageLinkClicked}})],1),e._v(" "),a("TipBox",{attrs:{color:"turquoise"}},[e._v('\n    Tracking tokens expire after one use. So if you see "Someone" listed as a viewer, it may also mean the original recipient forwarded your video to someone else who Vidyard could then not identify.\n  ')])],1)};var Pt=[];Ct._withStripped=true;var Tt={name:"SomeoneDialog",components:{VyDialog:u["r"],VyLink:u["y"],TipBox:R["a"]},props:{visible:{type:Boolean,required:true},editPageUrl:{type:String,required:true}},data(){return{dialogVisible:false}},methods:{...l["c"].mapActions(["sendHeapEvent"]),editPageLinkClicked(){this.sendHeapEvent({eventName:"Video Edit Page clicked (modal)"})},handleUpdateVisible(e){this.$emit("update:visible",e)}}};var Vt=Tt;var At=a("RJu1");var Et=Object(m["a"])(Vt,Ct,Pt,false,null,"09c0ae60",null);if(false){var It}Et.options.__file="app/assets/components/analytics/view_sessions/SomeoneDialog.vue";var Dt=Et.exports;var Ot=a("ypO0");var Lt=a("Y69x");var Bt={name:"ViewSessions",components:{InfiniteLoading:X.a,Item:Xe,Skeleton:lt,ViewSessionsTableHeader:kt,SomeoneDialog:Dt,VyButton:u["j"],VySpinner:u["K"],VyTable:u["O"]},props:{type:{type:String,required:true},demoMode:{type:Boolean,required:true},editPageLink:{type:String,required:true},videoId:{type:String,required:true},videoCreatedAt:{type:String,required:true},videoLength:{type:Number,required:true},intervalStart:{type:String,default:undefined},intervalEnd:{type:String,default:undefined}},data(){return{items:[],hasMore:false,status:undefined,infiniteId:0,count:2,sortBy:"timestamp",sortDescending:true,loading:false,video:{},viewSessionRequestLimit:10,numPlaceholders:3,someoneDialogVisible:false,actions:undefined}},computed:{...o["c"].mapGetters(["getVariation"]),...l["c"].mapState(["organization"]),filters(){return{type:this.type,sortBy:this.sortBy,sortDescending:this.sortDescending,intervalStart:this.intervalStart,intervalEnd:this.intervalEnd,videoId:this.videoId}},faExternalLinkAlt:()=>Ot["faExternalLinkAlt"]},watch:{filters:{deep:true,handler(){if(this.demoMode){return}this.infiniteId+=1;this.items=[];this.count=2}},type(e){if(e==="total_views"){if(this.sortBy==="email"){this.changeSort("timestamp")}}if(this.demoMode){this.setDemoItems()}}},created(){if(this.demoMode){this.loading=false;this.setDemoItems()}},methods:{...Object(r["d"])("vidyard",["sendHeapEvent"]),...Z["b"].mapActions(["sendApiRequest"]),params(){return{type:this.type,sortBy:this.sortBy,sortDirection:this.sortDescending?"descending":"ascending",intervalStart:this.intervalStart,intervalEnd:this.intervalEnd,videoId:this.videoId,videoCreatedAt:this.videoCreatedAt,videoLength:this.videoLength,previousPlayerLoadIds:this.items.map((e=>e.player_load_uuid)),limit:this.viewSessionRequestLimit}},async infiniteHandler(e){try{this.loading=true;const t=this.params();this.count-=1;t.count=this.count;const[a]=await Promise.all([te.getViewSessions(t,this.organization.id),this.fetchActions()]);if(a&&a.sessions.length>0){this.hasMore=a.has_more;this.items.push(...a.sessions);e.loaded()}if(!this.hasMore||a&&!a.has_more){e.complete()}}catch(t){this.$rollbar.error(t);e.error()}this.loading=false},changeSort(e){this.sendHeapEvent({eventName:"Sorting video insights",customOptions:{field:e}});if(this.sortBy===e){this.sortDescending=!this.sortDescending}else{this.sortBy=e;this.sortDescending=true}},viewportChanged(e){this.smallViewport=e.matches},setDemoItems(){const e="Toronto";const t="CA";this.items=[];if(this.type==="total_views"){this.items=[{email:"first.last@example.com",attention_span:.67,timestamp:(new Date).getTime(),city:e,country_code:t,actions:{invideo_action:{count:1},sharepage_action:{count:1}}},{email:"",attention_span:.32,timestamp:(new Date).getTime()-1e7,city:e,country_code:t,actions:{invideo_action:{count:1}}}]}else{this.items=[{email:"first.last@example.com",attention_span:.67,timestamp:(new Date).getTime(),city:e,country_code:t,actions:{invideo_action:{count:1},sharepage_action:{count:1}}}]}},getItemActionIds(e){var t,a;return(t=e.actions)===null||t===void 0?void 0:(a=t.invideo_action)===null||a===void 0?void 0:a.event_ids},editPageLinkClicked(){this.sendHeapEvent({eventName:"Video Edit Page Link Clicked (Empty State)"})},setSomeoneDialogVisible(e){this.someoneDialogVisible=e},async fetchActions(){if(this.actions){return}const e=await Object(Lt["a"])({id:this.videoId,organization_id:this.organization.id});const{status:t,data:a}=await this.sendApiRequest(K["a"].getActions(this.organization.id,e.uuid));if(t<400){this.actions=a.ctas.sort(((e,t)=>e.second-t.second))}}}};var Mt=Bt;var zt=a("+W3c");var Ft=Object(m["a"])(Mt,G,W,false,null,"68168f10",null);if(false){var Ut}Ft.options.__file="app/assets/components/analytics/view_sessions/index.vue";var Rt=Ft.exports;var jt=a("ycB5");var qt=a("NvBw");var Nt=a("5zyS");function $t(e){return"".concat(e.format("MMM D, YYYY"))}var Ht={name:"VideoInsights",components:{TipBox:R["a"],Metric:Y,PqlBanner:Nt["a"],TimeFilter:g,UpgradeButton:qt["a"],ViewSessions:Rt,VyBanner:u["h"],VyCard:u["k"],VyIcon:u["v"],VyTab:u["N"],VyTabs:u["P"],ViewSessionsLegend:jt["a"]},props:{videoId:{type:String,required:true},videoCreatedAt:{type:String,required:true},editPageLink:{type:String,required:true},videoLength:{type:Number,required:true},videoName:{type:String,default:""},showLegend:{type:Boolean,default:false}},data(){return{totalViewListModulePath:"analytics/total_view_list",uniqueViewListModulePath:"analytics/unique_view_list",metricGroupModulePath:"analytics/insights_metric_group",metricsStatus:undefined,visibleTab:undefined,totalViewsName:"All View Sessions",identifiedViewsName:"Identified View Sessions",viewType:"total_views",metricData:{},timeFilter:"last-7-days",hasViews:undefined}},computed:{...o["c"].mapGetters(["hasFeature","getVariation"]),...l["c"].mapState(["organization"]),dateRange(){let e;let t;switch(this.timeFilter){case"today":e=U()().local().startOf("day");break;case"yesterday":e=U()().local().subtract(1,"day").startOf("day");t=U()().local().subtract(1,"day").endOf("day");break;case"last-7-days":e=U()().local().subtract(7,"day").startOf("day");break;case"last-30-days":e=U()().local().subtract(30,"day").startOf("day");break;case"last-90-days":e=U()().local().subtract(90,"day").startOf("day");break;case"last-year":e=U()().local().subtract(1,"year").startOf("day");break;case"all-time":break;default:this.$rollbar.error("Video Insights selected an unknown time filter");e=U()().local()}if(t===undefined){t=U()().local()}return{start:e,end:t}},startDate(){return this.dateRange.start},endDate(){return this.dateRange.end},dateRangeString(){switch(this.timeFilter){case"all-time":return"All data up to ".concat($t(this.endDate));case"yesterday":case"today":return"".concat($t(this.startDate));default:return"".concat($t(this.startDate)," - ").concat($t(this.endDate))}},hasVideoInsightsFeature(){return this.hasFeature("video_insights")},hasAnalyticsCenterFeature(){return this.hasFeature("analytics_center")},items(){const e=[{id:"playrate-metric",elementId:0,type:"video-play-rate",heading:"Video Play Rate",theme:"purple",dialog:"The Video Play Rate (%) gives an indication of how compelling your video topic, name, and thumbnail image are. This percentage is calculated by dividing the total number of views your video has by the total number of times the same video has been loaded onto a webpage.",dialogTip:"Research what makes a good video subject, title and thumbnail image to see improvements here"},{id:"watchpercent-metric",elementId:1,type:"avg-watch-pct",heading:"Avg. % Watched",theme:"turquoise",dialog:"The Average Percent Watched (%) shows how compelling your in-video content is. Itâ€™s calculated by adding up all the watch times from each individual viewing session and divides this number by the total amount of video views.",dialogTip:"To improve this number, try keeping your video under two minutes, talk in terms of your audienceâ€™s interests, and put important information at the start of the recording to hold attention"},{id:"actionclick-metric",elementId:2,type:"action-clicks",heading:"Total Action Clicks",theme:"blue",iconName:"faBullseyePointer",dialog:"Action Clicks tell you the total unique number of times your viewers clicked on this video's actions.",dialogTip:"Experiment with the text on your actions to learn what types of prompts are most effective with your audience"}];return e},isIdentifiedViewsVisible(){return this.visibleTab&&this.visibleTab.name===this.identifiedViewsName},intervalStart(){var e;return(e=this.startDate)===null||e===void 0?void 0:e.toISOString()},intervalEnd(){var e;return(e=this.endDate)===null||e===void 0?void 0:e.toISOString()}},watch:{videoId(){this.handleVideoInsightsOpened()}},mounted(){this.$emit("time-filter-id-init",this.timeFilter);this.handleVideoInsightsOpened()},methods:{...Object(r["d"])("vidyard",["sendHeapEvent"]),totalViewsRefresh(){this.$refs.totalViews.refresh()},async handleVideoInsightsOpened(){await this.fetchMetrics();this.sendHeapEvent({eventName:"Video Insights Opened",customOptions:{hasViews:this.hasViews}});if(this.hasVideoInsightsFeature){const e=Number(localStorage.getItem("videoInsightsUsageCount"));localStorage.setItem("videoInsightsUsageCount",e+1)}},async fetchMetrics(){if(!this.hasVideoInsightsFeature){return}try{this.metricsStatus="loading";const e={metrics:["video_play_rate","total_action_clicks"],videoId:this.videoId,videoLength:this.videoLength,intervalStart:this.intervalStart,intervalEnd:this.intervalEnd,videoCreatedAt:this.videoCreatedAt};const t=await te.getMetrics(e,this.organization.id);this.metricData=t;this.hasViews=t.total_views&&t.total_views>0;this.metricsStatus="completed"}catch(e){if(e.response&&(e.response.status===403||e.response.status===401)){this.metricsStatus="unauthorized"}else{this.metricsStatus="error";this.$rollbar.error(e)}}},handleTimeFilterChange(e){this.timeFilter=e;this.$emit("time-filter-id-change",e);this.fetchMetrics()},tabChanged({tab:e}){switch(e.hash){case undefined:break;case this.$refs.totalViewsTab.hash:this.viewType="total_views";this.sendHeapEvent({eventName:"Video Insights - switched to total views tab",customOptions:{hasViews:this.hasViews}});break;case this.$refs.identifiedViewsTab.hash:this.viewType="identified_views";this.sendHeapEvent({eventName:"Video Insights - switched to identified views tab",customOptions:{hasViews:this.hasViews}});break;default:throw new Error("Unknown Tab clicked")}},refreshPage(){window.location.reload(true)}}};var Yt=Ht;var Gt=a("8EIn");var Wt=Object(m["a"])(Yt,i,s,false,null,null,null);if(false){var Jt}Wt.options.__file="app/assets/components/analytics/VideoInsights.vue";var Zt=t["a"]=Wt.exports},HWVp:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".share-modal .spinner-wrapper[data-v-28e14dd7]{text-align:center;padding:24px 0}.share-modal .vy-dialog[data-v-28e14dd7]{max-width:664px}.share-modal .vy-dialog__body[data-v-28e14dd7]{padding:0 24px 8px}.share-modal .security-section[data-v-28e14dd7]{border-bottom:1px solid #ebf0f7;padding:16px 0}.share-modal .embed-section[data-v-28e14dd7]{display:flex;justify-content:center;padding:16px 0}.share-modal .copy-options[data-v-28e14dd7]{display:flex;justify-content:center;padding-top:16px;border-top:1px solid #ebf0f7}.share-modal .access-settings-section[data-v-28e14dd7]{border-bottom:1px solid #ebf0f7;padding:16px 0}",""]);e.exports=s},HYr2:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".edit-player-alert[data-v-6d52c18e]{margin-bottom:20px}",""]);e.exports=s},HZXU:function(e,t,a){"use strict";var i=a("aPRh");var s=a.n(i);var n=s.a},Hgz2:function(e,t,a){var i=a("tKCK");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("c25d0616",i,false,{});if(false){}},I0x7:function(e,t,a){var i=a("uJQM");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("01d86d08",i,false,{});if(false){}},I79s:function(e,t,a){"use strict";var i=a("iFv9");var s=a.n(i);var n=s.a},IBvZ:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".fade-enter-active[data-v-7174552f],.fade-leave-active[data-v-7174552f]{transition:all .4s ease-in-out;transform:translateY(0)}.fade-enter[data-v-7174552f],.fade-leave-to[data-v-7174552f]{opacity:0;transform:translateY(3px)}",""]);e.exports=s},ICIA:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".webpage-embed[data-v-2b9efc72]{position:relative;flex-direction:column}.webpage-embed .embed-toggle-wrapper[data-v-2b9efc72]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.webpage-embed .embed-usage-badge[data-v-2b9efc72]{flex-grow:1}.webpage-embed .embed-toggle-tooltip[data-v-2b9efc72]{color:#5b627d;line-height:24px;margin-right:16px}.webpage-embed .embed-option-select[data-v-2b9efc72]{display:flex;flex-direction:column;margin:12px 0}.webpage-embed #embed-options-menu-label[data-v-2b9efc72]{color:#606782;margin-bottom:8px}.webpage-embed #embed-options-menu[data-v-2b9efc72]{margin:0}.webpage-embed .embed-option[data-v-2b9efc72]{display:flex;flex-wrap:wrap}.webpage-embed .description[data-v-2b9efc72],.webpage-embed .description-link[data-v-2b9efc72]{font-size:12px;line-height:20px;margin:0}.webpage-embed .description-link-wrapper[data-v-2b9efc72]{display:inline-block}.webpage-embed .embed-copy-button[data-v-2b9efc72]{margin-top:12px}",""]);e.exports=s},"IN/i":function(e,t,a){"use strict";var i=a("aBOQ");var s=a.n(i);var n=s.a},IPPg:function(e,t,a){"use strict";var i=a("mSkt");var s=a.n(i);var n=s.a},IYjj:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a.d(t,"b",(function(){return h}));var i=a("5s+n");var s=a("3bBZ");var n=a("Kw5r");var r=a("/Dqt");var o={youtubePushes:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(t,"/videos/").concat(e,"/youtube_pushes")}),facebookPushes:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(t,"/videos/").concat(e,"/facebook_pushes")}),unlinkYoutubePush:(e,t,a)=>({method:"DELETE",url:"/api/v1/organizations/".concat(t,"/videos/").concat(e,"/youtube_pushes/").concat(a)}),syncYoutubePush:(e,t,a)=>({method:"PATCH",url:"/api/v1/organizations/".concat(t,"/videos/").concat(e,"/youtube_pushes/").concat(a)}),getYoutubePush:(e,t,a)=>({method:"GET",url:"/api/v1/organizations/".concat(t,"/videos/").concat(e,"/youtube_pushes/").concat(a)})};var l=a("anwA");var d=a("nbMm");var c=a("O6u4");var u=a("AOo/");const{namespacedModule:p,moduleHelpers:h,moduleBuilder:v}=Object(r["a"])("videoEditPage/socialSharing",{state:{isLoading:false,youtubePushes:[],facebookPushes:[]},getters:{videoId:(e,t,a)=>a.videoModule.id,organizationId:(e,t,a)=>a.playerModule.organizationId,socialPush:(e,t,a)=>a.socialPush,socialPushes:e=>{const t={};t.youtube=e.youtubePushes;t.facebook=e.facebookPushes;return t},canAccessSocialSharing:(e,t,a,i)=>i["features/hasFeature"]("new_vidyard_experience")&&(i["permissions/hasPermission"]("can_push_to_youtube")||i["permissions/hasPermission"]("can_push_to_facebook")),canAccessFacebook:(e,t,a,i)=>i["permissions/hasPermission"]("can_push_to_facebook"),canAccessYoutube:(e,t,a,i)=>i["permissions/hasPermission"]("can_push_to_youtube"),newYoutubePush:(e,t,a,i)=>i["features/hasFeature"]("new_youtube_push"),pushesOutdated:(e,t,a,i)=>{if(t.canAccessYoutube&&t.newYoutubePush&&e.youtubePushes.filter((e=>e.pushed_at)).some((e=>new Date(e.pushed_at)<new Date(i["playerModule/updatedAt"]*1e3)))){return true}return false}},mutations:{$_beginLoading(e){e.isLoading=true},$_endLoading(e){e.isLoading=false},$_setYoutubePushes(e,t){e.youtubePushes=t},$_setFacebookPushes(e,t){e.facebookPushes=t},$_removeSocialPush(e,{key:t,id:a}){if(t===l["YOUTUBE"]){e.youtubePushes=e.youtubePushes.filter((e=>e.id!==a))}else if(t===l["FACEBOOK"]){e.facebookPushes=e.facebookPushes.filter((e=>e.id!==a))}},$_updateSocialPush(e,{key:t,id:a,data:i}){let s;if(t===l["YOUTUBE"]){s=e.youtubePushes}else if(t===l["FACEBOOK"]){s=e.facebookPushes}const r=s.findIndex((e=>e.id===a));if(r>=0)n["a"].set(s,r,i)}},actions:{async loadYoutubePushes({commit:e,dispatch:t,getters:a}){if(a.videoId===undefined||a.organizationId===undefined){return}const{videoId:i,organizationId:s,newYoutubePush:n,socialPush:r}=a;const l={method:"GET",url:r.youtube.pushJobs.url,headers:{...r.youtube.pushJobs.headers},params:{video_id:i}};const d=n?l:o.youtubePushes(i,s);const p=n?await c["a"](d):await t("vyApi/sendApiRequest",d,{root:true});if(p.status===200){const{data:t}=p;e("$_setYoutubePushes",n?t.socialPushJobs:t)}else{e("$_setYoutubePushes",[]);u["a"].error("Error occurred while fetching youtube push data for videoId ".concat(i));t("handleFailure",{message:"Failed to fetch youtube push data",title:"Something went wrong!"})}},async loadFacebookPushes({commit:e,dispatch:t,getters:a}){if(a.videoId===undefined||a.organizationId===undefined){return}const{videoId:i,organizationId:s}=a;const n=o.facebookPushes(i,s);const r=await t("vyApi/sendApiRequest",n,{root:true});if(r.status===200){const{data:t}=r;e("$_setFacebookPushes",t)}else{e("$_setFacebookPushes",[]);u["a"].error("Error occurred while fetching facebook push data for videoId ".concat(i));t("handleFailure",{message:"Failed to fetch facebook push data",title:"Something went wrong!"})}},async initSocialPushes({commit:e,dispatch:t,getters:a}){e("$_beginLoading");const i=[];if(a.canAccessFacebook){i.push(t("loadFacebookPushes"))}if(a.canAccessYoutube){i.push(t("loadYoutubePushes"))}await Promise.all(i);e("$_endLoading")},async removeSocialPushItem({commit:e,dispatch:t,getters:a},{key:i,id:s}){if(a.videoId===undefined||a.organizationId===undefined){return}const{videoId:n,organizationId:r,newYoutubePush:l,socialPush:d}=a;const p={method:"POST",url:"".concat(d.youtube.pushJobs.url,"/").concat(s),headers:{...d.youtube.pushJobs.headers}};const h=l?p:o.unlinkYoutubePush(n,r,s);const v=l?await c["a"](h):await t("vyApi/sendApiRequest",h,{root:true});if(v.status===204||v.status===200&&l){e("$_removeSocialPush",{key:i,id:s});t("handleSuccess",{message:"Video unlinked successfully!",title:"Video unlinked."})}else if(v.status===422&&l){t("handleFailure",{message:"Job is currently processing. Try unlinking the video instead once it's finished",title:"Failed to unlink."})}else if(v.status===403&&l){t("handleFailure",{message:"Please refresh and try again.",title:"Failed to cancel."})}else{u["a"].error("Error occurred when deleting ".concat(i," push with ID: ").concat(s));t("handleFailure",{message:"Failed to unlink video",title:"Something went wrong!"})}},async syncYoutubePush({commit:e,dispatch:t,getters:a},{id:i}){if(a.videoId===undefined||a.organizationId===undefined){return}const{videoId:s,organizationId:n}=a;const r=o.syncYoutubePush(s,n,i);const d=await t("vyApi/sendApiRequest",r,{root:true});if(d.status===200){e("$_updateSocialPush",{key:l["YOUTUBE"],id:i,data:d.data})}else{u["a"].error("Error occurred while syncing youtube push ID ".concat(i," for videoId ").concat(s));t("handleFailedSync")}},async refreshYoutubePush({commit:e,dispatch:t,getters:a},{id:i}){if(a.videoId===undefined||a.organizationId===undefined){return}const{videoId:s,organizationId:n,newYoutubePush:r,socialPush:d}=a;const p={method:"GET",url:"".concat(d.youtube.pushJobs.url,"/").concat(i),headers:{...d.youtube.pushJobs.headers}};const h=r?p:o.getYoutubePush(s,n,i);const v=r?await c["a"](h):await t("vyApi/sendApiRequest",h,{root:true});if(v.status===200){e("$_updateSocialPush",{key:l["YOUTUBE"],id:i,data:v.data})}else{u["a"].error("Error occurred while refreshing youtube push ID ".concat(i," for videoId ").concat(s))}},handleFailedSync(){d["b"].show(new d["b"]("Something went wrong. Please sync video again.",{title:"Failed to Sync.",type:"error"}))},handleFailure(e,{message:t,title:a}){d["b"].show(new d["b"](t,{title:a,type:"error"}))},handleSuccess(e,{message:t,title:a}){d["b"].show(new d["b"](t,{title:a,type:"success"}))}}})},IdiT:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"[data-v-013deeb0] .embed-locations-panel .vy-collapse__header,[data-v-013deeb0] .sharing-panel .vy-collapse__header{height:auto}[data-v-013deeb0] .embed-locations-panel .vy-collapse__header .vy-collapse__header__title,[data-v-013deeb0] .sharing-panel .vy-collapse__header .vy-collapse__header__title{padding:20px}.embed-locations-panel .empty-content-message[data-v-013deeb0],.sharing-panel .empty-content-message[data-v-013deeb0]{padding:20px;text-align:center;background:#f5f9ff;color:#606782}.table-container[data-v-013deeb0]{padding:0 20px}.table-container th[data-v-013deeb0]{color:#606782;padding:10px 0}.table-container tr[data-v-013deeb0]:first-child{border-bottom:1px solid #ebf0f7}.table-container tr[data-v-013deeb0]{border-bottom:none}[data-v-013deeb0] .vy-collapse.vy-collapse-card.sharing-panel-new .vy-collapse__header{border:none}.embed-locations-panel .embed-location-url[data-v-013deeb0]{padding:20px}",""]);e.exports=s},Iq6z:function(e,t,a){"use strict";a.d(t,"f",(function(){return i}));a.d(t,"e",(function(){return s}));a.d(t,"c",(function(){return n}));a.d(t,"d",(function(){return r}));a.d(t,"b",(function(){return o}));a.d(t,"g",(function(){return l}));a.d(t,"a",(function(){return d}));const i=(e,t)=>({eventName:"Clicked - Copy Link",customOptions:{...t,location:e}});const s=(e,t)=>({eventName:"Clicked - Copy Link and Thumbnail",customOptions:{...t,location:e}});const n=(e,t)=>({eventName:"Clicked - Inline Embed",customOptions:{...t,location:e}});const r=(e,t)=>({eventName:"Clicked - Lightbox Embed",customOptions:{...t,location:e}});const o=(e,t)=>({eventName:"Clicked - Iframe Embed",customOptions:{...t,location:e}});const l=(e,t)=>({eventName:"Clicked - Shareable Embed",customOptions:{...t,location:e}});const d=(e,t)=>({eventName:"Clicked - Copy Email Embed Code",customOptions:{...t,location:e}})},IwPF:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".vy-button.notification-disabled-btn{line-height:8px;border:1px solid transparent;padding:8px}",""]);e.exports=s},J9pM:function(e,t,a){"use strict";t["a"]={getThumbnail:(e,t)=>({method:"GET",url:"/api/v1.1/organizations/".concat(e,"/thumbnails/").concat(t)}),deleteThumbnail:(e,t,a)=>({method:"DELETE",url:"/api/v1.1/organizations/".concat(e,"/thumbnails/").concat(a),data:{player_uuid:t}}),getSelectedThumbnails:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/selected_thumbnails")}),setSelectedThumbnail:(e,t,a)=>({method:"PATCH",url:"/api/v1.1/organizations/".concat(e,"/players/").concat(t,"/selected_thumbnails"),data:{_json:[{uuid:a}]}}),videoThumbnails:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/thumbnails")}),getVideoSelectedThumbnail:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/selected_thumbnail")}),setSelectedVideoThumbnail:(e,t,a)=>({method:"PATCH",url:"/api/v1.1/organizations/".concat(e,"/videos/").concat(t,"/selected_thumbnail"),data:{uuid:a}}),createVideoThumbnail:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/videos/").concat(t,"/thumbnails"),data:{thumbnails:[a]}})}},JN2m:function(e,t,a){"use strict";var i=a("4xgE");var s=a.n(i);var n=s.a},JTQq:function(e,t,a){e.exports=a.p+"unblock-camera-vidyard-51585c8e11ddcbc6ec8a8ae11aef181d.gif"},JViB:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".vy-radio[data-v-68e3d30a]{font-weight:300}p[data-v-68e3d30a]{font-size:14px;padding-top:4px;margin-left:24px;padding-left:4px;word-wrap:break-word;white-space:pre-wrap}",""]);e.exports=s},JXn6:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));let i=0;function s(){i+=1;return"id".concat(i)}},JsPk:function(e,t,a){var i=a("5LOR");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("c4e1820c",i,false,{});if(false){}},K25K:function(e,t,a){var i=a("33dT");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("593cf176",i,false,{});if(false){}},KA5v:function(e,t,a){e.exports=a.p+"Illustration-player-ab104bef7bb6b5569401b185ff84a175.svg"},KEmt:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".download-dialog-content[data-v-9c76386a]{padding-top:24px;padding-bottom:24px}.download-dialog-content .download-file-list[data-v-9c76386a]{display:flex;padding-top:8px;padding-bottom:8px}.download-dialog-content .download-file-list .file-title[data-v-9c76386a]{flex:1}",""]);e.exports=s},KVjs:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("button",{staticClass:"option-button",attrs:{disabled:e.disabled,"aria-describedby":e.bodyId,"aria-labelledby":e.titleId},on:{click:e.click}},[a("span",{staticClass:"image-container"},[e._t("image")],2),e._v(" "),a("span",{staticClass:"description-container"},[a("h2",{staticClass:"description-title",attrs:{id:e.titleId}},[e._v("\n      "+e._s(e.descriptionTitle)+"\n    ")]),e._v(" "),a("p",{staticClass:"description-body",attrs:{id:e.bodyId}},[e._t("description-body",[e._v("\n        "+e._s(e.descriptionBody||"")+"\n      ")])],2)]),e._v(" "),!e.disabled?a("VyIcon",{staticClass:"icon-chevron",attrs:{name:"faChevronRight",type:"regular"}}):e._e()],1)};var s=[];i._withStripped=true;var n=a("nbMm");var r={name:"OptionButton",components:{VyIcon:n["v"]},props:{descriptionBody:{type:String,default:""},descriptionTitle:{type:String,required:true},disabled:{type:Boolean,default:false}},data(){return{randomNumber:Math.floor(Math.random()*1e9)}},computed:{titleId(){return"option-button-description-title__".concat(this.randomNumber)},bodyId(){return"option-button-description-body__".concat(this.randomNumber)}},methods:{click(){if(!this.disabled){this.$emit("click")}}}};var o=r;var l=a("OYSv");var d=a("KHd+");var c=Object(d["a"])(o,i,s,false,null,"37385c26",null);if(false){var u}c.options.__file="app/assets/components/share-dialog/common/option-button.vue";var p=t["a"]=c.exports},KgzW:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".sharing-settings[data-v-f48dcf8e]{margin-top:24px;margin-bottom:24px}",""]);e.exports=s},L1nR:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".allow-click[data-v-2c0e2afe]{pointer-events:auto}.scrubber[data-v-2c0e2afe]{position:absolute;height:calc(100% + 20px);cursor:pointer}.top-layer[data-v-2c0e2afe]{opacity:0}.bottom-layer[data-v-2c0e2afe]{opacity:1}",""]);e.exports=s},L9pG:function(e,t,a){var i=a("XujD");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2918248e",i,false,{});if(false){}},LDpA:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-trim__reel[data-v-e3930abe]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.player-trim[data-v-e3930abe]{overflow-x:hidden;padding:16px;border-top:1px solid #ebf0f7}.header-scaffold[data-v-e3930abe]{display:grid;grid-template-columns:1fr -webkit-max-content;grid-template-columns:1fr max-content}.player-trim__header[data-v-e3930abe]{margin-bottom:24px;display:flex}.player-trim__time[data-v-e3930abe]{display:flex;padding:0 10px;align-items:center;justify-content:center}.player-trim__newtime[data-v-e3930abe]{padding-left:10px}.player-trim__alert[data-v-e3930abe]{margin-bottom:20px}.player-trim__timeline-seek-event-capture[data-v-e3930abe]{height:32px;width:calc(100% - 16px);border-radius:4px;margin:0 8px;cursor:text}.player-trim__reel[data-v-e3930abe]{position:relative;width:calc(100% - 16px);background:#dde1f0;border-radius:4px;padding:8px;margin:0 8px}.player-trim__reel .invisible-text[data-v-e3930abe]{opacity:0;font-size:12px}.player-trim__scrubber-span[data-v-e3930abe]{width:100%;padding:8px;background:#dde1f0}.player-trim__timestamp[data-v-e3930abe]{display:flex;justify-content:flex-end;align-items:flex-start;margin-top:40px}.player-trim__options[data-v-e3930abe]{margin-top:24px;display:flex;justify-content:space-between}.player-trim__options .player-trim__actions[data-v-e3930abe]{display:flex;justify-content:flex-end;flex-grow:1}.player-trim__options .player-trim__actions .vy-button[data-v-e3930abe]{margin-left:12px}.middle-layer[data-v-e3930abe]{position:absolute;z-index:2}.top-layer[data-v-e3930abe]{position:absolute;z-index:3}.bottom-layer[data-v-e3930abe]{position:absolute;z-index:1}.disallow-click[data-v-e3930abe]{pointer-events:none}",""]);e.exports=s},LJPw:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-name-input .vy-input__container{margin-bottom:0}",""]);e.exports=s},LQv2:function(e,t,a){"use strict";var i=a("gfsB");var s=a.n(i);var n=s.a},LSRz:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".move-failed-error[data-v-5138cca2]{margin-bottom:20px}",""]);e.exports=s},LYMS:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".social-share-options[data-v-1b28e9fc]{color:#374054}.social-share-options #social-share-header[data-v-1b28e9fc]{font-size:16px;line-height:24px;font-weight:400;margin:20px 0 0}.social-share-options #social-share-description[data-v-1b28e9fc]{font-size:14px;line-height:20px;margin:4px 0 12px}.social-share-options .social-share-button[data-v-1b28e9fc]{width:44px;height:44px}.social-share-options .social-share-button#facebook-share[data-v-1b28e9fc]{background-color:#375999}.social-share-options .social-share-button#facebook-share[data-v-1b28e9fc]:hover{background-color:#2a4373}.social-share-options .social-share-button#linkedin-share[data-v-1b28e9fc]{background-color:#007cb7}.social-share-options .social-share-button#linkedin-share[data-v-1b28e9fc]:hover{background-color:#005984}.social-share-options .social-share-button#twitter-share[data-v-1b28e9fc]{background-color:#00aeee}.social-share-options .social-share-button#twitter-share[data-v-1b28e9fc]:hover{background-color:#0089bb}.social-share-options .social-share-button#youtube-share[data-v-1b28e9fc]{background-color:#da2025}.social-share-options .social-share-button#youtube-share[data-v-1b28e9fc]:hover{background-color:#ae191d}.social-share-options .social-share-button .social-share-icon[data-v-1b28e9fc]{color:#fff;font-size:16px}.social-share-options .social-share-buttons[data-v-1b28e9fc]{display:grid;grid-template-columns:repeat(4,-webkit-min-content);grid-template-columns:repeat(4,min-content);column-gap:4px}",""]);e.exports=s},Lk0b:function(e,t,a){var i=a("ORh0");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("13aebf80",i,false,{});if(false){}},Lylb:function(e,t,a){var i=a("zacC");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3a38d4b8",i,false,{});if(false){}},Lz30:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".notification-dropdown-container[data-v-19d8fd51]{position:relative;cursor:pointer}",""]);e.exports=s},MDNy:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"share-preview"},[e.thumbnailUrl?a("VyThumbnail",{staticClass:"preview-thumbnail",attrs:{src:e.thumbnailUrl,name:e.name,disabled:""}}):e._e(),e._v(" "),a("div",{staticClass:"share-details"},[a("div",{staticClass:"share-title"},[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),a("div",{staticClass:"share-link"},[e._v("\n      "+e._s(e.shareLink)+"\n    ")])])],1)};var s=[];i._withStripped=true;var n=a("nbMm");var r={name:"SharePreview",components:{VyThumbnail:n["T"]},props:{name:{type:String,required:true},shareLink:{type:String,required:true},thumbnailUrl:{type:String,required:true}}};var o=r;var l=a("wWVe");var d=a("KHd+");var c=Object(d["a"])(o,i,s,false,null,"41dc1f14",null);if(false){var u}c.options.__file="app/assets/components/share-dialog/common/share-preview.vue";var p=t["a"]=c.exports},MLvC:function(e,t,a){var i=a("yCUs");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2bbcffb4",i,false,{});if(false){}},MOR8:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-drawer__reel[data-v-ff75a746],.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none}.player-drawer__playhead[data-v-ff75a746],.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]{outline:none;transition-property:width,box-shadow,border,color;transition-duration:.2s,.2s,.2s,.2s;-webkit-transition-property:width,box-shadow,border,color;-webkit-transition-duration:.2s,.2s,.2s,.2s}.player-drawer__playhead[data-v-ff75a746]:focus,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:focus{box-shadow:0 0 0 3px #bfc4ff}.player-drawer__playhead[data-v-ff75a746]:hover,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:hover{background-color:#414dd4}.player-drawer__playhead[data-v-ff75a746]:active,.player-drawer__playhead[data-v-ff75a746]:focus,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:active,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:focus{background-color:#1b1a82}.player-drawer[data-v-ff75a746]{padding:16px;border-top:1px solid #ebf0f7}.player-drawer__header[data-v-ff75a746]{margin-bottom:24px}.player-drawer__reel[data-v-ff75a746]{position:relative;margin:0 24px}.player-drawer__playhead[data-v-ff75a746]{position:absolute;width:4px;background-color:#5e5cfa;height:20px;bottom:0;z-index:1;transform:translate(-50%,40%);border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px}.player-drawer__playhead[data-v-ff75a746]:active,.player-drawer__playhead[data-v-ff75a746]:focus,.player-drawer__playhead[data-v-ff75a746]:hover{width:8px}.player-drawer__playhead.player-drawer__playhead--selector[data-v-ff75a746]{background-color:#5e5cfa}.player-drawer__playhead.player-drawer__playhead--selector[data-v-ff75a746]:after{border-top-color:#5e5cfa}.player-drawer__scrubber-container[data-v-ff75a746]{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;border:none;position:absolute;cursor:pointer;z-index:1}.player-drawer__scrubber-span[data-v-ff75a746]{width:100%;height:40px;border-bottom:4px solid #5e5cfa}.player-drawer__scrubber[data-v-ff75a746]{position:absolute;height:inherit;cursor:pointer;border-bottom:4px solid #dde1f0}.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]{position:absolute;display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:#5e5cfa;color:#fff;cursor:col-resize}.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:active,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:focus,.player-drawer__scrubber .player-drawer__scrubber-gripper[data-v-ff75a746]:hover{width:28px}.player-drawer__scrubber.player-drawer__scrubber--pre[data-v-ff75a746]{border-right:2px solid #5e5cfa;left:0}.player-drawer__scrubber.player-drawer__scrubber--pre .player-drawer__scrubber-gripper[data-v-ff75a746]{border-top-left-radius:50%;border-bottom-left-radius:50%;right:0}.player-drawer__scrubber.player-drawer__scrubber--post[data-v-ff75a746]{border-left:2px solid #5e5cfa;right:0}.player-drawer__scrubber.player-drawer__scrubber--post .player-drawer__scrubber-gripper[data-v-ff75a746]{border-top-right-radius:50%;border-bottom-right-radius:50%}.player-drawer__timestamp[data-v-ff75a746]{display:flex;justify-content:flex-end;align-items:flex-start;margin-top:16px}.player-drawer__options[data-v-ff75a746]{margin-top:24px;display:flex;justify-content:space-between}.player-drawer__options .player-drawer__actions[data-v-ff75a746]{display:flex;justify-content:flex-end;flex-grow:1}.player-drawer__options .player-drawer__actions .vy-button[data-v-ff75a746]{margin-left:12px}",""]);e.exports=s},MV8Z:function(e,t,a){var i=a("9sj+");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("673c95ee",i,false,{});if(false){}},MbN0:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".download-pqlp-popover[data-v-03bdfabe]{text-align:center;width:120px;top:0}.popover-notch[data-v-03bdfabe]{display:block;transform:rotateY(0deg) rotate(45deg);position:absolute;height:10px;width:10px;left:50%;top:-5px;background:#fff;z-index:6}.download-pqlp-content[data-v-03bdfabe]{margin:15px 0}.vy-button.download-pqlp-button[data-v-03bdfabe]{background-color:#ebfff1;color:#2e7a53;border:none}",""]);e.exports=s},"MiV+":function(e,t,a){var i=a("fubL");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("37bea60e",i,false,{});if(false){}},Mqc9:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.event-count-placeholder[data-v-631573b5]{width:100px}.video-list[data-v-631573b5]{margin-top:20px}.video-icon[data-v-631573b5]{z-index:1}.video-list__video-item[data-v-631573b5]{display:flex;align-items:center}.video-list__video[data-v-631573b5]{position:relative;display:flex;flex-direction:column}.video-list__video[data-v-631573b5]:before{position:absolute;content:"";height:100%;width:2px;left:12px;top:0;background:#ebf0f7}.video-list__video.pre-roll[data-v-631573b5]:before{height:50%;top:50%}.video-list__video+.video-list__video[data-v-631573b5]{padding-top:32px}.video-list__video[data-v-631573b5]:last-of-type:not(.no-events):before{top:0;height:calc(100% - 40px)}.video-name[data-v-631573b5]{margin-left:20px;text-overflow:ellipsis;overflow:hidden}.action-count[data-v-631573b5],.video-name[data-v-631573b5]{color:#606782}',""]);e.exports=s},Mr5L:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a.d(t,"b",(function(){return u}));var i=a("5s+n");var s=a("/Dqt");var n={status:e=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/swap_emails")}),begin:(e,t)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/swap_emails"),data:{email:t}}),cancel:e=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/swap_emails")})};var r=a("+U9d");var o=a("VFqt");var l=a("NSKx");var d=a("nbMm");const{namespacedModule:c,moduleHelpers:u}=Object(s["a"])("profile",{state:{swapEmail:"",errorMessage:"",emailErrorMessage:"",firstName:"",lastName:"",jobTitle:"",calendarLink:"",profilePicture:"",email:"",ssoRestricted:"",hasNewsletter:false,updatePasswordUrl:""},mutations:{"set-swap-emails":(e,t)=>{e.swapEmail=t},"set-error-message":(e,t)=>{e.errorMessage=t},setEmailErrorMessage:(e,t)=>{e.emailErrorMessage=t},"set-first-name":(e,t)=>{e.firstName=t},"set-last-name":(e,t)=>{e.lastName=t},"set-job-title":(e,t)=>{e.jobTitle=t},"set-calendar-link":(e,t)=>{e.calendarLink=t},"set-has-newsletter":(e,t)=>{e.hasNewsletter=t}},actions:{showStatus(e,t){const a=new d["b"]("",{type:t.success?"success":"error",title:t.message,icon:t.success?"check-circle":"exclamation-triangle"});d["b"].show(a)},async updateBasicInfo({commit:e,dispatch:t},a){const i=Object(o["a"])().defaultClient;try{await i.mutate({mutation:l["updateUser"],variables:{input:a}})}catch{t("showStatus",{success:false,message:"An Error Occured"});return{success:false}}e("set-first-name",a.firstName);e("set-last-name",a.lastName);e("set-job-title",a.jobTitle);e("set-calendar-link",a.calendarLink);e("set-has-newsletter",a.newsletter);t("showStatus",{success:true,message:"Updated Profile successfully"});return{success:true}},async updateProfile({commit:e,dispatch:t,rootState:a},i){const s={headers:{"x-csrf-token":a.vidyard.csrfToken}};const{success:n,data:o}=await r["a"].update(i,s);if(n){e("set-error-message","");if((o===null||o===void 0?void 0:o.errors.length)>0){e("set-error-message","Invalid password");return false}return true}t("showStatus",{success:false,message:"Failed to update profile: ".concat(o.error)});return false},verifyPassword({dispatch:e},{password:t}){const a={user:{current_password:t},commit:"Verify"};return e("updateProfile",a)},async retrySwapEmails({commit:e,dispatch:t},a){const i=await t("cancelSwapEmails",{retry:true});if(!i){return false}const s=await t("beginSwapEmails",a);if(!s){e("set-swap-emails","")}},async updateSwapEmails({commit:e,dispatch:t,rootState:a}){const i=n.status(a.vidyard.organization.id);const{data:s,status:r}=await t("vyApi/sendApiRequest",i,{root:true});if(r!==200){t("showStatus",{success:false,message:"Failed to update email swap: ".concat(s)})}else{e("set-swap-emails",s.email)}},async beginSwapEmails({commit:e,dispatch:t,rootState:a},i){const s=n.begin(a.vidyard.organization.id,i);const{data:r,status:o}=await t("vyApi/sendApiRequest",s,{root:true});if(o===403){e("setEmailErrorMessage","The email provided is invalid or already taken");return false}if(o!==204){t("showStatus",{success:false,message:"Failed to begin email swap: ".concat(r)});return false}e("set-swap-emails",i);t("showStatus",{success:true,message:"Please check your email for a verification link"});return true},async cancelSwapEmails({commit:e,dispatch:t,rootState:a},i=false){const s=n.cancel(a.vidyard.organization.id);const{data:r,status:o}=await t("vyApi/sendApiRequest",s,{root:true});if(o!==204){t("showStatus",{success:false,message:"Failed to cancel email swap: ".concat(r)});return false}if(!i){e("set-swap-emails","")}e("set-error-message","");e("setEmailErrorMessage","");return true}}})},NSKx:function(e,t,a){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}],loc:{start:0,end:140}};i.loc.source={body:'#import "../queries/user.fragment.graphql"\n\nmutation updateUser($input: UpdateUserInput!) {\n  updateUser(input: $input) {\n    ...User\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var s={};function n(e){return e.filter((function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(s[t]){return false}else{s[t]=true;return true}}))}i.definitions=i.definitions.concat(n(a("zt8y").definitions));function r(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var a=e.type;if(a.kind==="NamedType"){t.add(a.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach((function(e){r(e,t)}))}if(e.variableDefinitions){e.variableDefinitions.forEach((function(e){r(e,t)}))}if(e.definitions){e.definitions.forEach((function(e){r(e,t)}))}}var o={};(function e(){i.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t);o[e.name.value]=t}}))})();function l(e,t){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==t){return i}}}function d(e,t){var a={kind:e.kind,definitions:[l(e,t)]};if(e.hasOwnProperty("loc")){a.loc=e.loc}var i=o[t]||new Set;var s=new Set;var n=new Set;i.forEach((function(e){n.add(e)}));while(n.size>0){var r=n;n=new Set;r.forEach((function(e){if(!s.has(e)){s.add(e);var t=o[e]||new Set;t.forEach((function(e){n.add(e)}))}}))}s.forEach((function(t){var i=l(e,t);if(i){a.definitions.push(i)}}));return a}e.exports=i;e.exports["updateUser"]=d(i,"updateUser")},Na1q:function(e,t){},"Nr/A":function(e,t,a){var i=a("nwGA");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2aa0f3ca",i,false,{});if(false){}},O1iR:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".responsive-code[data-v-351b5453]{display:flex}.responsive-code .copy-button[data-v-351b5453]{margin-left:20px}",""]);e.exports=s},O7At:function(e,t,a){"use strict";var i=a("K25K");var s=a.n(i);var n=s.a},OATA:function(e,t,a){var i=a("svuC");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("7ab70f93",i,false,{});if(false){}},OEIe:function(e,t,a){"use strict";var i=a("fLqV");var s=a.n(i);var n=s.a},OFk7:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"#embed-popover-wrapper[data-v-2b0d0ccd]{position:relative}.vy-badge[data-v-2b0d0ccd]{display:inline-flex;outline:1px solid transparent}#badge-wrapper[data-v-2b0d0ccd]{margin:12px;border-radius:4px}#badge-wrapper[data-v-2b0d0ccd]:focus,#badge-wrapper[data-v-2b0d0ccd]:hover{cursor:pointer;box-shadow:0 0 0 3px #bfc4ff;outline:0}#upgrade-button[data-v-2b0d0ccd]{margin:0 auto}@media screen and (-ms-high-contrast:active){#badge-wrapper[data-v-2b0d0ccd]:focus{box-shadow:0 0 0 3px #848cab!important}}",""]);e.exports=s},ORh0:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".segment-body[data-v-31be99b6]{outline:none;transition-property:background-color,box-shadow,border,color;transition-duration:.2s,.2s,.2s,.2s}.segment-body[data-v-31be99b6]:focus{box-shadow:0 0 0 3px #bfc4ff}.segment-body[data-v-31be99b6]:hover{background-color:#414dd4}.segment-body[data-v-31be99b6]:active,.segment-body[data-v-31be99b6]:focus{background-color:#1b1a82}.scrubber-segment[data-v-31be99b6]{width:100%;height:100%;background-size:contain;background-repeat:no-repeat;border:none;position:absolute;top:-20px;left:0;right:0;cursor:pointer;pointer-events:none}.segment-body[data-v-31be99b6]{color:#fff;height:100%;font-size:12px;padding:8px;margin-top:20px;position:absolute;pointer-events:auto;background-color:#5e5cfa;border-radius:4px}.disallow-click[data-v-31be99b6]{pointer-events:none;opacity:0}.allow-click[data-v-31be99b6]{pointer-events:auto}.scrubber[data-v-31be99b6]{position:absolute;height:calc(100% + 20px);cursor:pointer}.scrubber.scrubber--pre[data-v-31be99b6]{left:0}.scrubber-segment--active .segment-body[data-v-31be99b6]{border-radius:0;box-shadow:inset 0 0 0 3px #bfc4ff}",""]);e.exports=s},OS8p:function(e,t,a){"use strict";var i=a("Rels");var s=a.n(i);var n=s.a},OX2J:function(e,t,a){"use strict";var i=a("OATA");var s=a.n(i);var n=s.a},OYSv:function(e,t,a){"use strict";var i=a("iDsk");var s=a.n(i);var n=s.a},OeSq:function(e,t,a){"use strict";var i=a("EsEr");var s=a.n(i);var n=s.a},"Ok+A":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:e.video?e.video.name:"",size:"large",visible:e.visible},on:{"update:visible":e.handleVisibilityUpdate},scopedSlots:e._u([e.hasAnalytics&&e.video?{key:"footer",fn:function(){return[a("div",{staticClass:"dialog-footer"},[a("VideoInsightsLegend"),e._v(" "),a("VyButton",{staticClass:"footer-button",attrs:{type:"primary",href:e.insightsDashboardHref}},[e._v("\n        See More Insights\n      ")])],1)]},proxy:true}:null],true)},[e.visible&&e.video?a("VideoInsights",{staticClass:"video-insights",attrs:{"video-id":e.video.id.toString(),"video-created-at":e.video.createdAt,"edit-page-link":e.editPageLink,"video-length":e.video.length},on:{"time-filter-id-init":function(t){return e.timeFilterId=t},"time-filter-id-change":function(t){return e.timeFilterId=t}}}):e._e()],1)};var s=[];i._withStripped=true;var n=a("3bBZ");var r=a("Kz25");var o=a("P56O");var l=a("IHRM");var d=a("W8xq");var c=a("HKrk");var u=a("ycB5");var p=a("nbMm");var h={name:"VideoInsightsDialog",components:{VideoInsights:c["a"],VyDialog:p["r"],VyButton:p["j"],VideoInsightsLegend:u["a"]},props:{visible:{type:Boolean,default:false},video:{type:Object,default:null},videoFacadeUuid:{type:String,default:null}},data(){return{timeFilterId:null}},computed:{...o["c"].mapState(["organization"]),...l["c"].mapGetters(["hasFeature"]),...d["b"].mapGetters(["hasPermission"]),editPageLink(){return"/organizations/".concat(this.organization.id,"/players/").concat(this.videoFacadeUuid,"?edit=true")},hasAnalytics(){return this.hasPermission("can_access_analytics")&&this.hasFeature("analytics_center")},insightsDashboardHref(){if(!this.video){return""}const e=new URLSearchParams({selectedRange:this.getInsightsDashboardTimeRange(),type:"video",id:this.video.id,name:this.video.name,orgId:this.organization.id,source:"video-insights"});return"/organizations/".concat(this.organization.id,"/insights?").concat(e)}},methods:{handleVisibilityUpdate(e){this.$emit("update:visible",e);if(!e){this.$emit("cancel")}},getInsightsDashboardTimeRange(){switch(this.timeFilterId){case"today":case"yesterday":return"last-7-days";case"last-year":return"last-12-months";case"all-time":return"lifetime";default:return this.timeFilterId}}}};var v=h;var m=a("SVh9");var f=a("KHd+");var b=Object(f["a"])(v,i,s,false,null,"7da812fc",null);if(false){var g}b.options.__file="app/assets/components/analytics/VideoInsightsDialog.vue";var y=t["a"]=b.exports},Ompf:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("SidebarSection",{staticClass:"settings-section",attrs:{id:"design","aria-label":"Design","data-testid":"design-card"}},[a("VyCard",{attrs:{icon:e.faPalette,heading:"Player Design",description:"Configure the appearance and behaviour of the player for your viewers","no-padding":""}},[a("div",{staticClass:"design-content"},[a("div",{staticClass:"design-content__left"},[a("img",{attrs:{src:e.playerThumbnail,alt:""}}),e._v(" "),a("div",{staticClass:"main-text",attrs:{id:"design-content__text"}},[a("div",{staticClass:"title"},[e._v("\n            Customize the colors, controls and playback experience\n          ")]),e._v(" "),e.inherits?a("div",[e._v("\n            Settings inherited from\n            "),e.playerOptionsOwner.id?a("a",{attrs:{href:"/organizations/"+e.playerOptionsOwner.id+"/settings"}},[e._v("\n              "+e._s(e.playerOptionsOwner.name)+"\n            ")]):[e._v("\n              "+e._s(e.playerOptionsOwner.name)+"\n            ")]],2):e._e()])]),e._v(" "),a("div",{staticClass:"button"},[a("VyButton",{attrs:{loading:e.playerOptionsOwner===null,href:e.navigation.design,"aria-describedby":"design-content__text",type:"secondary"}},[e._v("\n          "+e._s(e.buttonText)+"\n        ")]),e._v(" "),e.menuItems.length?a("VyOverflowMenu",{attrs:{"aria-label":"Additional player design actions","menu-items":e.menuItems},on:{action:e.inherit}}):e._e()],1)])])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("PF2z");var o=a("P56O");var l=a("mn20");var d=a("xIah");var c=a("nbMm");var u=a("y3in");var p=a("1rdq");var h=a("rHTM");var v=a("KA5v");var m=a.n(v);var f={name:"DesignSection",components:{SidebarSection:u["a"],VyButton:c["j"],VyCard:c["k"],VyOverflowMenu:c["B"]},data(){return{faPalette:p["faPalette"],playerThumbnail:m.a,playerOptionsOwner:null}},computed:{...d["b"].mapState(["player"]),...o["c"].mapState(["organization"]),...l["b"].mapState(["navigation"]),inherits(){var e;return((e=this.playerOptionsOwner)===null||e===void 0?void 0:e.type)==="Organization"},menuItems(){const e=[];if(!this.inherits){e.push({text:"Revert to Defaults"})}return e},buttonText(){return this.inherits?"Override":"Edit"}},mounted(){this.fetchPlayerOptionsOwner()},methods:{...r["b"].mapActions(["sendApiRequest"]),async fetchPlayerOptionsOwner(){const{data:e}=await this.sendApiRequest(h["a"].show(this.organization.id,this.player.id));if(e.error){c["b"].show(new c["b"](e.error,{title:"Failed to fetch player design settings",type:"error"}))}else{this.playerOptionsOwner={type:e.owner_type,...e.owner}}},async inherit(){const{data:e}=await this.sendApiRequest(h["a"].destroy(this.organization.id,this.player.id));if(e===null||e===void 0?void 0:e.error){c["b"].show(new c["b"](e.error,{title:"Failed to revert to default player design settings",type:"error"}))}else{this.fetchPlayerOptionsOwner()}}}};var b=f;var g=a("O7At");var y=a("KHd+");var _=Object(y["a"])(b,i,s,false,null,"29e88aab",null);if(false){var w}_.options.__file="app/assets/components/video_edit_page/settings/sections/design.vue";var x=t["a"]=_.exports},Ooky:function(e,t,a){var i=a("7kp6");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3cbca7bd",i,false,{});if(false){}},OwWi:function(e,t,a){e.exports=a.p+"survey-end-39f137dd16cd855dc211fdaed53e9cb0.png"},P6Vd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("3bBZ");var s=a.n(i);function n(e){if(e){const[t,...a]=e.split("\n");return["\x3c!-- The script tag should live in the head of your page if at all possible --\x3e",t,"\n\x3c!-- Put this wherever you would like your player to appear --\x3e",a.join("\n")].join("\n")}return e}},"PL/0":function(e,t,a){"use strict";var i=a("5s+n");var s=a.n(i);var n=a("7wZh");var r=a("Svhd");var o=a.n(r);const l=async({uuid:e,container:t,logger:a,playbackUrl:i,onLightboxClose:s})=>{try{if(i){o.a._debug.setPlaybackURL(i)}const a=await o.a.api.renderPlayer({uuid:e,container:t,type:"lightbox",aspect:"landscape",disable_analytics:1,viral_sharing:0,embed_button:0});if(s){a.on("lightboxClose",s)}a.showLightbox();return a}catch(e){a.error("Error loading video preview",e);Object(n["a"])(e)}};t["a"]=l},PLM1:function(e,t,a){"use strict";var i=a("/wDy");var s=a.n(i);var n=s.a},POis:function(e,t,a){"use strict";var i=a("L9pG");var s=a.n(i);var n=s.a},PXyb:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a.d(t,"b",(function(){return v}));var i=a("5s+n");var s=a.n(i);var n=a("3bBZ");var r=a.n(n);var o=a("/Dqt");var l=a("Ei+z");var d=a("J9pM");var c=a("twEG");const u=Object(l["a"])("videoEditPage");const p=(e,t)=>e.created_at-t.created_at;const{namespacedModule:h,moduleHelpers:v}=Object(o["a"])("playerThumbnail",{state:{selectedThumbnail:{},thumbnailLibrary:[]},getters:{isPlaceholderThumbnail:()=>e=>!!e&&e.endsWith("encoding.gif"),selectedThumbnailEmailUrl:e=>{var t;return((t=e.selectedThumbnail.url_versions)===null||t===void 0?void 0:t.play_button_small)||""},selectedThumbnailUuid:e=>e.selectedThumbnail.uuid||"",isAudioThumbnail:(e,t,a,i)=>i["videoModule/isAudio"],isSelectedThumbnailBlank:e=>Object.keys(e.selectedThumbnail).length===0,jpgThumbnails:e=>e.thumbnailLibrary.filter((e=>e.thumbnail_type==="generated"&&e.url.endsWith(".jpg"))),gifThumbnails:e=>e.thumbnailLibrary.filter((e=>e.thumbnail_type==="generated"&&e.url.endsWith(".gif"))),customThumbnailLibrary:e=>e.thumbnailLibrary.filter((e=>e.thumbnail_type==="custom")),staticThumbnail:(e,t)=>{if(t.isAudioThumbnail){return e.thumbnailLibrary.find((e=>e.thumbnail_type==="generated"&&e.url.endsWith(".png")))}if(t.jpgThumbnails.length>0){return t.jpgThumbnails[Math.min(5,t.jpgThumbnails.length)-1]}return undefined},animatedThumbnail:(e,t)=>t.gifThumbnails.sort(p)[0],customThumbnail:(e,t)=>{if(e.thumbnailLibrary.length===0)return undefined;const a=t.staticThumbnail&&e.selectedThumbnail.uuid===t.staticThumbnail.uuid;const i=t.animatedThumbnail&&e.selectedThumbnail.uuid===t.animatedThumbnail.uuid;if(a||i){return t.customThumbnailLibrary.sort(p)[0]}return e.selectedThumbnail}},mutations:{"set-selected-thumbnail":(e,t)=>{e.selectedThumbnail=t},"set-thumbnail-library":(e,t)=>{e.thumbnailLibrary=t?t.filter((e=>!e.url.endsWith("encoding.gif"))):[]},"add-thumbnail-to-library":(e,t)=>{if(!t.url.endsWith("encoding.gif")){e.thumbnailLibrary=[...e.thumbnailLibrary,t]}},"remove-thumbnail-from-library":(e,t)=>{e.thumbnailLibrary=e.thumbnailLibrary.filter((e=>e.uuid!==t))}},actions:{...u.mapActions(["showStatus"]),async loadSelectedThumbnail({commit:e,dispatch:t,rootState:a}){const i=d["a"].getSelectedThumbnails(a.playerModule.organizationId,a.playerModule.uuid);const{data:s,status:n}=await t("vyApi/sendApiRequest",i,{root:true});if(n!==200){t("showStatus",{success:false,message:"Failed to fetch selected thumbnail"});return}if(s.length===0)return;const{thumbnail:r}=s[0];if(r&&r.url&&r.thumbnail_type!=="placeholder"){e("set-selected-thumbnail",r)}},async loadThumbnailLibrary({getters:e,commit:t,dispatch:a,rootState:i},{retries:s=20}={}){if(!i.videoModule.id)return;const n=d["a"].videoThumbnails(i.playerModule.organizationId,i.videoModule.id);const{data:r,status:o}=await a("vyApi/sendApiRequest",n,{root:true});if(o!==200){a("showStatus",{success:false,message:"Failed to fetch thumbnail library"});return}const l=r.filter((e=>!e.url.endsWith("encoding.gif")));if(l.length<=1){if(s<1){a("showStatus",{success:false,message:"Timed out while loading thumbnails, please refresh page!"});return}await Object(c["a"])(6e3);await a("loadThumbnailLibrary",{retries:s-1});return}t("set-thumbnail-library",l);if(!e.animatedThumbnail){await a("createThumbnail",{millisecond:0,duration:3e3})}if(e.isSelectedThumbnailBlank){t("set-selected-thumbnail",e.staticThumbnail)}},async createThumbnail({dispatch:e,rootState:t},a){const i=d["a"].createVideoThumbnail(t.playerModule.organizationId,t.videoModule.id,a);const{data:s,status:n}=await e("vyApi/sendApiRequest",i,{root:true});if(n!==201||s.length===0){e("showStatus",{success:false,message:"Failed to create new thumbnail"});return}const r=s[0].uuid;const o=await e("loadThumbnailByUuid",{thumbnailUuid:r});return o?r:undefined},async loadThumbnailByUuid({state:e,rootState:t,commit:a,dispatch:i},{thumbnailUuid:s,retries:n=10}){const r=e.thumbnailLibrary.find((e=>e.uuid===s));if(r){a("remove-thumbnail-from-library",r.uuid)}const o=d["a"].getThumbnail(t.playerModule.organizationId,s);const{data:l,status:u}=await i("vyApi/sendApiRequest",o,{root:true});if(u!==200){i("showStatus",{success:false,message:"Failed to load thumbnail ".concat(s)});return false}if(l.url.endsWith("encoding.gif")){if(n<1){i("showStatus",{success:false,message:"Timed out while waiting for your thumbnail to be ready"});return false}await Object(c["a"])(3e3);const e=await i("loadThumbnailByUuid",{thumbnailUuid:s,retries:n-1});return e}a("add-thumbnail-to-library",l);return true},async updateSelectedThumbnail({state:e,commit:t,dispatch:a,rootState:i,rootGetters:s},n){const r=e.thumbnailLibrary.find((e=>e.uuid===n));if(!r){a("showStatus",{success:false,message:"You cannot set a non-existent thumbnail"});return false}const o=d["a"].setSelectedThumbnail(i.playerModule.organizationId,i.playerModule.uuid,n);const{status:l}=await a("vyApi/sendApiRequest",o,{root:true});if(l!==201){a("showStatus",{success:false,message:"Failed to update thumbnail"});return false}if(!s["features/hasFeature"]("video_playlists")){const e=d["a"].setSelectedVideoThumbnail(i.playerModule.organizationId,i.videoModule.id,n);const{status:t}=await a("vyApi/sendApiRequest",e,{root:true});if(t!==201){a("showStatus",{success:false,message:"Failed to update video thumbnail"});return false}}t("set-selected-thumbnail",r);return true},async deleteThumbnail({state:e,getters:t,commit:a,dispatch:i,rootState:s},n){if(n===e.selectedThumbnail.uuid){if(t.staticThumbnail){const e=await i("updateSelectedThumbnail",t.staticThumbnail.uuid);if(!e)return false}else{i("showStatus",{success:true,message:"You cannot delete the selected thumbnail"});return false}}const r=d["a"].deleteThumbnail(s.playerModule.organizationId,s.playerModule.uuid,n);const{status:o}=await i("vyApi/sendApiRequest",r,{root:true});if(o!==200){i("showStatus",{success:false,message:"Failed to delete thumbnail"});return false}a("remove-thumbnail-from-library",n);return true},async uploadThumbnail({rootState:e,dispatch:t},a){const{key:i}=a.meta;const s=await t("createThumbnail",{url:"s3://".concat(e.aws.vidyard.awsBucket,"/").concat(i)});if(!s)return;const n=await t("updateSelectedThumbnail",s);if(n){t("vidyard/sendHeapEvent",{eventName:"thumbnail.uploaded",customOptions:{fileExtension:a.extension}},{root:true});setTimeout((()=>{t("pollPlayButtonThumbnail",{thumbnailUuid:s})}),6e3)}},async pollPlayButtonThumbnail({state:e,dispatch:t},{thumbnailUuid:a,retries:i=5}){if(e.selectedThumbnail.url_versions.normal===e.selectedThumbnail.url_versions.play_button&&i>0){await t("loadSelectedThumbnail");await t("loadThumbnailByUuid",{thumbnailUuid:a});await Object(c["a"])(6e3);return t("pollPlayButtonThumbnail",{thumbnailUuid:a,retries:i-1})}return true},async pollUpdatedThumbnail({state:e,dispatch:t},{thumbnailUuid:a,retries:i=5}){if(e.selectedThumbnail.uuid===a&&i>0){await t("loadSelectedThumbnail");await Object(c["a"])(3e3);return t("pollUpdatedThumbnail",{thumbnailUuid:a,retries:i-1})}return true},async createThumbnailFromTimeline({getters:e,rootGetters:t,dispatch:a},{second:i,duration:s}){const n=e.customThumbnail;const r=n&&n.thumbnail_type==="custom";const o={thumbnail_type:"custom",second:Math.floor(i),millisecond:Math.floor(i*1e3)};if(s)o.duration=Math.floor(s*1e3);const l=await a("createThumbnail",o);if(!l)return;const d=await a("updateSelectedThumbnail",l);if(d){const e={position:(o.second/t["videoModule/videoDuration"]*100).toFixed(2)};if(s)e.duration=s.toFixed(2);a("vidyard/sendHeapEvent",{eventName:"thumbnail.selected-from-timeline_".concat(s?"animated":"static"),customOptions:e},{root:true});if(r){await a("deleteThumbnail",n.uuid)}setTimeout((()=>{a("pollPlayButtonThumbnail",{thumbnailUuid:l})}),6e3)}}}})},"Pa/p":function(e,t,a){"use strict";var i=a("MLvC");var s=a.n(i);var n=s.a},PjMj:function(e,t,a){"use strict";var i="ass";var s=a("DPZZ");e.exports={name:i,helper:s.helper,detect:s.detect,parse:s.parse,build:s.build}},Pmjp:function(e,t,a){"use strict";var i=a("6gaV");var s=a.n(i);var n=s.a},PyxO:function(e,t,a){"use strict";var i=a("t4/p");var s=a.n(i);var n=s.a},QDPC:function(e,t,a){"use strict";var i=a("lkuC");var s=a.n(i);var n=s.a},QF2v:function(e,t,a){var i=a("IwPF");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("de1069c8",i,false,{});if(false){}},QKBm:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a.d(t,"b",(function(){return o}));var i=a("/Dqt");var s=a("E+oP");var n=a.n(s);const{namespacedModule:r,moduleHelpers:o}=Object(i["a"])("videoEditPage/security",{state:{password:{},accessManager:{},restriction:{whitelisted_ip_ranges:[],authorized_by:""},accessSetting:"inherit",eligibleModerators:[],folderSecurity:{type:"none"},playlistVideos:[],hasPassword:false,hasAccessManager:false,hasIpRestrictions:false,hasSecurePlatform:false,canAccessSecurePlatform:false},mutations:{setPassword(e,t){e.password=t;e.hasPassword=!n()(t)},setAccessManager(e,t){e.accessManager=t;e.hasAccessManager=!n()(t)},updateRestrictions(e,t){e.restriction={...e.restriction,...t};e.hasIpRestrictions=Array.isArray(e.restriction.whitelisted_ip_ranges)&&!e.restriction.whitelisted_ip_ranges.length;e.hasSecurePlatform=e.restriction.authorized_by==="platform"},setAccessSetting(e,t){e.accessSetting=t}}})},QKaz:function(e,t,a){"use strict";var i=a("mX+Q");var s=a.n(i);var n=s.a},QSc6:function(e,t,a){"use strict";var i=a("0jNN");var s=a("sxOR");var n={brackets:function e(t){return t+"[]"},indices:function e(t,a){return t+"["+a+"]"},repeat:function e(t){return t}};var r=Date.prototype.toISOString;var o={delimiter:"&",encode:true,encoder:i.encode,encodeValuesOnly:false,serializeDate:function e(t){return r.call(t)},skipNulls:false,strictNullHandling:false};var l=function e(t,a,s,n,r,l,d,c,u,p,h,v){var m=t;if(typeof d==="function"){m=d(a,m)}else if(m instanceof Date){m=p(m)}else if(m===null){if(n){return l&&!v?l(a,o.encoder):a}m=""}if(typeof m==="string"||typeof m==="number"||typeof m==="boolean"||i.isBuffer(m)){if(l){var f=v?a:l(a,o.encoder);return[h(f)+"="+h(l(m,o.encoder))]}return[h(a)+"="+h(String(m))]}var b=[];if(typeof m==="undefined"){return b}var g;if(Array.isArray(d)){g=d}else{var y=Object.keys(m);g=c?y.sort(c):y}for(var _=0;_<g.length;++_){var w=g[_];if(r&&m[w]===null){continue}if(Array.isArray(m)){b=b.concat(e(m[w],s(a,w),s,n,r,l,d,c,u,p,h,v))}else{b=b.concat(e(m[w],a+(u?"."+w:"["+w+"]"),s,n,r,l,d,c,u,p,h,v))}}return b};e.exports=function(e,t){var a=e;var r=t?i.assign({},t):{};if(r.encoder!==null&&r.encoder!==undefined&&typeof r.encoder!=="function"){throw new TypeError("Encoder has to be a function.")}var d=typeof r.delimiter==="undefined"?o.delimiter:r.delimiter;var c=typeof r.strictNullHandling==="boolean"?r.strictNullHandling:o.strictNullHandling;var u=typeof r.skipNulls==="boolean"?r.skipNulls:o.skipNulls;var p=typeof r.encode==="boolean"?r.encode:o.encode;var h=typeof r.encoder==="function"?r.encoder:o.encoder;var v=typeof r.sort==="function"?r.sort:null;var m=typeof r.allowDots==="undefined"?false:r.allowDots;var f=typeof r.serializeDate==="function"?r.serializeDate:o.serializeDate;var b=typeof r.encodeValuesOnly==="boolean"?r.encodeValuesOnly:o.encodeValuesOnly;if(typeof r.format==="undefined"){r.format=s["default"]}else if(!Object.prototype.hasOwnProperty.call(s.formatters,r.format)){throw new TypeError("Unknown format option provided.")}var g=s.formatters[r.format];var y;var _;if(typeof r.filter==="function"){_=r.filter;a=_("",a)}else if(Array.isArray(r.filter)){_=r.filter;y=_}var w=[];if(typeof a!=="object"||a===null){return""}var x;if(r.arrayFormat in n){x=r.arrayFormat}else if("indices"in r){x=r.indices?"indices":"repeat"}else{x="indices"}var S=n[x];if(!y){y=Object.keys(a)}if(v){y.sort(v)}for(var k=0;k<y.length;++k){var C=y[k];if(u&&a[C]===null){continue}w=w.concat(l(a[C],C,S,c,u,p?h:null,_,v,m,f,g,b))}var P=w.join(d);var T=r.addQueryPrefix===true?"?":"";return P.length>0?T+P:""}},QdxG:function(e,t,a){"use strict";var i=a("Tlmj");var s=a.n(i);var n=s.a},"Qf/9":function(e,t,a){var i=a("hThP");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1ca4802e",i,false,{});if(false){}},Qfib:function(e,t){},Qnb3:function(e,t,a){"use strict";var i=a("mn20");var s=a("PXyb");var n=a("huFF");var r=a("Xl0d");var o=a("xIah");var l=a("Mr5L");t["a"]={modules:{...i["a"],...s["a"],...n["a"],...r["a"],...o["a"],...l["a"]}}},Qx1s:function(e,t,a){"use strict";var i=a("v0qI");var s=a.n(i);var n=s.a},Qyje:function(e,t,a){"use strict";var i=a("QSc6");var s=a("nmq7");var n=a("sxOR");e.exports={formats:n,parse:s,stringify:i}},Qyzr:function(e,t,a){"use strict";var i=a("Cy5+");var s=a.n(i);var n=s.a},RDwk:function(e,t,a){var i=a("xoTF");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("5028d132",i,false,{});if(false){}},RGSw:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("PageLayout",{attrs:{"hide-right-sidebar":!e.sidebarShowing,"right-sidebar-label":"Share "+(e.isPlaylist?"playlist":"video")+" sidebar"},scopedSlots:e._u([{key:"actionbar",fn:function(){return[e.showRightSidebar?a("MailerTopBar",e._b({on:{"toggle-share-sidebar":e.toggleSidebar}},"MailerTopBar",e.topBarProps,false)):a("TopBar",e._b({},"TopBar",e.topBarProps,false))]},proxy:true},e.showLeftSidebar?{key:"left-sidebar",fn:function(){return[a("EditPageSidebar")]},proxy:true}:null,e.showRightSidebar?{key:"right-sidebar",fn:function(){return[a("EditRightSidebar",{attrs:{hidden:!e.sidebarShowing,"embed-codes-ready":e.embedCodesReady,"embed-codes":e.embedCodes,"embed-enabled":e.embedEnabled,"on-embed-toggle-finish":e.onEmbedToggleFinish,"google-client-id":e.googleClientId,"outlook-client-id":e.outlookClientId,"base-domain":e.baseDomain},on:{"toggle-share-sidebar":e.toggleSidebar}})]},proxy:true}:null],true)},[e._v(" "),a("Heading",{attrs:{level:"h1","screen-reader-only":""}},[e._v("\n    Edit Page\n  ")]),e._v(" "),e._v(" "),e._v(" "),!(e.hasFeature("video_playlists")&&e.isPlaylist)?a("EditVideo",{attrs:{"nps-survey-id":e.npsSurveyId}}):a("EditPlaylist")],1)};var s=[];i._withStripped=true;var n=a("2un2");var r=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyGrid",[a("div",{staticClass:"edit-video-scaffold"},[a("div",{staticClass:"player-details grid-section"},[e.npsSurveyId>0?a("NpsSurveyAlert",{staticClass:"library__grid-item",attrs:{title:"How was your recording experience?","button-text":"Take a Quick Survey","allow-contact-visible":true,"survey-id":e.npsSurveyId,"custom-nps-question":e.tnpsQuestion}}):e._e(),e._v(" "),a("EditPlayerAlerts",{staticClass:"grid-section"}),e._v(" "),a("SidebarSection",{attrs:{id:"videoname","aria-label":"Edit Page"}},[a("EditPlayerName")],1),e._v(" "),a("SidebarSection",{attrs:{id:"player","aria-label":"Player"}},[a("PlayerCard")],1),e._v(" "),e.isSeoIndexable||e.hasFeature("video_description_and_tags")&&e.hasPermission("can_edit_players")?a("SidebarSection",{attrs:{id:"description-and-tags","aria-label":""+(e.isSeoIndexable?"Description":"Description and Tags")}},[a("DescriptionAndTagsCard")],1):e._e()],1),e._v(" "),e.editable&&e.hasPermission("can_edit_players")?a("SidebarSection",{staticClass:"grid-section",attrs:{id:"thumbnail","aria-label":"Thumbnails"}},[a("ThumbnailCard",{attrs:{"is-personalized":e.isPersonalized}})],1):e._e(),e._v(" "),e.getVariation("video_chapters",false)&&e.hasPermission("can_edit_players")?a("SidebarSection",{staticClass:"grid-section",attrs:{id:"chapter","aria-label":"Chapters"}},[a("VideoSectionsCard")],1):e._e(),e._v(" "),e.hasFeature("transcriptions")&&e.hasPermission("can_edit_players")?a("SidebarSection",{staticClass:"grid-section",attrs:{id:"caption","aria-label":"Captions"}},[a("CaptionsCard")],1):e._e(),e._v(" "),!e.hasFeature("new_video_edit_page")&&e.hasFeature("sharing_page_seo")?a("SidebarSection",{staticClass:"grid-section",attrs:{id:"access-settings","aria-label":"access settings"}},[a("AccessSettingsCard")],1):e._e(),e._v(" "),e.canAccessSocialSharing?a("SidebarSection",{staticClass:"grid-section",attrs:{id:"locations","aria-label":"Location Settings"}},[a("SocialSharing",{attrs:{"player-uuid":e.uuid}})],1):e._e()],1)])};var o=[];r._withStripped=true;var l=a("xIah");var d=a("IHRM");var c=a("W8xq");var u=a("QKBm");var p=a("IYjj");var h=a("mn20");var v=a("PXyb");var m=a("b20N");var f=a("nbMm");var b=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{attrs:{id:"chapters",heading:"Chapters",description:"Add chapters to break up your video into sections allowing your viewers to quickly jump to different parts",icon:e.faListAlt}},[a("div",{staticClass:"chapter-subheader"},[a("div",{staticClass:"chapter-subheader-title"},[e._v("\n      Your video contains 0 chapters\n    ")]),e._v(" "),a("VyButton",{attrs:{type:"secondary"}},[e._v("\n      Manage Chapters\n    ")])],1)])};var g=[];b._withStripped=true;var y=a("1Nzj");var _={name:"VideoSectionsCard",components:{VyCard:f["k"],VyButton:f["j"]},data(){return{faListAlt:y["faListAlt"]}},computed:{},methods:{}};var w=_;var x=a("PLM1");var S=a("KHd+");var k=Object(S["a"])(w,b,g,false,null,"5f98820b",null);if(false){var C}k.options.__file="app/assets/components/video_edit_page/video/video-sections-card/VideoSectionsCard.vue";var P=k.exports;var T=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{attrs:{id:"captions",heading:"Captions",description:"Display the audio from your video during playback to improve accessibility and SEO",icon:e.faClosedCaptioning}},[a("div",{staticClass:"caption-scaffold"},[a("div",{staticClass:"heading-area"},[e._v("\n      Create a caption\n    ")]),e._v(" "),a("div",{staticClass:"control-area"},[e.createEmbedVisible||e.requestEmbedVisible?a("VyButton",{attrs:{"aria-label":"Close"},on:{click:e.closeEmbeds},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faTimes"}})]},proxy:true}])}):a("VyMenu",{attrs:{"menu-items":e.newCaptionMenuItems,"aria-label":"New captions menu"},on:{action:e.handleNewCaption},scopedSlots:e._u([{key:"button",fn:function(t){var i=t.bind;var s=t.click;var n=t.keypress;return[a("VyButton",e._b({attrs:{"aria-haspopup":"menu",loading:e.loading},on:{click:s},nativeOn:{keypress:function(e){return n(e)}},scopedSlots:e._u([{key:"icon-right",fn:function(){return[a("VyIcon",{attrs:{name:"faCaretDown",type:"solid"}})]},proxy:true}],true)},"VyButton",i,false),[e._v("\n            New Caption\n            ")])]}}])})],1),e._v(" "),e.createEmbedVisible||e.requestEmbedVisible?a("div",{staticClass:"embed-area"},[e.createEmbedVisible?a("EmbedCreateCaption",{attrs:{languages:e.languages,upload:e.uploadMode},on:{"EmbedCreateCaption:create-caption":e.handleCaptionCreate,"EmbedCreateCaption:upload-caption":e.handleCaptionUpload,"EmbedCreateCaption:upload-error":e.handleCaptionUploadError}}):e.requestEmbedVisible?a("EmbedRequestCaption",{attrs:{"rev-languages":e.revLanguages,"minutes-of-video":e.videoLength,"include-free-options":!e.autoGeneratedCaptionExists,"include-paid-options":e.paidCaptionsAvailable},on:{"EmbedRequestCaption:request-caption":e.handleCaptionRequest}}):e._e()],1):e._e(),e._v(" "),!e.loading&&e.captions.length>0?a("div",{staticClass:"data-area"},[a("VyTable",{staticClass:"table-grid",attrs:{options:e.tableOptions}},[a("thead",[a("tr",[a("th",[e._v("\n              Name\n            ")]),e._v(" "),a("th",{staticClass:"type-header"},[e._v("\n              Type\n            ")]),e._v(" "),a("th",{attrs:{colspan:"2"}},[e._v("\n              Publish\n            ")])])]),e._v(" "),a("tbody",e._l(e.captions,(function(t){return a("CaptionsRow",{key:t.id,attrs:{"caption-id":t.id,"language-name":t.language,"formatted-language-name":t.formatted_language_name,"is-default":t.is_default,"creator-type":t.creator_type,status:t.status,"error-message":t.error_message||"","download-urls":{vtt:t.vtt_download_url,srt:t.srt_download_url,txt:t.txt_download_url,txt_plain:t.txt_plain_download_url}},on:{"CaptionsRow:set-default":e.handleSetDefault,"CaptionsRow:edit":e.handleEdit,"CaptionsRow:set-status":e.handleSetStatus,"CaptionsRow:delete":e.handleDelete,"CaptionsRow:download":e.handleDownload}})})),1)])],1):e._e()])])};var V=[];T._withStripped=true;var A=a("5s+n");var E=a("3bBZ");var I=a("P56O");var D=a("DPU2");var O=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("tr",[a("td",[a("div",{staticClass:"flexbox-start"},[a("div",{staticClass:"flexbox-align-center"},[e._v("\n        "+e._s(e.formattedLanguageName)+"\n      ")]),e._v(" "),a("div",{staticClass:"status-area caption-tag"},[e.isDefault?a("VyBadge",{attrs:{tabindex:-1,text:"Default","tooltip-text":"Default Caption"}}):e._e()],1)])]),e._v(" "),a("td",{staticClass:"caption-type"},[a("div",{staticClass:"flexbox-start"},[a("div",{staticClass:"flexbox-align-center"},[e._v("\n        "+e._s(e.creatorTypeFormatted)+"\n      ")])])]),e._v(" "),e.transcriptionError?a("td",[a("div",{staticClass:"flexbox-start"},[a("VyTooltip",{attrs:{content:e.errorMessage}},[a("div",{staticClass:"flexbox-align-center"},[e._v("\n          Error\n        ")])])],1)]):[!e.processing?a("td",[a("div",{staticClass:"flexbox-start"},[a("div",{staticClass:"flexbox-align-center caption-publish-text"},[e._v("\n          Draft\n        ")]),e._v(" "),a("div",{staticClass:"slider-area"},[a("VySwitch",{attrs:{"hide-state":"",name:"Publish Control","aria-label":"Publishing Control"},model:{value:e.publishVideo,callback:function(t){e.publishVideo=t},expression:"publishVideo"}})],1),e._v(" "),a("div",{staticClass:"flexbox-align-center caption-publish-text"},[e._v("\n          Published\n        ")])])]):a("td",[a("div",{staticClass:"flexbox-start"},[a("VyStatus",{attrs:{status:"processing"}})],1)])],e._v(" "),a("td",[a("div",{staticClass:"overflow-cell"},[a("VyOverflowMenu",{attrs:{"menu-items":e.menuItems,"aria-label":"more actions for captions"},on:{action:e.handleAction}}),e._v(" "),a("DialogDownloadCaption",{attrs:{visible:e.downloadDialogVisible,"transcription-files":e.downloadUrls},on:{"update:visible":function(t){e.downloadDialogVisible=t},"DialogDownloadCaption:download":e.handleDownload}}),e._v(" "),a("DialogDeleteCaption",{attrs:{visible:e.deleteDialogVisible},on:{"update:visible":function(t){e.deleteDialogVisible=t},"DialogDeleteCaption:delete":e.handleDelete}})],1)])],2)};var L=[];O._withStripped=true;var B=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:"Download caption",visible:e.visible,size:"tiny"},on:{"visible-change":function(t){return e.$emit("update:visible",t)}}},[a("span",[e._v("Select a version to download")]),e._v(" "),a("div",{staticClass:"download-dialog-content"},[e.transcriptionFiles?a("div",e._l(e.transcriptionFiles,(function(t,i){return a("div",{key:i,staticClass:"download-file-list"},[a("span",{staticClass:"file-title"},[e._v("\n          "+e._s(e.hrTitles(i))+"\n        ")]),e._v(" "),a("VyButton",{attrs:{"aria-label":"Download "+i,"data-heap":"video-download"},on:{click:function(a){return e.download(t,i)}}},[a("VyIcon",{attrs:{slot:"icon",name:"faDownload",type:"regular"},slot:"icon"})],1)],1)})),0):e._e()])])};var M=[];B._withStripped=true;var z={name:"DialogDownloadCaption",components:{VyDialog:f["r"],VyButton:f["j"],VyIcon:f["v"]},props:{visible:{type:Boolean,default:false},transcriptionFiles:{type:Object,required:true}},data(){return{hrTable:[{key:"vtt",title:"VTT"},{key:"srt",title:"SRT"},{key:"txt",title:"Text"},{key:"txt_plain",title:"Text without timestamps"}]}},methods:{hrTitles(e){return this.hrTable.find((t=>t.key===e)).title},download(e,t){this.$emit("".concat(this.$options.name,":download"),{downloadType:t});window.location=e}}};var F=z;var U=a("tzZ3");var R=Object(S["a"])(F,B,M,false,null,"9c76386a",null);if(false){var j}R.options.__file="app/assets/components/video_edit_page/video/captions-card/dialog-download-caption.vue";var q=R.exports;var N=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("ConfirmDelete",{attrs:{visible:e.visible,title:"Are you sure you want to delete this caption?",text:"This caption will be removed from this video, and it cannot be recovered."},on:{"update:visible":function(t){return e.$emit("update:visible",t)},"deletion-confirmed":e.deleteCaption}})};var $=[];N._withStripped=true;var H=a("CSYd");var Y={name:"DialogDeleteCaption",components:{ConfirmDelete:H["a"]},props:{visible:{type:Boolean,default:false}},methods:{deleteCaption(){this.$emit("".concat(this.$options.name,":delete"))}}};var G=Y;var W=Object(S["a"])(G,N,$,false,null,null,null);if(false){var J}W.options.__file="app/assets/components/video_edit_page/video/captions-card/dialog-delete-caption.vue";var Z=W.exports;var K={name:"CaptionsRow",components:{VyBadge:f["g"],VyOverflowMenu:f["B"],VyStatus:f["L"],VySwitch:f["M"],VyTooltip:f["U"],DialogDownloadCaption:q,DialogDeleteCaption:Z},props:{captionId:{type:Number,required:true},languageName:{type:String,required:true},formattedLanguageName:{type:String,required:true},isDefault:{type:Boolean,required:true},creatorType:{type:String,required:true},status:{type:String,required:true},errorMessage:{type:String,required:true},downloadUrls:{type:Object,required:true}},data(){return{downloadDialogVisible:false,deleteDialogVisible:false,menuItems:[{text:"Edit",action:"edit",selectable:true},{text:"Set Default",action:"default",selectable:true},{text:"Download",action:"download",selectable:true},{text:"Delete",action:"delete",selectable:true}]}},computed:{creatorTypeFormatted(){switch(this.creatorType){case"Automatic":return"Automated";case"Request":return"Requested";default:return this.creatorType}},transcriptionError(){return this.status==="error"},publishVideo:{get(){return this.status==="published"},set(e){this.$emit("".concat(this.$options.name,":set-status"),{captionId:this.captionId,status:e,language:this.languageName})}},processing(){return this.status!=="draft"&&this.status!=="complete"&&!this.publishVideo&&!this.transcriptionError}},watch:{isDefault(){this.menuItems.find((e=>e.action==="default")).selectable=!this.isDefault},processing(){this.menuItems.find((e=>e.action==="edit")).selectable=!this.processing;this.menuItems.find((e=>e.action==="download")).selectable=!this.processing}},created(){this.menuItems.find((e=>e.action==="default")).selectable=!this.isDefault;this.menuItems.find((e=>e.action==="edit")).selectable=!this.processing;this.menuItems.find((e=>e.action==="download")).selectable=!this.processing},methods:{handleDownload(e){this.$emit("".concat(this.$options.name,":download"),{...e,language:this.languageName})},handleDelete(){this.$emit("".concat(this.$options.name,":delete"),this.captionId)},handleAction(e){switch(this.menuItems[e].action){case"default":this.$emit("".concat(this.$options.name,":set-default"),this.captionId);break;case"delete":this.deleteDialogVisible=true;break;case"download":this.downloadDialogVisible=true;break;default:this.$emit("".concat(this.$options.name,":edit"),{captionId:this.captionId,captionType:this.creatorType});break}}}};var Q=K;var X=a("Pa/p");var ee=Object(S["a"])(Q,O,L,false,null,"7112e6b8",null);if(false){var te}ee.options.__file="app/assets/components/video_edit_page/video/captions-card/caption-row.vue";var ae=ee.exports;var ie=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"request-dialog-scaffold"},[a("label",{attrs:{id:"language-request-type"}},[e._v("\n    Language\n  ")]),e._v(" "),a("div",{staticClass:"controls"},[a("VyMenuRadio",{staticClass:"request-type",attrs:{"labelled-by":"language-request-type","menu-items":e.captionRequestMenuItems,selected:e.selected},on:{select:e.handleCaptionRequestSelect}}),e._v(" "),e.revLanguages.length>0&&!e.autoSelected?a("VyButton",{on:{click:e.handleAddNotes}},[e._v("\n      Notes\n    ")]):e._e(),e._v(" "),a("VyButton",{attrs:{type:"primary"},on:{click:e.handleRequest}},[e._v("\n      Request\n    ")])],1),e._v(" "),e.showAdditionalNotes?a("div",{staticClass:"additional-notes-area"},[a("VyTextArea",{attrs:{"aria-label":"Additional Notes",placeholder:"Enter additional notes for the caption request.","max-length":900},model:{value:e.additionalNotes,callback:function(t){e.additionalNotes=t},expression:"additionalNotes"}})],1):e._e(),e._v(" "),a("div",[e._v("\n    "+e._s(e.selected.description)+"\n  ")]),e._v(" "),a("div",{staticClass:"auto-caption-controls"},[a("VyCheckbox",{staticClass:"auto-publish-option",model:{value:e.autoPublish,callback:function(t){e.autoPublish=t},expression:"autoPublish"}},[e._v("\n      Publish captions when complete\n    ")])],1),e._v(" "),a("ConfirmationDialog",{attrs:{title:"Are you sure you want to request paid captions?",action:"Yes, request",type:"primary",visible:e.confirmRequestVisible},on:{"update:visible":function(t){e.confirmRequestVisible=t},confirmed:e.handleConfirm}},[a("p",[e._v("The primary contact for your account will receive an email invoice for the estimated cost of $"+e._s(e.selected.cost)+".")])])],1)};var se=[];ie._withStripped=true;var ne=a("ibEo");var re={name:"EmbedRequestCaption",components:{VyButton:f["j"],VyCheckbox:f["m"],VyMenuRadio:f["A"],VyTextArea:f["S"],ConfirmationDialog:ne["a"]},props:{revLanguages:{type:Array,required:false,default:()=>[]},minutesOfVideo:{type:Number,required:true},includePaidOptions:{type:Boolean,required:false,default:true},includeFreeOptions:{type:Boolean,required:false,default:true}},data(){return{confirmRequestVisible:false,autoPublish:true,showAdditionalNotes:false,newCaptionMenuItems:[{text:"Request",id:"request"},{text:"Create",id:"create"},{text:"Upload",id:"upload"}],captionRequestMenuItems:[],selected:{},additionalNotes:""}},computed:{autoSelected(){return this.selected.type==="auto"},formattedRevLanguages(){return this.revLanguages.map((e=>({id:e[1],type:"paid",selectable:true,text:e[0],cost:this.cost(e[1]),description:"This caption request will cost approx. $".concat(this.cost(e[1])," USD. Estimated completion time is ").concat(this.turnaroundTime(e[1])),serviceLevel:e[1]==="en"?"standard":"foreign"})))},confirmationLabel(){return"The estimated cost $".concat(this.selected.cost," will be added to your monthly payment automatically after this transaction")}},created(){const e={id:"empty-state",type:"auto",selectable:false,text:"No caption options available"};const t={id:"en-free",type:"auto",selectable:true,text:"English (en) (Automated)",description:"This caption request is FREE. Estimated completion time is under 10 mins."};if(this.includeFreeOptions){this.captionRequestMenuItems.push(t);this.selected=this.captionRequestMenuItems.find((e=>e.id==="en-free"))}if(this.revLanguages.length>0&&this.includePaidOptions){this.captionRequestMenuItems=[...this.captionRequestMenuItems,...this.formattedRevLanguages];if(!this.includeFreeOptions){this.selected=this.captionRequestMenuItems.find((e=>e.id==="en"))}}if(!this.includePaidOptions&&!this.includeFreeOptions){this.captionRequestMenuItems.push(e);this.selected=this.captionRequestMenuItems.find((e=>e.id==="empty-state"))}},methods:{turnaroundTime(e){if(e!=="en"){return"2 business days"}return"1 business days"},cost(e){const t=1.5;let a=1;if(e!=="en"){a=7.5}const i=Number("".concat(Math.round("".concat(a*t,"e2")),"e-2"));return(i*this.minutesOfVideo).toFixed(2)},handleAddNotes(){this.showAdditionalNotes=!this.showAdditionalNotes},handleRequest(){if(this.selected.type==="paid"){this.confirmRequestVisible=true;return}this.handleConfirm()},handleConfirm(){this.$nextTick((()=>{this.$emit("".concat(this.$options.name,":request-caption"),{selected:this.selected,autoPublish:this.autoPublish,notes:this.additionalNotes})}))},handleCaptionRequestSelect(e){this.selected=this.captionRequestMenuItems[e];this.showAdditionalNotes=this.autoSelected?false:this.showAdditionalNotes}}};var oe=re;var le=a("pUus");var de=Object(S["a"])(oe,ie,se,false,null,"97225b8e",null);if(false){var ce}de.options.__file="app/assets/components/video_edit_page/video/captions-card/embed-request-caption.vue";var ue=de.exports;var pe=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"request-dialog-scaffold"},[a("label",{attrs:{id:"language-request-type"}},[e._v("\n    Language\n  ")]),e._v(" "),a("div",{staticClass:"controls"},[a("VyMenuRadio",{staticClass:"request-type",attrs:{"labelled-by":"language-request-type","max-height":"200px","menu-items":e.formattedLanguageName,selected:e.selected},on:{select:e.handleCaptionRequestSelect}}),e._v(" "),e.upload?a("input",{ref:"uploadFile",staticClass:"hidden",attrs:{id:"uploadFile",accept:".vtt,.srt",type:"file"},on:{change:e.handleFileChange}}):e._e(),e._v(" "),e.upload?a("VyButton",{attrs:{loading:e.processing,"aria-label":"Upload",tabindex:"0"},on:{click:e.handleUploadFile}},[a("VyIcon",{attrs:{slot:"icon",name:"faUpload"},slot:"icon"}),e._v("\n      Upload\n    ")],1):a("VyButton",{attrs:{type:"primary"},on:{click:e.handleRequest}},[e._v("\n      Create\n    ")])],1),e._v(" "),e.fileValidationError?a("div",{staticClass:"error-message"},[a("VyIcon",{staticClass:"icon",attrs:{name:"faExclamationTriangle"}}),e._v("\n    Invalid file type. File must be .vtt or .srt.\n  ")],1):e._e()])};var he=[];pe._withStripped=true;const{detect:ve}=a("VmXq");var me={name:"EmbedCreateCaption",components:{VyButton:f["j"],VyMenuRadio:f["A"],VyIcon:f["v"]},props:{languages:{type:Array,required:true},upload:{type:Boolean,required:false,default:false}},data(){return{autoPublish:true,processing:false,fileValidationError:false,newCaptionMenuItems:[{text:"Request",id:"request"},{text:"Create",id:"create"},{text:"Upload",id:"upload"}],selected:{id:"en",text:"English (en)"}}},computed:{formattedLanguageName(){return this.languages.map((e=>({id:e[1],text:e[0]})))}},methods:{handleRequest(){this.$emit("".concat(this.$options.name,":create-caption"),this.selected)},handleCaptionRequestSelect(e){this.selected=this.formattedLanguageName[e]},handleUploadFile(){this.fileValidationError=false;this.$refs.uploadFile.click()},handleFileChange(){this.processing=true;const e=this.$refs.uploadFile.files[0];const t=new FileReader;t.onload=t=>{const a=ve(t.target.result);if(a==="vtt"||a==="srt"){this.$emit("".concat(this.$options.name,":upload-caption"),{uploadedFile:e,languageData:this.selected});return}this.$emit("".concat(this.$options.name,":upload-error"),"File is not a valid VTT or SRT file.");this.fileValidationError=true;this.processing=false};t.readAsText(e)}}};var fe=me;var be=a("l6F4");var ge=Object(S["a"])(fe,pe,he,false,null,"724efc14",null);if(false){var ye}ge.options.__file="app/assets/components/video_edit_page/video/captions-card/embed-create-caption.vue";var _e=ge.exports;var we={name:"CaptionsCard",components:{VyButton:f["j"],VyCard:f["k"],VyMenu:f["z"],VyIcon:f["v"],VyTable:f["O"],CaptionsRow:ae,EmbedRequestCaption:ue,EmbedCreateCaption:_e},data(){return{faClosedCaptioning:D["faClosedCaptioning"],loading:true,polling:null,pollingInterval:5e3,pollingPaused:false,tableOptions:{highlight:true},requestEmbedVisible:false,createEmbedVisible:false,uploadMode:false}},computed:{...m["b"].mapState(["captions","languages","revLanguages"]),...d["c"].mapGetters(["hasFeature"]),...c["b"].mapGetters(["hasPermission"]),...l["b"].mapState(["uuid","organizationId"]),...l["b"].mapState({videoLength:e=>Math.ceil(e.playlistVideos[0].video_attributes.seconds/60)||0}),paidCaptionsAvailable(){return this.hasFeature("captions_request_paid")&&this.hasPermission("can_request_paid_caption")},autoGeneratedCaptionExists(){return this.captions.filter((e=>e.creator_type==="Automatic")).length>0},newCaptionMenuItems(){const e=[{text:"Create",id:"create",selectable:true,icon:{name:"faPlus",spin:false,type:"light"}},{text:"Upload",id:"upload",selectable:true,icon:{name:"faUpload",spin:false,type:"light"}}];if(this.autoGeneratedCaptionExists&&!this.paidCaptionsAvailable){return e}return[...[{text:"Request",id:"request",selectable:true,icon:{name:"faFileSignature",spin:false,type:"light"}}],...e]}},created(){this.pollData()},beforeDestroy(){clearTimeout(this.polling)},methods:{...I["c"].mapActions(["sendHeapEvent"]),...m["b"].mapActions(["setDefaultCaption","publishCaption","draftCaption","deleteCaption","createCaption","requestAutoTranscribe","requestPaidTranscribe","loadCaptions","uploadCaptionFile"]),pollData(e){this.polling=setTimeout(this.refreshCaptions,e||this.pollingInterval)},async refreshCaptions(){if(!this.pollingPaused){const e=await this.loadCaptions();if(e===401){window.location.reload()}if(e!==200){this.pollData(5e4);return}}this.loading=false;this.pollData()},closeEmbeds(){this.requestEmbedVisible=false;this.createEmbedVisible=false},openCaptionEditor(e){window.location.href="/organizations/".concat(this.organizationId,"/players/").concat(this.uuid,"/captions/").concat(e,"?edit=true")},handleDownload(e){this.sendHeapEvent({eventName:"captions.downloaded",customOptions:{...e}})},handleEdit(e){this.sendHeapEvent({eventName:"captions.edited",customOptions:{type:e.captionType}});this.openCaptionEditor(e.captionId)},handleSetDefault(e){this.setDefaultCaption({captionObj:this.captions.filter((t=>t.id===e))[0]})},handleSetStatus({status:e,captionId:t,language:a}){if(e){this.sendHeapEvent({eventName:"Successful - Caption published",customOptions:{language:a}});return this.publishCaption({captionId:t})}this.sendHeapEvent({eventName:"Successful - Caption unpublished",customOptions:{language:a}});return this.draftCaption({captionId:t})},handleDelete(e){this.deleteCaption({captionId:e})},handleCaptionRequest(e){if(e.selected.type==="auto"){this.requestAutoTranscribe({autoPublish:e.autoPublish})}if(e.selected.type==="paid"){this.requestPaidTranscribe({serviceLevel:e.selected.serviceLevel,targetLanguage:e.selected.id,notes:e.notes,autoPublish:e.autoPublish,cost:e.selected.cost})}this.closeEmbeds()},async handleCaptionCreate(e){const t=await this.createCaption({params:{language:e.id,creator_type:"Manual"}});if(t){this.closeEmbeds();this.openCaptionEditor(t);return}this.displayErrorToast("Error creating new caption")},async handleCaptionUpload(e){if(await this.uploadCaptionFile({file:e.uploadedFile,languageData:e.languageData})){this.closeEmbeds();this.displayToast("Caption file successfully uploaded","success");return}this.handleCaptionUploadError()},handleCaptionUploadError(){this.displayToast("Error uploading Caption File","error")},handleNewCaption(e){switch(this.newCaptionMenuItems[e].id){case"request":this.requestEmbedVisible=true;break;case"upload":this.uploadMode=true;this.createEmbedVisible=true;break;default:this.uploadMode=false;this.createEmbedVisible=true;break}},displayToast(e,t){let a="exclamation-triangle";if(t==="success"){a="check-circle"}const i=new f["b"](e,{type:t,icon:a});f["b"].show(i)}}};var xe=we;var Se=a("2jmN");var ke=Object(S["a"])(xe,T,V,false,null,"0d2619a8",null);if(false){var Ce}ke.options.__file="app/assets/components/video_edit_page/video/captions-card/CaptionsCard.vue";var Pe=ke.exports;var Te=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[e.editable?a("div",[a("Heading",{attrs:{level:"h2","screen-reader-only":""}},[e._v("\n      Edit Video Name\n    ")]),e._v(" "),a("VyInputV2",{staticClass:"player-name-input",attrs:{"data-testid":"playlist-name-edit-field",label:"Name","max-length":100,disabled:!e.hasPermission("can_edit_players")},on:{blur:e.submit,submit:function(t){t.preventDefault();return e.submit(t)}},model:{value:e.inputName,callback:function(t){e.inputName=t},expression:"inputName"}})],1):a("Heading",{attrs:{level:"h2"}},[e._v("\n    "+e._s(e.inputName)+"\n  ")])],1)};var Ve=[];Te._withStripped=true;var Ae=a("SYor");var Ee={name:"EditPlayerName",components:{Heading:f["a"],VyInputV2:f["x"]},data(){return{inputName:""}},computed:{...c["b"].mapGetters(["hasPermission"]),...l["b"].mapState(["name","editable"])},mounted(){this.inputName=this.name},methods:{...l["b"].mapActions(["updateName"]),...I["c"].mapActions(["sendHeapEvent"]),submit(){this.inputName=this.inputName.trim();if(this.inputName===""||this.name===this.inputName)return;this.updateName(this.inputName);this.sendHeapEvent({eventName:"Video/Playlist name changed - custom"})}}};var Ie=Ee;var De=a("8g+4");var Oe=Object(S["a"])(Ie,Te,Ve,false,null,null,null);if(false){var Le}Oe.options.__file="app/assets/components/video_edit_page/video/edit-player-name.vue";var Be=Oe.exports;var Me=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("Transition",{attrs:{name:"fade"}},[e.playerDrawerOpen?a("div",{staticClass:"player-box-modal-bg",on:{click:e.hidePlayerDrawer}}):e._e()]),e._v(" "),a("div",{ref:"player",staticClass:"player-box",class:{"player-box--drawer-open":e.playerDrawerOpen}},[a("FocusLock",{attrs:{disabled:!e.playerDrawerOpen}},[a("div",{ref:"playerContents"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.reload&&e.videoReloadIndex>2,expression:"reload && videoReloadIndex > 2"}],attrs:{id:"aria-announcement","aria-live":"polite","aria-label":"Thumbnail updated"}}),e._v(" "),a("PlayerEmbedV4",{staticClass:"player-box__embed",attrs:{"player-uuid":e.uuid,"playback-url":e.domains.play.split("//")[1],preview:true,"force-load-spinner":e.forceLoadSpinner,"embed-settings":e.embedSettings,"reload-index":e.videoReloadIndex},on:{vidyardApi:e.onPlayerReady}}),e._v(" "),a("Transition",{attrs:{name:"expand"}},[e.playerDrawerOpen?a("div",{staticClass:"player-box__drawer",attrs:{"data-testid":"player-box-drawer"}},[e.playerApiLoaded?a("div",[e.playerDrawerMode==="thumbnail-select"?a("ThumbnailSelector",{attrs:{"player-api":e.playerApi}}):a("PlayerTrim")],1):e._e()]):e._e()])],1)])],1),e._v(" "),a("div",{staticClass:"player-details"},[a("div",{staticClass:"player-details__create-date"},[a("span",{staticClass:"create-date__header"},[e._v("\n        Created\n      ")]),e._v("\n      "+e._s(e.createdDate)+"\n    ")]),e._v(" "),a("div",{staticClass:"player-actions"},[e.hasFeature("download_pqlp")&&!e.isPlaylist&&e.hasPermission("can_download")&&!e.hasFeature("download_access")?a("DownloadPopover"):e._e(),e._v(" "),e._l(e.outsideOverflowButtons,(function(t){return a("VyTooltip",{key:t.key||t.text,attrs:{show:t.tooltip!=undefined,content:e.buttonTooltipContent(t),placement:"bottom"}},[a("VyButton",e._b({class:t.class,on:{click:t.click},scopedSlots:e._u([t.icon?{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:t.icon.name||t.icon,type:t.icon.type}})]},proxy:true}:null],true)},"VyButton",t,false),[e._v("\n          "+e._s(t.text)+"\n        ")])],1)})),e._v(" "),e.overflowButtons.length>0?a("VyOverflowMenu",{attrs:{"aria-label":"Video Actions","menu-items":e.overflowButtons},on:{action:e.handleAction}}):e._e()],2)])],1)};var ze=[];Me._withStripped=true;var Fe=a("Kz25");var Ue=a("XfdA");var Re=a.n(Ue);var je=a("sEfC");var qe=a.n(je);var Ne=a("Xl0d");var $e=a("ja6b");var He=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"player-drawer",attrs:{"data-testid":"playerDrawer"}},[a("div",{staticClass:"player-drawer__header"},[e._v("\n    Edit Thumbnail\n  ")]),e._v(" "),a("div",{staticClass:"player-drawer__reel"},[a("div",{ref:"scrubReel",staticClass:"player-drawer__scrubber-container",on:{mousedown:function(t){e.slidingPlayhead=true;e.handleSlide(t)},touchstart:function(t){e.slidingPlayhead=true;e.handleSlide(t)}}},[e.showPrePostScrubbers?a("div",{staticClass:"player-drawer__scrubber player-drawer__scrubber--pre",style:"width: "+e.preScrubLength+"px",on:{mousedown:function(t){e.slidingPreScrub=true},touchstart:function(t){e.slidingPreScrub=true}}},[a("div",{staticClass:"player-drawer__scrubber-gripper",attrs:{tabindex:"0",role:"slider","aria-label":"beginning of thumbnail","aria-valuenow":e.positionToSeconds(e.preScrubLength),"aria-valuemin":"0","aria-valuemax":e.videoDuration-e.positionToSeconds(e.postScrubLength)},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.adjustPreGripper(-5)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.adjustPreGripper(5)}]}},[a("VyIcon",{attrs:{name:"faChevronLeft",type:"solid"}})],1)]):e._e(),e._v(" "),a("div",{ref:"playhead",staticClass:"player-drawer__playhead",class:{"player-drawer__playhead--selector":e.playheadIsSelector},style:"left: "+e.playheadPosition+"px",attrs:{tabindex:"0",role:"slider","aria-label":"playback time","aria-valuenow":e.positionToSeconds(e.playheadPosition),"aria-valuemin":e.positionToSeconds(e.preScrubLength),"aria-valuemax":e.videoDuration-e.positionToSeconds(e.postScrubLength)},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.adjustPlayhead(-5)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.adjustPlayhead(5)}]}}),e._v(" "),e.showPrePostScrubbers?a("div",{staticClass:"player-drawer__scrubber player-drawer__scrubber--post",style:"width: "+e.postScrubLength+"px",on:{mousedown:function(t){e.slidingPostScrub=true},touchstart:function(t){e.slidingPostScrub=true}}},[a("div",{staticClass:"player-drawer__scrubber-gripper",attrs:{tabindex:"0",role:"slider","aria-label":"end of thumbnail","aria-valuenow":e.videoDuration-e.positionToSeconds(e.postScrubLength),"aria-valuemin":e.positionToSeconds(e.preScrubLength),"aria-valuemax":e.videoDuration},on:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.adjustPostGripper(5)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.adjustPostGripper(-5)}]}},[a("VyIcon",{attrs:{name:"faChevronRight",type:"solid"}})],1)]):e._e()]),e._v(" "),a("div",{staticClass:"player-drawer__scrubber-span"})]),e._v(" "),e.showPrePostScrubbers?a("PlayerTimestampPair",{staticClass:"player-drawer__timestamp",attrs:{"scrub-start":e.newStartSecond,"scrub-end":e.newEndSecond},on:{"timestamps-validity":function(t){e.areTimestampsValid=t},"update-pre":function(t){e.slidePreScrub(e.secondsToPosition(t))},"update-post":function(t){e.slidePostScrub(e.secondsToPosition(t))}}}):e._e(),e._v(" "),a("div",{staticClass:"player-drawer__options"},[a("div",{staticClass:"player-drawer__thumbnail-types"},[a("VyRadioGroup",{model:{value:e.thumbnailSelectType,callback:function(t){e.thumbnailSelectType=t},expression:"thumbnailSelectType"}},[a("VyRadioButton",{attrs:{"native-value":"Static"}}),e._v(" "),a("VyRadioButton",{attrs:{"native-value":"Animated"}})],1)],1),e._v(" "),a("div",{staticClass:"player-drawer__actions"},[a("VyButton",{on:{click:e.hidePlayerDrawer}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"primary",loading:e.selectingThumbnail},on:{click:e.handlePrimaryAction}},[e._v("\n        Select\n      ")])],1)])],1)};var Ye=[];He._withStripped=true;var Ge=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("PlayerTimestamp",{staticClass:"pre-timestamp",attrs:{type:"pre",seconds:e.inputStart,"paired-error":e.pairedError,"allow-frames":e.allowFrames},on:{change:e.consolidatePreScrubber}}),e._v(" "),a("div",{staticClass:"timestamp-separator"},[e._v("\n    -\n  ")]),e._v(" "),a("PlayerTimestamp",{staticClass:"post-timestamp",attrs:{type:"post",seconds:e.inputEnd,"paired-error":e.pairedError,"allow-frames":e.allowFrames},on:{change:e.consolidatePostScrubber}})],1)};var We=[];Ge._withStripped=true;var Je=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyInputV2",{attrs:{"data-testid":e.type+"-timestamp","aria-label":e.type+"-timestamp",error:e.individualError||e.pairedError},on:{blur:e.parseTimestamp,submit:e.parseTimestamp},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{slot:"icon",name:"faClock",type:"regular"},slot:"icon"})]},proxy:true}]),model:{value:e.timestamp,callback:function(t){e.timestamp=t},expression:"timestamp"}})};var Ze=[];Je._withStripped=true;var Ke=a("IdCL");const Qe=/[^\d:]/;const Xe=/[^\d:.]/;const et="Input can only contain numbers and colons (:) ";const tt="Input can only contain numbers, colons (:), and periods";const at=/^\d+(:\d+){0,2}(\.\d+)?$/;const it="Timestamp must follow the format of HH:MM:SS or MM:SS or SS";const st="Timestamp must follow the format of ";const nt="Timestamp cannot exceed video length.";const rt="End timestamp must exceed start timestamp.";const ot="Video must be at least 1 second.";const lt=1;const dt=10;const ct="Animated thumbnails must be at least ".concat(lt," second.");const ut="Animated thumbnails have a max length of ".concat(dt," seconds.");const pt=1/30;const ht=12;const vt="\n\nAfter saving, the video's analytics (such as view count) will reset. These changes are permanent.";const mt="\n\nAfter saving, you will need to re-apply any captions, custom thumbnails or Actions to the video. The video's analytics (such as view count) will reset, and it will unlink from any social channels (such as YouTube). These changes are permanent.";const ft="\n\nAfter reverting, the video's analytics (such as view count) will reset. These changes are permanent.";const bt="\n\nAfter reverting to original, you will need to re-apply any captions, custom thumbnails or Actions to the video. The video's analytics will reset, and it will unlink from any social channels (such as YouTube). These changes are permanent.";const gt="Saving will apply all changes you made while editing, and create a new version of the video. You can revert back to the original video, if needed.";const yt="Revert will remove all past edits made to this video and restore the original video. This action cannot be undone.";var _t={name:"PlayerTimestamp",components:{VyInputV2:f["x"],VyIcon:f["v"]},props:{type:{type:String,required:true,validator:e=>["pre","post"].indexOf(e)!==-1},seconds:{type:Number,required:true},pairedError:{type:String,default:""},allowFrames:{type:Boolean,default:false}},data(){return{timestamp:""}},computed:{...Ne["b"].mapGetters(["videoDuration"]),individualError(){const e=this.allowFrames?Xe:Qe;if(e.test(this.timestamp)){return this.allowFrames?tt:et}if(!at.test(this.timestamp)){return this.allowFrames?st+this.timestampWithFrameExpectedFormat:it}const t=Object(Ke["k"])(this.timestamp);if(t>this.videoDuration){return nt}return""},timestampWithFrameExpectedFormat(){if(this.videoDuration>=36e3){return"HH:MM:SS.FF"}if(this.videoDuration>=3600){return"H:MM:SS.FF"}if(this.videoDuration>=600){return"MM:SS.FF"}return"M:SS.FF"}},watch:{seconds:{handler:"handleSecondsChange",immediate:true}},methods:{handleSecondsChange(e){if(e!==-1){this.timestamp=this.allowFrames?Object(Ke["j"])(e):Object(Ke["i"])(e)}},parseTimestamp(){if(this.individualError){this.$emit("change",-1);return}let e;if(this.allowFrames){e=Object(Ke["l"])(this.timestamp);this.timestamp=Object(Ke["j"])(e)}else{e=Object(Ke["k"])(this.timestamp);this.timestamp=Object(Ke["i"])(e)}this.$emit("change",e)}}};var wt=_t;var xt=Object(S["a"])(wt,Je,Ze,false,null,null,null);if(false){var St}xt.options.__file="app/assets/components/video_edit_page/video/player-drawer/PlayerTimestamp.vue";var kt=xt.exports;var Ct={name:"PlayerTimestampPair",components:{PlayerTimestamp:kt},props:{scrubStart:{type:Number,required:true},scrubEnd:{type:Number,required:true},allowFrames:{type:Boolean,default:false}},data(){return{inputStart:this.scrubStart,inputEnd:this.scrubEnd}},computed:{...h["b"].mapState(["playerDrawerMode"]),...Ne["b"].mapGetters(["videoDuration"]),hasIndividualError(){return this.inputStart===-1||this.inputEnd===-1},pairedError(){if(this.hasIndividualError){return undefined}if(this.inputStart>this.inputEnd){return rt}const e=Math.abs(this.inputEnd-this.inputStart);if(this.playerDrawerMode==="thumbnail-select"){if(e<lt){return ct}if(e>dt){return ut}}else if(e<1){return ot}return""}},watch:{scrubStart(e){this.inputStart=e},scrubEnd(e){this.inputEnd=e},pairedError(e){this.$emit("timestamps-validity",e==="")}},methods:{consolidatePreScrubber(e){this.inputStart=e;if(this.inputStart>=0){if(this.inputEnd===-1){this.$emit("update-pre",this.inputStart)}else if(this.pairedError===""){this.consolidateBothScrubbers()}}},consolidatePostScrubber(e){this.inputEnd=e;if(this.inputEnd>=0){if(this.inputStart===-1){this.$emit("update-post",this.inputEnd)}else if(this.pairedError===""){this.consolidateBothScrubbers()}}},consolidateBothScrubbers(){if(this.inputStart>=this.scrubEnd){this.$emit("update-post",this.inputEnd);this.$emit("update-pre",this.inputStart)}else{this.$emit("update-pre",this.inputStart);this.$emit("update-post",this.inputEnd)}}}};var Pt=Ct;var Tt=a("m83V");var Vt=Object(S["a"])(Pt,Ge,We,false,null,"6e718ea1",null);if(false){var At}Vt.options.__file="app/assets/components/video_edit_page/video/player-drawer/PlayerTimestampPair.vue";var Et=Vt.exports;var It={name:"PlayerDrawer",components:{PlayerTimestampPair:Et,VyButton:f["j"],VyIcon:f["v"],VyRadioGroup:f["H"],VyRadioButton:f["G"]},props:{playerApi:{type:Object,required:true}},data(){return{slidingPlayhead:false,slidingPreScrub:false,slidingPostScrub:false,playheadPosition:0,preScrubLength:0,postScrubLength:0,gifThumbnailDefaultLength:3,gifThumbnailMinLength:1,gifThumbnailMaxLength:10,thumbnailSelectType:"Static",selectingThumbnail:false,areTimestampsValid:true,videoPristineAlertActivated:false}},computed:{...h["b"].mapState(["playerDrawerOpen"]),...Ne["b"].mapGetters(["videoId","videoDuration"]),newStartSecond(){return this.positionToSeconds(this.preScrubLength)},newDuration(){if(!this.preScrubLength&&!this.postScrubLength){return this.videoDuration}return this.positionToSeconds(this.$refs.scrubReel.offsetWidth-this.preScrubLength-this.postScrubLength)},newEndSecond(){return this.newStartSecond+this.newDuration},showPrePostScrubbers(){return this.thumbnailSelectType==="Animated"},playheadIsSelector(){return this.thumbnailSelectType==="Static"},hasErrors(){return this.thumbnailSelectType==="Animated"&&!this.areTimestampsValid}},watch:{playerDrawerOpen(e){if(e){this.playerApi.play();this.$nextTick((()=>{this.playerApi.pause();this.setTimestamp(this.playerApi.currentTime())}))}},playheadPosition(e){this.setTimestamp(this.positionToSeconds(e));this.playerApi.pause()},thumbnailSelectType(e){if(e==="Animated"){this.slidePlayhead(this.playheadPosition);if(!this.preScrubLength&&!this.postScrubLength){this.slidePostScrub(this.secondsToPosition(this.gifThumbnailDefaultLength))}}}},mounted(){this.preparePlayer();document.addEventListener("mousemove",this.handleSlide);document.addEventListener("mouseup",this.stopSlide);document.addEventListener("touchend",this.stopSlide);document.addEventListener("touchcancel",this.stopSlide)},methods:{...h["b"].mapActions(["hidePlayerDrawer","showStatus"]),...v["b"].mapActions(["createThumbnailFromTimeline"]),adjustPlayhead(e){this.slidePlayhead(this.playheadPosition+e)},adjustPreGripper(e){this.slidePreScrub(this.preScrubLength+e)},adjustPostGripper(e){this.slidePostScrub(this.$refs.scrubReel.offsetWidth-(this.postScrubLength+e))},handleSlide(e){if(!this.$refs.scrubReel){return}const t=this.$refs.scrubReel.getBoundingClientRect().left;const a=e.clientX-Math.ceil(t);this.startSlide(a)},startSlide(e){if(!this.slidingPlayhead&&!this.slidingPreScrub&&!this.slidingPostScrub){return}const t=this.$refs.scrubReel.offsetWidth;e=e>0?e:0;e=e<=t?e:t;if(this.slidingPlayhead&&!this.slidingPreScrub&&!this.slidingPostScrub){this.slidePlayhead(e)}if(this.slidingPreScrub){this.slidePreScrub(e)}if(this.slidingPostScrub){this.slidePostScrub(e)}},slidePlayhead(e){const t=this.$refs.scrubReel.offsetWidth-this.postScrubLength;this.playheadPosition=e;if(this.showPrePostScrubbers&&this.preScrubLength>this.playheadPosition){this.playheadPosition=this.preScrubLength}if(this.showPrePostScrubbers&&t<this.playheadPosition){this.playheadPosition=t}},slidePreScrub(e){const t=this.$refs.scrubReel.offsetWidth-this.postScrubLength;this.preScrubLength=e;if(e>=t){this.preScrubLength=t}if(this.preScrubLength<0){this.preScrubLength=0}if(this.preScrubLength+this.secondsToPosition(this.gifThumbnailMinLength)>t){this.preScrubLength=t-this.secondsToPosition(this.gifThumbnailMinLength)}const a=this.preScrubLength;if(this.thumbnailSelectType==="Animated"&&this.positionToSeconds(t-a)>this.gifThumbnailMaxLength){this.slidePostScrub(a+Math.floor(this.secondsToPosition(this.gifThumbnailMaxLength)))}if(a>this.playheadPosition){this.playheadPosition=a}},slidePostScrub(e){const t=this.$refs.scrubReel.offsetWidth;const a=this.preScrubLength;this.postScrubLength=t-e;if(e<=a){this.postScrubLength=t-a}if(this.postScrubLength<0){this.postScrubLength=0}if(a+this.secondsToPosition(this.gifThumbnailMinLength)>t-this.postScrubLength){this.postScrubLength=t-a-this.secondsToPosition(this.gifThumbnailMinLength)}const i=t-this.postScrubLength;if(this.thumbnailSelectType==="Animated"&&this.positionToSeconds(i-a)>this.gifThumbnailMaxLength){this.slidePreScrub(i-Math.ceil(this.secondsToPosition(this.gifThumbnailMaxLength)))}if(i<this.playheadPosition){this.playheadPosition=i}},stopSlide(){this.slidingPlayhead=false;this.slidingPreScrub=false;this.slidingPostScrub=false},preparePlayer(){this.playerApi.disableCaption();window.addEventListener("message",(e=>{if(this.playerDrawerOpen&&e.data){let t;try{t=JSON.parse(e.data)}catch(e){return}if(t.event==="playerComplete"){this.playerApi.play();this.$nextTick((()=>{this.playerApi.seek(this.videoDuration);this.playerApi.pause()}))}if(t.event==="seek"){this.setTimestamp(t.status.currentTime)}}}))},setTimestamp(e,t=5){const a=parseFloat(e.toFixed(t));const i=parseFloat(this.positionToSeconds(this.playheadPosition).toFixed(t));const s=parseFloat(this.playerApi.currentTime().toFixed(t));if(i!==a){this.slidePlayhead(this.secondsToPosition(a))}if(s!==a){this.playerApi.seek(a)}},positionToSeconds(e){if(!this.$refs.scrubReel||this.$refs.scrubReel.offsetWidth===0){return 0}return Math.round(this.videoDuration*e/this.$refs.scrubReel.offsetWidth)},secondsToPosition(e){return e/this.videoDuration*this.$refs.scrubReel.offsetWidth},async handlePrimaryAction(){if(this.hasErrors)return;this.selectingThumbnail=true;const e={};if(this.thumbnailSelectType==="Static"){e.second=this.positionToSeconds(this.playheadPosition)}else if(this.thumbnailSelectType==="Animated"){e.second=this.newStartSecond;e.duration=this.newDuration}await this.createThumbnail(e);this.selectingThumbnail=false;this.hidePlayerDrawer()},async createThumbnail({second:e,duration:t}){if(this.thumbnailSelectType==="Animated"&&this.newDuration>this.gifThumbnailMaxLength){this.showStatus({success:false,message:"Animated thumbnails can only be ".concat(this.gifThumbnailMaxLength," seconds or less.")});return}await this.createThumbnailFromTimeline({second:e,duration:t})}}};var Dt=It;var Ot=a("WrDK");var Lt=Object(S["a"])(Dt,He,Ye,false,null,"ff75a746",null);if(false){var Bt}Lt.options.__file="app/assets/components/video_edit_page/video/player-drawer/ThumbnailSelector.vue";var Mt=Lt.exports;var zt=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"player-trim"},[a("div",{staticClass:"header-scaffold"},[a("div",{staticClass:"player-trim__header"},[a("VyButton",{attrs:{disabled:!e.isPlayerReady||e.playheadAtEndOfVideo,type:"default","aria-label":"Play Button"},on:{click:e.embedPlayerPlayPause}},[a("VyIcon",{attrs:{slot:"icon",type:"solid",name:e.playing?"faPause":"faPlay"},slot:"icon"})],1),e._v(" "),a("div",{staticClass:"player-trim__time"},[a("div",{style:{width:e.playTimeAndDurationWidth}},[e._v("\n          "+e._s(e.playTimeAndDuration)+"\n        ")]),e._v(" "),a("VyBadge",{staticClass:"player-trim__newtime",attrs:{text:e.showNewVideoLengthText?e.formattedTrimmedVideoDuration+" New Video Length":""+e.formattedTrimmedVideoDuration}})],1)],1),e._v(" "),a("div",[a("VyTooltip",{attrs:{content:"Split your video clip into two or more clips.",placement:"bottom"}},[a("VyButton",{attrs:{"data-testid":"trim-split-button",disabled:!e.playheadSegment||e.playheadTime===e.playheadSegment.start||e.playheadTime===e.playheadSegment.end},on:{click:e.handleSplit}},[a("VyIcon",{attrs:{slot:"icon",name:"faCut"},slot:"icon"}),e._v(" "),e.showButtonText?a("div",[e._v("\n            Split\n          ")]):e._e()],1)],1),e._v(" "),a("VyTooltip",{attrs:{content:"Delete the selected clip from your video.",placement:"bottom",alignment:"right"}},[a("VyButton",{attrs:{"data-testid":"trim-delete-button",disabled:e.activeSegment===undefined||e.transformedSegments.length<=1},on:{click:function(t){e.confirmDeleteSegmentDialogVisible=true}}},[a("VyIcon",{attrs:{slot:"icon",name:"faTrash"},slot:"icon"}),e._v(" "),e.showButtonText?a("div",[e._v("\n            Delete\n          ")]):e._e()],1)],1)],1)]),e._v(" "),a("div",{staticClass:"player-trim__timeline-seek-event-capture",attrs:{"data-testid":"trim-seek-event-capture"},on:{mousedown:e.handleJumpToTimeline}}),e._v(" "),a("div",{ref:"scrubReel",staticClass:"player-trim__reel"},[a("div",{staticClass:"invisible-text",attrs:{"aria-hidden":"true"}},[e._v("\n      12:34\n    ")]),e._v(" "),a("div",[e._l(e.transformedSegments,(function(t,i){return a("Segment",e._b({key:i,staticClass:"bottom-layer",attrs:{"data-testid":"segment-"+i},on:{"adjust-pre-gripper":e.adjustPreGripper,"adjust-post-gripper":e.adjustPostGripper,"sliding-pre-scrub":function(t){e.slidingPreScrub=true},"sliding-post-scrub":function(t){e.slidingPostScrub=true},click:function(t){return e.handleSegmentClick(i)}}},"Segment",e.getSegmentProps(t,i),false))})),e._v(" "),a("Playhead",{ref:"playhead",staticClass:"middle-layer disallow-click",style:"left: "+e.secondsToPosition(e.playheadTime)+"px",attrs:{draggable:"false",tabindex:"0",role:"slider","aria-label":"playback time","aria-valuenow":e.playheadTime,"aria-valuemin":"0","aria-valuemax":e.videoDuration,timestamp:e.playheadTimestamp,active:e.slidingPlayhead},nativeOn:{mousedown:function(t){return e.handleSlide(t,true)},touchstart:function(t){return e.handleSlide(t,true)},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.adjustPlayhead(-1)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.adjustPlayhead(1)}]}}),e._v(" "),e._l(e.transformedSegments,(function(t,i){return a("Segment",e._b({key:i+e.transformedSegments.length,staticClass:"top-layer",attrs:{"is-invisible":""},on:{"adjust-pre-gripper":e.adjustPreGripper,"adjust-post-gripper":e.adjustPostGripper,"sliding-pre-scrub":function(t){e.slidingPreScrub=true},"sliding-post-scrub":function(t){e.slidingPostScrub=true},click:function(t){return e.handleSegmentClick(i)}}},"Segment",e.getSegmentProps(t,i),false))}))],2)]),e._v(" "),e.activeSegment?a("PlayerTimestampPair",{staticClass:"player-trim__timestamp",attrs:{"scrub-start":e.activeSegment.start,"scrub-end":e.activeSegment.end,"allow-frames":""},on:{"timestamps-validity":function(t){e.areTimestampsValid=t},"update-pre":function(t){return e.updateActiveSegment({start:t})},"update-post":function(t){return e.updateActiveSegment({end:t})}}}):e._e(),e._v(" "),a("div",{staticClass:"player-trim__options"},[a("VyButton",{attrs:{type:"tertiary","data-testid":"trim-revert-button",disabled:!e.isTrimmed,loading:e.loading},on:{click:e.confirmRevert}},[a("VyIcon",{attrs:{slot:"icon",name:e.faHistory,type:"regular"},slot:"icon"}),e._v("\n      Revert to Original\n    ")],1),e._v(" "),a("div",{staticClass:"player-trim__actions"},[a("VyButton",{attrs:{"data-testid":"trim-cancel-button"},on:{click:e.confirmCancel}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"primary","data-testid":"trim-save-button",loading:e.loading,disabled:e.saveDisabled},on:{click:e.confirmSave}},[e._v("\n        Save\n      ")])],1)],1),e._v(" "),a("ConfirmDelete",{attrs:{title:"Are you sure you want to delete the selected video clip?",text:"The selected video clip will be removed.",visible:e.confirmDeleteSegmentDialogVisible},on:{"update:visible":function(t){e.confirmDeleteSegmentDialogVisible=t},"deletion-confirmed":e.confirmDeleteSegment}}),e._v(" "),a("ConfirmationDialog",{attrs:{title:"Are you sure you want to exit the video editor?",label:"Your video has unsaved changes that will be discarded when you exit.",action:"Discard Changes",type:"danger","cancel-button-text":"Continue Editing",visible:e.closeTrimModalDialogVisible},on:{"update:visible":function(t){e.closeTrimModalDialogVisible=t},confirmed:e.closeTrimModal}}),e._v(" "),a("ConfirmationDialog",{attrs:{title:"Are you sure you want to revert to original?",label:e.confirmRevertDialogLabel,action:"Revert to Original",type:"danger",visible:e.revertDialogVisible,"cancel-button-text":"Cancel"},on:{"update:visible":function(t){e.revertDialogVisible=t},confirmed:e.handleRevert}}),e._v(" "),a("ConfirmationDialog",{attrs:{title:"Ready to save your video?",label:e.confirmSaveDialogLabel,action:"Save",type:"primary",visible:e.saveVideoDialogVisible,"cancel-button-text":"Continue Editing"},on:{"update:visible":function(t){e.saveVideoDialogVisible=t},confirmed:e.handleSave}})],1)};var Ft=[];zt._withStripped=true;var Ut=a("xgYV");var Rt=a("DzJC");var jt=a.n(Rt);var qt=a("n+0L");var Nt=a("10m6");var $t=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"scrubber-segment",class:{"scrubber-segment--active":e.isActive}},[e.isActive?a("Scrubber",e._b({nativeOn:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.$emit("adjust-pre-gripper",-1)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.$emit("adjust-pre-gripper",1)}],mousedown:function(t){return e.handlePreScrubberTouch(t)},touchstart:function(t){return e.handlePreScrubberTouch(t)}}},"Scrubber",e.getScrubberProps(true),false)):e._e(),e._v(" "),e.isActive?a("Scrubber",e._b({nativeOn:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])){return null}if("button"in t&&t.button!==0){return null}return e.$emit("adjust-post-gripper",-1)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])){return null}if("button"in t&&t.button!==2){return null}return e.$emit("adjust-post-gripper",1)}],mousedown:function(t){return e.handlePostScrubberTouch(t)},touchstart:function(t){return e.handlePostScrubberTouch(t)}}},"Scrubber",e.getScrubberProps(false),false)):e._e(),e._v(" "),a("div",{class:"segment-body "+(e.isInvisible?"disallow-click":"allow-click"),style:"left: "+(e.startPos+1)+"px; width: "+e.segment.width+"px",attrs:{tabindex:""+(e.isInvisible?"-1":"0"),"aria-label":(e.isActive?"Active":"Inactive")+" segment body"},on:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.$emit("click")},click:function(t){return e.$emit("click")}}},[e._v("\n    "+e._s(e.timestamp)+"\n  ")])],1)};var Ht=[];$t._withStripped=true;var Yt=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"scrubber",style:e.scrubberPositionStyle},[a("ScrubberGripper",{class:e.gripperClass,attrs:{"gripper-points-right":e.gripperPointsRight,segment:e.segment,"aria-label":e.ariaLabel}}),e._v(" "),a("SegmentTimestamp",{directives:[{name:"show",rawName:"v-show",value:e.displayTimestamp,expression:"displayTimestamp"}],attrs:{time:e.timestamp,"top-position":-25,"left-position":e.timestampLeftPosition}})],1)};var Gt=[];Yt._withStripped=true;var Wt=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"scrubber-gripper allow-click",attrs:{tabindex:"0",role:"slider","aria-label":e.ariaLabel,"aria-valuenow":e.segment.start,"aria-valuemin":"0","aria-valuemax":e.segment.end-1}},[a("VyIcon",{attrs:{name:e.iconName,type:"solid"}})],1)};var Jt=[];Wt._withStripped=true;var Zt={name:"ScrubberGripper",components:{VyIcon:f["v"]},props:{segment:{type:Object,required:true},gripperPointsRight:{type:Boolean,required:false},ariaLabel:{type:String,default:"",required:true}},computed:{iconName(){return this.gripperPointsRight?"faChevronRight":"faChevronLeft"}}};var Kt=Zt;var Qt=a("Qyzr");var Xt=Object(S["a"])(Kt,Wt,Jt,false,null,"41dddb46",null);if(false){var ea}Xt.options.__file="app/assets/components/video_edit_page/video/player-drawer/ScrubberGripper.vue";var ta=Xt.exports;var aa=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"timestamp",style:e.computedStyle},[e._v("\n  "+e._s(e.time)+"\n")])};var ia=[];aa._withStripped=true;var sa={name:"SegmentTimestamp",props:{time:{type:String,required:true},topPosition:{type:Number,required:true},leftPosition:{type:Number,default:0}},computed:{computedStyle(){return"top: ".concat(this.topPosition,"px; left: ").concat(this.leftPosition,"px; ")}}};var na=sa;var ra=a("cYKO");var oa=Object(S["a"])(na,aa,ia,false,null,"cbbc42be",null);if(false){var la}oa.options.__file="app/assets/components/video_edit_page/video/player-drawer/SegmentTimestamp.vue";var da=oa.exports;var ca={name:"Scrubber",components:{ScrubberGripper:ta,SegmentTimestamp:da},props:{segment:{type:Object,required:true},offsetPos:{type:Number,required:true},gripperPointsRight:{type:Boolean,required:false},ariaLabel:{type:String,default:"",required:true},isInvisible:{type:Boolean,default:false},displayTimestamp:{type:Boolean,default:false},offsetWidth:{type:Number,required:true}},computed:{scrubberPositionStyle(){let e=0;if(this.isInvisible){if(this.gripperPointsRight){e=-3}else{e=3}}return"left: ".concat(this.offsetPos+e,"px")},scrubberType(){return this.gripperPointsRight?"post":"pre"},timestamp(){return this.gripperPointsRight?Object(Ke["j"])(this.segment.end):Object(Ke["j"])(this.segment.start)},timestampLeftPosition(){const e=this.segment.end>=3600;const t=this.offsetWidth-19;const a=16;if(this.gripperPointsRight){if(e){if(this.offsetPos>t){return this.offsetWidth-this.offsetPos-50}return-30}if(this.offsetPos>t){return this.offsetWidth-this.offsetPos-42}return-22}if(this.offsetPos<a){return-20-this.offsetPos}return-38},gripperClass(){return this.isInvisible?"top-layer":"bottom-layer"}}};var ua=ca;var pa=a("uow+");var ha=Object(S["a"])(ua,Yt,Gt,false,null,"2c0e2afe",null);if(false){var va}ha.options.__file="app/assets/components/video_edit_page/video/player-drawer/Scrubber.vue";var ma=ha.exports;const fa=40;const ba=20;var ga={name:"Segment",components:{Scrubber:ma},props:{segment:{type:Object,required:true},startPos:{type:Number,required:true},endPos:{type:Number,required:true},isActive:{type:Boolean,default:false},isInvisible:{type:Boolean,default:false},offsetWidth:{type:Number,required:true}},data(){return{displayPreScrubberTimestamp:false,displayPostScrubberTimestamp:false}},computed:{timestamp(){if(this.segment.width<ba){return""}if(this.segment.width<fa){return"..."}const e=this.segment.end-this.segment.start;return Object(Ke["g"])(e)}},mounted(){document.addEventListener("click",this.checkUserClick);document.addEventListener("mousedown",this.checkUserClick);document.addEventListener("touchend",this.checkUserClick)},beforeDestroy(){document.removeEventListener("click",this.checkUserClick);document.removeEventListener("touchend",this.checkUserClick);document.removeEventListener("mousedown",this.checkUserClick)},methods:{getScrubberProps(e){if(e){return{class:"scrubber scrubber--pre allow-click",ariaLabel:"Trim beginning of segment",segment:this.segment,isInvisible:this.isInvisible,offsetPos:this.startPos,displayTimestamp:this.displayPreScrubberTimestamp,offsetWidth:this.offsetWidth}}return{class:"scrubber scrubber--post allow-click",ariaLabel:"Trim end of segment",segment:this.segment,isInvisible:this.isInvisible,offsetPos:this.endPos,gripperPointsRight:true,displayTimestamp:this.displayPostScrubberTimestamp,offsetWidth:this.offsetWidth}},hideTimestamps(){if(this.displayPreScrubberTimestamp){this.displayPreScrubberTimestamp=false}else if(this.displayPostScrubberTimestamp){this.displayPostScrubberTimestamp=false}},handlePreScrubberTouch(){this.$emit("sliding-pre-scrub");this.displayPostScrubberTimestamp=false;this.displayPreScrubberTimestamp=true},handlePostScrubberTouch(){this.$emit("sliding-post-scrub");this.displayPreScrubberTimestamp=false;this.displayPostScrubberTimestamp=true},checkUserClick(e){if(!(this.$el===e.target||this.$el.contains(e.target))){this.hideTimestamps()}}}};var ya=ga;var _a=a("ilrg");var wa=Object(S["a"])(ya,$t,Ht,false,null,"31be99b6",null);if(false){var xa}wa.options.__file="app/assets/components/video_edit_page/video/player-drawer/Segment.vue";var Sa=wa.exports;var ka=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"player-trim__playhead",class:e.active&&"player-trim__playhead--active"},[a("svg",{attrs:{width:"38",height:"102",viewBox:"0 0 38 102",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("g",{attrs:{filter:"url(#filter0_dd)"}},[a("path",{staticClass:"allow-click",attrs:{id:"shadow",d:"M12.9393 17.6464L17.5 22.2071V77V77.5H18H20H20.5V77V22.2071L25.0607 17.6464C25.342 17.3651 25.5 16.9836 25.5 16.5858L25.5 14C25.5 13.1716 24.8284 12.5 24 12.5H14C13.1716 12.5 12.5 13.1716 12.5 14V16.5858C12.5 16.9836 12.658 17.3651 12.9393 17.6464Z",stroke:"white","stroke-opacity":"0.1"}}),e._v(" "),a("path",{staticClass:"allow-click",attrs:{id:"body",d:"M18 22L13.2929 17.2929C13.1054 17.1054 13 16.851 13 16.5858V14C13 13.4477 13.4477 13 14 13H24C24.5523 13 25 13.4477 25 14L25 16.5858C25 16.851 24.8946 17.1054 24.7071 17.2929L20 22V77H18V22Z",fill:"#0F1F29"}})]),e._v(" "),a("defs",[a("filter",{attrs:{id:"filter0_dd",x:"0",y:"0",width:"38",height:"102",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[a("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),e._v(" "),a("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}}),e._v(" "),a("feOffset"),e._v(" "),a("feGaussianBlur",{attrs:{stdDeviation:"6"}}),e._v(" "),a("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.2 0"}}),e._v(" "),a("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}}),e._v(" "),a("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}}),e._v(" "),a("feOffset",{attrs:{dy:"12"}}),e._v(" "),a("feGaussianBlur",{attrs:{stdDeviation:"6"}}),e._v(" "),a("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.12 0"}}),e._v(" "),a("feBlend",{attrs:{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}}),e._v(" "),a("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"}})],1)])]),e._v(" "),a("SegmentTimestamp",{directives:[{name:"show",rawName:"v-show",value:e.displayTimestamp,expression:"displayTimestamp"}],attrs:{time:e.timestamp,"top-position":5,"left-position":-10}})],1)};var Ca=[];ka._withStripped=true;var Pa={components:{SegmentTimestamp:da},props:{timestamp:{type:String,required:true},active:{type:Boolean,default:false}},data(){return{displayTimestamp:this.active}},mounted(){document.addEventListener("click",this.checkUserClick);document.addEventListener("mousedown",this.checkUserClick);document.addEventListener("touchend",this.checkUserClick)},beforeDestroy(){document.removeEventListener("click",this.checkUserClick);document.removeEventListener("touchend",this.checkUserClick);document.removeEventListener("mousedown",this.checkUserClick)},methods:{checkUserClick(e){this.displayTimestamp=this.$el.contains(e.target)}}};var Ta=Pa;var Va=a("Ta7o");var Aa=Object(S["a"])(Ta,ka,Ca,false,null,"6f95d012",null);if(false){var Ea}Aa.options.__file="app/assets/components/video_edit_page/video/player-drawer/Playhead.vue";var Ia=Aa.exports;var Da={name:"PlayerTrim",components:{PlayerTimestampPair:Et,VyButton:f["j"],VyIcon:f["v"],VyTooltip:f["U"],VyBadge:f["g"],Segment:Sa,Playhead:Ia,ConfirmDelete:H["a"],ConfirmationDialog:ne["a"]},data(){return{scrubReel:null,slidingPlayhead:false,slidingPreScrub:false,slidingPostScrub:false,areTimestampsValid:true,shiftKeyPressed:false,userClickSeconds:null,faHistory:Ut["faHistory"],confirmDeleteSegmentDialogVisible:false,closeTrimModalDialogVisible:false,saveVideoDialogVisible:false,revertDialogVisible:false,animationRequestId:0,usedKeyboardShortcuts:false,windowWidth:undefined}},computed:{...qt["b"].mapState(["playheadTime","activeSegmentIndex","segments","loading","isTrimmed","isPlayerReady","playerMetadata"]),...qt["b"].mapGetters(["playheadSegment","prevPlayheadSegment","nextPlayheadSegment","firstSegment","activeSegment","playing","playheadAtEndOfVideo"]),...h["b"].mapState(["playerDrawerOpen"]),...Ne["b"].mapGetters(["videoDuration"]),...Nt["b"].mapState(["playerActions"]),...m["b"].mapState(["captions"]),...v["b"].mapGetters(["customThumbnailLibrary"]),...l["b"].mapState(["uuid"]),advanceBy(){return this.shiftKeyPressed?pt*5:pt},transformedSegments(){return this.segments.map(((e,t)=>{const a=this.secondsToPosition(e.end-e.start);const i=t===this.segments.length-1?a:a-2;return{...e,width:i}}))},showNewVideoLengthText(){if(this.windowWidth<945)return false;return true},showButtonText(){if(this.windowWidth<1030)return false;return true},playTimeAndDuration(){return"".concat(this.leadingZeroForPlayTime).concat(Object(Ke["g"])(this.playheadTime)," / ").concat(Object(Ke["g"])(this.videoDuration))},videoIs10MinsOrMore(){return this.videoDuration>=600},videoIs1HourOrMore(){return this.videoDuration>=3600},playTimeAndDurationWidth(){if(this.videoIs1HourOrMore)return"116px";if(this.videoIs10MinsOrMore)return"90px";return"73px"},trimmedVideoDurationInSeconds(){return this.segments.reduce(((e,t)=>e+(t.end-t.start)),0)},formattedTrimmedVideoDuration(){return Object(Ke["g"])(this.trimmedVideoDurationInSeconds)},playheadTimestamp(){return"".concat(this.leadingZeroForPlayTime).concat(Object(Ke["j"])(this.playheadTime))},leadingZeroForPlayTime(){const e=this.videoIs10MinsOrMore&&this.playheadTime<600;return e?"0":""},saveDisabled(){return this.segments.length===1&&this.segments[0].start===0&&this.segments[0].end===this.videoDuration},doesPlayerHaveAnyAssets(){return[this.captions,this.customThumbnailLibrary,this.playerActions].some((e=>(e===null||e===void 0?void 0:e.length)>0))},confirmRevertDialogLabel(){return"".concat(yt).concat(this.doesPlayerHaveAnyAssets?bt:ft)},confirmSaveDialogLabel(){return"".concat(gt).concat(this.doesPlayerHaveAnyAssets?mt:vt)}},mounted(){this.loadPlayerActions();this.resetTrim();this.setPlaying(false);this.eventListeners=[["mousemove",jt()(this.handleSlide)],["mouseup",this.stopSlide],["touchend",this.stopSlide],["touchcancel",this.stopSlide],["keydown",this.toggleShiftKey.bind(null,true)],["keyup",this.toggleShiftKey.bind(null,false)],["mousedown",this.closePlayerDrawerWhenClickedOutside]];for(const[e,t]of this.eventListeners){document.addEventListener(e,t)}this.checkScreenSize=qe()(this.checkScreenSize,100);window.addEventListener("resize",this.checkScreenSize);this.checkScreenSize();this.lastFrame=Date.now();this.renderLoop()},beforeDestroy(){cancelAnimationFrame(this.animationRequestId);for(const[e,t]of this.eventListeners){document.removeEventListener(e,t)}window.removeEventListener("resize",this.checkScreenSize)},methods:{...qt["b"].mapMutations(["setActiveSegmentIndex","setCurrentTime","setPlayingStatus"]),...h["b"].mapActions(["hidePlayerDrawer"]),...l["b"].mapMutations(["setPlaying"]),...qt["b"].mapActions(["deleteActiveSegment","splitSegment","movePlayhead","resetTrim","updateActiveSegment","requestTrim","revertTrim","play","pause","seek"]),...Nt["b"].mapActions(["loadPlayerActions"]),...I["c"].mapActions(["sendHeapEvent"]),checkScreenSize(){this.windowWidth=window.innerWidth},handleSplit(){this.sendHeapEvent({eventName:"Successful - Trim Split",customOptions:{playerUUID:this.uuid}});this.pause();this.splitSegment()},confirmDeleteSegment(){this.sendHeapEvent({eventName:"Successful - Video Trim Delete",customOptions:{playerUUID:this.uuid}});this.deleteActiveSegment()},toggleShiftKey(e,t){if(t.key==="Shift"){this.shiftKeyPressed=e}},handleJumpToTimeline(e){const t=this.positionFromMousePosition(e.clientX);const a=this.positionToSeconds(t);this.movePlayhead({seconds:a,seek:true,clicking:true})},embedPlayerPlayPause(){if(this.playing){this.pause()}else{this.play()}},adjustPreGripper(e){this.usedKeyboardShortcuts=true;const t=e*this.advanceBy;const a=this.activeSegment.start+t;this.updateActiveSegment({start:a});this.seek(a)},adjustPostGripper(e){this.usedKeyboardShortcuts=true;const t=e*this.advanceBy;const a=this.activeSegment.end+t;this.updateActiveSegment({end:a});this.seek(a)},adjustPlayhead(e){this.usedKeyboardShortcuts=true;const t=e*this.advanceBy;const a=this.playheadTime+t;this.movePlayhead({seconds:a});this.seek(a)},positionToSeconds(e){if(!this.$refs.scrubReel)return 0;return this.videoDuration*e/this.$refs.scrubReel.offsetWidth},secondsToPosition(e){if(!this.$refs.scrubReel)return 0;return e/this.videoDuration*this.$refs.scrubReel.offsetWidth},positionFromMousePosition(e){if(!this.$refs.scrubReel)return;const t=this.$refs.scrubReel.getBoundingClientRect().left;return e-Math.ceil(t)},handleSlide(e,t=false){if(t){this.slidingPlayhead=true}if(!this.slidingPlayhead&&!this.slidingPreScrub&&!this.slidingPostScrub)return;let a=this.positionFromMousePosition(e.clientX);const i=this.$refs.scrubReel.offsetWidth;a=a>0?a:0;a=a<=i?a:i;a=this.snapToPosition(a);const s=this.positionToSeconds(a);this.seek(s);if(this.slidingPreScrub){this.updateActiveSegment({start:s})}else if(this.slidingPostScrub){this.updateActiveSegment({end:s})}else if(this.slidingPlayhead){this.slidePlayhead(a)}if(this.slidingPreScrub||this.slidingPostScrub||this.slidingPlayhead){this.pause()}},snapToPosition(e){let t;const a=this.slidingPreScrub||this.slidingPostScrub;if(a){t=this.secondsToPosition(this.playheadTime)}else if(this.shiftKeyPressed&&!a){t=this.getPlayheadSnapPosition(e)}const i=t!==undefined&&Math.abs(t-e)<ht;const s=i?t:e;return s},getPlayheadSnapPosition(e){let t;let a;let i;if(this.playheadSegment){a=this.playheadSegment.start;i=this.playheadSegment.end}else{var s,n;a=(s=this.prevPlayheadSegment)===null||s===void 0?void 0:s.end;i=(n=this.nextPlayheadSegment)===null||n===void 0?void 0:n.start}const r=a!==undefined?this.secondsToPosition(a):-1;const o=i!==undefined?this.secondsToPosition(i):-1;if(r===-1&&o>=0){t=o}else if(o===-1&&r>=0){t=r}else{const a=Math.abs(e-r);const i=Math.abs(e-o);t=a<i?r:o}return t},slidePlayhead(e){const t=this.positionToSeconds(e);this.movePlayhead({seconds:t,dragging:true});this.pause()},stopSlide(){if(this.slidingPlayhead||this.slidingPreScrub||this.slidingPostScrub){this.movePlayhead({seconds:this.playheadTime,seek:true})}this.slidingPlayhead=false;this.slidingPreScrub=false;this.slidingPostScrub=false},renderLoop(){var e;const t=Date.now();if((e=this.playerMetadata)===null||e===void 0?void 0:e.playing){const e=this.playheadTime+(t-this.lastFrame)/1e3;this.movePlayhead({seconds:e})}this.animationRequestId=requestAnimationFrame(this.renderLoop);this.lastFrame=t},getSegmentProps(e,t){var a,i;const s={segment:e,videoDuration:this.videoDuration,startPos:this.secondsToPosition(e.start),endPos:this.secondsToPosition(e.end),isActive:this.activeSegmentIndex===t,offsetWidth:((a=this.$refs)===null||a===void 0?void 0:(i=a.scrubReel)===null||i===void 0?void 0:i.offsetWidth)||0};return s},closeTrimModal(){if(this.trimmedVideoDurationInSeconds<this.videoDuration){this.sendHeapEvent({eventName:"Cancelled - Video Trim",customOptions:{playerUUID:this.uuid}})}this.hidePlayerDrawer();this.setPlayingStatus(false)},async handleSave(){const{status:e}=await this.requestTrim();if(e===201){this.hidePlayerDrawer();const e=+(this.videoDuration-this.trimmedVideoDurationInSeconds).toFixed(2);f["b"].show(new f["b"]("Video trimmed successfully",{type:"success"}));this.sendHeapEvent({eventName:"Successful - Video Trim Saved",customOptions:{playerUUID:this.uuid,originalDuration:+this.videoDuration.toFixed(2),newDuration:+this.trimmedVideoDurationInSeconds.toFixed(2),startTimeOffset:this.segments[0].start!==0,endTimeOffset:this.segments[this.segments.length-1].end!==this.videoDuration,trimmedAmount:e,trimmedPercent:Math.round(e/this.videoDuration*100),numberofSlicesUsed:this.segments.length,usedKeyboardShortcuts:this.usedKeyboardShortcuts}});window.location.reload()}else{f["b"].show(new f["b"]("Failed to trim your video",{type:"error"}));this.sendHeapEvent({eventName:"Unsuccessful - Video Trim Failure",customOptions:{playerUUID:this.uuid}})}},async handleRevert(){const{status:e}=await this.revertTrim();if(e===200){this.hidePlayerDrawer();f["b"].show(new f["b"]("Video reverted successfully",{type:"success"}));this.sendHeapEvent({eventName:"Successful - Video Reverted to Original",customOptions:{playerUUID:this.uuid}});window.location.reload()}else{f["b"].show(new f["b"]("Failed to revert to original",{type:"error"}))}},confirmCancel(){if(this.trimmedVideoDurationInSeconds<this.videoDuration){this.closeTrimModalDialogVisible=true}else{this.closeTrimModal()}},closePlayerDrawerWhenClickedOutside(e){const t=this.saveVideoDialogVisible||this.confirmDeleteSegmentDialogVisible||this.closeTrimModalDialogVisible||this.revertDialogVisible;if(!this.$el.contains(e.target)&&!t){this.confirmCancel()}},confirmSave(){this.saveVideoDialogVisible=true},confirmRevert(){this.revertDialogVisible=true},handleSegmentClick(e){if(this.activeSegmentIndex===e)return;this.setActiveSegmentIndex(e);this.movePlayhead({seconds:this.activeSegment.start,clicking:true,seek:true})}}};var Oa=Da;var La=a("Urjw");var Ba=Object(S["a"])(Oa,zt,Ft,false,null,"e3930abe",null);if(false){var Ma}Ba.options.__file="app/assets/components/video_edit_page/video/player-drawer/PlayerTrim.vue";var za=Ba.exports;var Fa=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("VyButton",{staticClass:"download-pqlp-button",on:{click:e.showPopover}},[a("VyIcon",{attrs:{slot:"icon",name:"faDownload",type:"light"},slot:"icon"}),e._v("\n    Download\n  ")],1),e._v(" "),a("VyPopover",{directives:[{name:"show",rawName:"v-show",value:e.popoverVisible,expression:"popoverVisible"}],staticClass:"download-pqlp-popover",attrs:{header:"Upgrade to Download Videos",placement:"center","is-visible":e.popoverVisible,"hide-close-button":""},on:{close:e.hidePopover}},[a("div",{staticClass:"popover-notch"}),e._v(" "),a("p",{staticClass:"download-pqlp-content"},[e._v("\n      You can download your content if you upgrade to a Pro plan or above\n    ")]),e._v(" "),a("UpgradeButton",{attrs:{campaign:"sharing-page-download","heap-event":"Download pql upgrade prompt clicked","aria-label":"Upgrade account to download your videos",text:"Learn More"}})],1)],1)};var Ua=[];Fa._withStripped=true;var Ra=a("NvBw");var ja={name:"DownloadPopover",components:{VyPopover:f["D"],UpgradeButton:Ra["a"],VyButton:f["j"],VyIcon:f["v"]},data(){return{popoverVisible:false}},methods:{showPopover(){this.popoverVisible=true},hidePopover(){this.popoverVisible=false}}};var qa=ja;var Na=a("721z");var $a=Object(S["a"])(qa,Fa,Ua,false,null,"03bdfabe",null);if(false){var Ha}$a.options.__file="app/assets/components/video_edit_page/video/DownloadPopover.vue";var Ya=$a.exports;var Ga={name:"PlayerCard",components:{VyIcon:f["v"],VyButton:f["j"],VyTooltip:f["U"],PlayerEmbedV4:$e["a"],ThumbnailSelector:Mt,PlayerTrim:za,FocusLock:Re.a,VyOverflowMenu:f["B"],DownloadPopover:Ya},props:{isPlaylist:{type:Boolean,default:false}},data(){return{videoReloadIndex:0,windowWidth:undefined,reload:false}},computed:{...h["b"].mapState(["playerDrawerOpen","playerDrawerMode"]),...I["c"].mapState(["canSwitchGroup","user","domains"]),...d["c"].mapGetters(["hasFeature"]),...c["b"].mapGetters(["hasPermission"]),...v["b"].mapState(["selectedThumbnail"]),...v["b"].mapGetters(["isPlaceholderThumbnail","selectedThumbnailUuid"]),...l["b"].mapState(["playerApi","playing","uuid","createdDate"]),...l["b"].mapGetters(["playerApiLoaded","isPersonalized"]),...Ne["b"].mapGetters(["videoStatus","videoReady","isAudio"]),overflowButtons(){return this.menuButtons.filter((e=>e.overflow))},outsideOverflowButtons(){return this.menuButtons.filter((e=>!e.overflow))},forceLoadSpinner(){return this.isPlaceholderThumbnail(this.selectedThumbnail.url)||!this.isPlaylist&&this.videoStatus!=="encoding"&&!this.videoReady},menuButtons(){const e=[];const t=!this.isPersonalized||this.isPlaylist;if(this.hasPermission("can_edit_players")&&!this.isPlaylist&&!this.isPersonalized&&!this.isAudio){const t=!this.playerApiLoaded||!this.videoReady;e.push({id:"trim",text:"Trim",icon:{name:"faCut",type:"light"},disabled:t,loading:t,click:()=>{this.sendHeapEvent({eventName:"Clicked - Video Trim",customOptions:{playerUUID:this.uuid}});this.showPlayerDrawer("trim")},overflow:this.windowWidth<800})}if(this.hasPermission("can_edit_players")&&this.canSwitchGroup){e.push({id:"move",text:"Move",icon:{name:"faFolder",type:"light"},click:()=>this.setMoveVideoModalVisibility(true),overflow:this.windowWidth<900})}if(!this.isPlaylist&&this.hasPermission("can_download")&&this.hasFeature("download_access")){e.push({id:"download",text:"Download","data-heap":"video-download-button",icon:{name:"faDownload",type:"light"},click:()=>this.setDownloadVideoModalVisibility(true),loading:!this.videoReady,disabled:!this.videoReady,overflow:this.windowWidth<1e3})}if(this.hasPermission("can_edit_players")&&(t||this.user.vyAdmin)){e.push({id:"delete",text:"Delete",icon:{name:"faTrash",type:"light"},click:()=>this.setDeleteVideoModalVisibility(true),overflow:this.windowWidth<1100})}return e},embedSettings(){const e={autoplay:"0",hidden_controls:"0",first_frame:"0"};if(this.playerDrawerOpen){e.hidden_controls="1";e.first_frame="1"}const t=new URLSearchParams(window.location.search);const a=t.get("second");if(a){e.first_frame="1";e.second=a}return e}},watch:{videoStatus(e,t){if(e==="ready"&&t!=="encoding"){this.reloadVideo()}},selectedThumbnailUuid(){this.reloadVideo()},playerDrawerOpen(){this.reloadVideo(true)},reload(){if(this.reload){setTimeout((()=>{this.reload=false}),1500)}}},mounted(){this.checkScreenSize=qe()(this.checkScreenSize,200);window.addEventListener("resize",this.checkScreenSize);this.checkScreenSize()},beforeDestroy(){window.removeEventListener("resize",this.checkScreenSize)},methods:{...h["b"].mapActions(["showPlayerDrawer","hidePlayerDrawer"]),...h["b"].mapMutations(["setMoveVideoModalVisibility","setDownloadVideoModalVisibility","setDeleteVideoModalVisibility"]),...l["b"].mapMutations({setPlayerApi:"set-player-api"}),...l["b"].mapMutations(["setPlaying"]),...I["c"].mapActions(["sendHeapEvent"]),handleAction(e){this.overflowButtons[e].click()},checkScreenSize(){this.windowWidth=window.innerWidth},onPlayerReady(e){this.setPlayerApi(e);this.playerApi.on("play",(()=>{this.setPlaying(true)}));this.playerApi.on("pause",(()=>{this.setPlaying(false)}));this.playerApi.on("playerComplete",(()=>{this.setPlaying(false)}))},reloadVideo(e=false){if(!this.playing||e){this.videoReloadIndex+=1;this.reload=true}else{setTimeout(this.reloadVideo,2e3)}},buttonTooltipContent(e){var t;return e===null||e===void 0?void 0:(t=e.tooltip)===null||t===void 0?void 0:t.text}}};var Wa=Ga;var Ja=a("vBWg");var Za=Object(S["a"])(Wa,Me,ze,false,null,"448bda9d",null);if(false){var Ka}Za.options.__file="app/assets/components/video_edit_page/video/PlayerCard.vue";var Qa=Za.exports;var Xa=a("y3in");var ei=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"sharing-card-container"},[a("VyCard",{staticClass:"sharing-card-header",attrs:{heading:"Locations",icon:e.faBullhorn,description:"See the places this video is currently shared or located in"}}),e._v(" "),a("VyCollapse",{staticClass:"sharing-panel",class:{"sharing-panel-new":e.hasFeature("new_youtube_push")},attrs:{title:"Social Media",type:"card",open:e.isOpen},on:{"update:open":function(t){e.isOpen=t}}},[e.isEmpty?a("div",{staticClass:"empty-content-message"},[e._v("\n      The video has not been pushed to any social channels.\n    ")]):[e.hasFeature("new_youtube_push")?a("div",{staticClass:"table-container"},[a("VyTable",[a("tr",[a("th",[e._v("Social Platform")]),e._v(" "),a("th",[e._v("Account")]),e._v(" "),a("th",[e._v("Status")]),e._v(" "),a("th",{attrs:{"aria-label":"controls"}})]),e._v(" "),e._l(e.socialPushes,(function(t,i){return e._l(t,(function(t){return a(e.sharingItemPage[i],{key:i+"-"+t.id,tag:"component",attrs:{"sharing-data":t,"sharing-integration-type":i,"can-edit-integrations":e.canEditIntegrations,"organization-id":e.organization.id},on:{"remove-item":e.removeSocialPushStatus,"youtube-sync-requested":e.displayYoutubeSync}})}))}))],2)],1):e._l(e.sharingDetails,(function(t){return a("SocialSharingItem",{key:t.type+"-"+t.id,attrs:{"sharing-data":t,"can-edit-integrations":e.canEditIntegrations},on:{"remove-item":e.removeSocialPushStatus}})}))]],2),e._v(" "),a("VyCollapse",{staticClass:"embed-locations-panel",attrs:{title:"Embed Locations","start-collapsed":"",type:"card",open:e.isOpenEmbedLocations},on:{"update:open":function(t){e.isOpenEmbedLocations=t}}},[e.isEmptyEmbedLocations?a("div",{staticClass:"empty-content-message"},[e._v("\n      There are no view locations currently available for this player.\n    ")]):e._l(e.embedLocations,(function(t){return a("div",{key:"embedLocation-"+t,staticClass:"embed-location-url"},[a("a",{attrs:{href:"http://"+t,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n          "+e._s(t)+"\n        ")])])}))],2),e._v(" "),a("VyDialog",{attrs:{title:"Are you sure you would like to unlink this video from YouTube?",visible:e.dialogVisible,"aria-label":"Unlink item","show-close":"",size:"small"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("\n      Unlinking means that you can no longer copy any changes to your video over to YouTube. You will no longer receive YouTube view counts in Vidyard for this video. This action cannot be reversed.\n    ")]),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("VyButton",{on:{click:function(t){e.dialogVisible=false}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"primary"},on:{click:e.confirmUnlink}},[e._v("\n        Unlink\n      ")])],1)]),e._v(" "),e.hasFeature("new_youtube_push")?a("YoutubeSyncDialog",{attrs:{"selected-social-push-id":e.selectedJobId,"player-uuid":e.playerUuid,visible:e.isYoutubeSyncDialogOpen},on:{"update:visible":function(t){e.isYoutubeSyncDialogOpen=t}}}):e._e()],1)};var ti=[];ei._withStripped=true;var ai=a("GMik");var ii=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"sharing-icon-container"},[a("div",{staticClass:"wrapper-left"},[a("VyIcon",{staticClass:"social-share-icon",attrs:{type:"brands",name:e.icon}}),e._v(" "),a("div",{staticClass:"text"},[e._v("\n      "+e._s(e.title)+"\n    ")]),e._v(" "),a("div",{staticClass:"token-text"},[e._v("\n      "+e._s(e.sharingData.token)+"\n    ")])],1),e._v(" "),a("div",{staticClass:"wrapper-right"},[a("div",{staticClass:"text"},[e.statusType?a("VyStatus",{attrs:{status:e.statusType,text:e.status}}):a("div",[e._v("\n        "+e._s(e.status)+"\n      ")])],1),e._v(" "),a("div",{staticClass:"sharing-item-menu-placeholder"},[e.showMenuItems?a("VyOverflowMenu",{staticClass:"sharing-item-menu",attrs:{"aria-label":"More options","menu-items":e.menuItems},on:{action:e.handleOverflowMenuAction}}):e._e()],1)])])};var si=[];ii._withStripped=true;var ni=a("anwA");var ri=a("Avfd");const oi="sync";const li="connection";const di="cancel_sync";const ci="view";const ui="unlink";const pi=1e3;const hi=10;const vi={youtube:{icon:"faYoutube",title:"YouTube"},facebook:{icon:"faFacebookF",title:"Facebook"},linkedin:{icon:"faLinkedin",title:"LinkedIn"}};var mi={name:"SocialSharingItem",components:{VyIcon:f["v"],VyOverflowMenu:f["B"],VyStatus:f["L"]},props:{sharingData:{type:Object,required:true},canEditIntegrations:{type:Boolean,required:true}},data(){return{pollingCount:0}},computed:{...Ne["b"].mapState(["id"]),menuItems(){const e=[];if(this.sharingData.type===ni["YOUTUBE"]){e.push({text:"View on ".concat(this.title),id:ci});e.push({text:"Sync",id:oi});e.push({text:"Unlink from ".concat(this.title),id:ui})}if(this.canEditIntegrations){e.push({text:"Account Connection",id:li})}return e},showMenuItems(){return this.menuItems.length!==0},status(){switch(this.sharingData.status){case ri["d"]:return"".concat(this.sharingData.type===ni["YOUTUBE"]?"Synced":"Pushed"," on ").concat(this.sharingData.date);case ri["b"]:return"Failed to Sync";case ri["c"]:return"Out of Sync";case ri["g"]:case ri["a"]:case ri["h"]:return"Syncing";default:return""}},statusType(){switch(this.sharingData.status){case ri["b"]:return"error";case ri["c"]:return"warning";case ri["g"]:case ri["a"]:case ri["h"]:return"processing";default:return null}},title(){return vi[this.sharingData.type].title},icon(){return vi[this.sharingData.type].icon}},methods:{...p["b"].mapActions(["syncYoutubePush","refreshYoutubePush","handleFailedSync"]),handleOverflowMenuAction(e){const t=this.menuItems[e].id;switch(t){case ci:window.open(this.sharingData.viewUrl,"_blank");return;case li:window.location=this.sharingData.connectionUrl;return;case ui:this.youtubeUnlink();return;case oi:this.youtubeSync()}},youtubeUnlink(){const e=this.sharingData.id;const t=this.sharingData.token;this.$emit("remove-item",e,t,ni["YOUTUBE"])},async youtubeSync(){this.pollingCount=0;await this.syncYoutubePush({id:this.sharingData.id});this.pollStatus()},async pollStatus(){await this.refreshYoutubePush({id:this.sharingData.id});if(this.sharingData.status===ri["b"]){this.handleFailedSync()}else if(this.sharingData.status!==ri["d"]&&this.pollingCount<hi){this.pollingCount+=1;setTimeout((()=>{this.pollStatus()}),Math.pow(2,this.pollingCount)*pi)}}}};var fi=mi;var bi=a("30Qr");var gi=Object(S["a"])(fi,ii,si,false,null,"51099e5b",null);if(false){var yi}gi.options.__file="app/assets/components/video_edit_page/video/social-sharing/SocialSharingItem.vue";var _i=gi.exports;var wi=a("DVpS");var xi=a("WnOs");var Si=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("tr",{staticClass:"social-sharing-item-container"},[a("td",[a("div",{staticClass:"social-platform"},[a("VyIcon",{staticClass:"social-share-icon",attrs:{type:"brands",name:"faYoutube"}}),e._v(" "),a("div",{staticClass:"text"},[e._v("\n        YouTube\n      ")])],1)]),e._v(" "),a("td",[e.channelUrl.length>0?a("VyLink",{attrs:{href:e.channelUrl,"open-in-new-tab":true,"aria-label":"Link to youtube video on "+e.accountName}},[e._v("\n      "+e._s(e.accountName)+"\n    ")]):a("span",[e._v("\n      "+e._s(e.accountName)+"\n    ")])],1),e._v(" "),a("td",[e.statusResult.icon?a("div",{staticClass:"status"},[a("div",{staticClass:"flex-row"},[a("VyStatus",{class:{"vy-status-error-button":e.errorMessage||e.statusResult.body},attrs:{status:e.statusResult.icon,text:e.statusResult.message}}),e._v(" "),e.errorMessage||e.statusResult.body?a("VyButton",{attrs:{"aria-label":"Display error message"},on:{click:function(t){e.displayError=true}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{id:"info-message",name:"faExclamationCircle",type:"light"}})]},proxy:true}])}):e._e(),e._v(" "),a("VyPopover",{attrs:{header:e.statusResult.message,placement:"left",above:"","is-visible":e.displayError},on:{close:function(t){e.displayError=false}},scopedSlots:e._u([e.statusResult.link?{key:"footer",fn:function(){return[a("VyLink",{attrs:{"aria-label":"learn more","open-in-new-tab":"",href:e.statusResult.link}},[e._v("\n              Learn More\n            ")])]},proxy:true}:null],true)},[a("p",{staticClass:"status-result"},[e._v(e._s(e.statusResult.body||e.errorMessage))])])],1),e._v(" "),e.outOfSync?a("div",{staticClass:"status-padding"},[a("small",[e._v("\n          Last Synced on "+e._s(e.formattedPushDate)+"\n        ")])]):e._e()]):a("div",[e._v("\n      "+e._s(e.statusText)+"\n    ")])]),e._v(" "),a("td",[a("div",{staticClass:"controls"},[e.canAccessYoutube?a("VyTooltip",{attrs:{content:(e.isSync?"Sync":"Publish")+" video details"}},[a("VyButton",{attrs:{id:"sync-youtube-button","aria-label":"sync video to youtube",disabled:e.tokenInvalid||e.statusResult.icon==="processing"},on:{click:function(t){return e.$emit("youtube-sync-requested",e.sharingData.id)}}},[e._v("\n          "+e._s(e.isSync?"Sync":"Publish")+"\n        ")])],1):e._e(),e._v(" "),e.showMenuItems?a("VyOverflowMenu",{staticClass:"sharing-item-menu",attrs:{"aria-label":"More options","menu-items":e.menuItems},on:{action:e.handleOverflowMenuAction}}):e._e()],1)])])};var ki=[];Si._withStripped=true;var Ci=a("Qfib");const Pi=1e3;const Ti=10;var Vi={name:"SocialSharingItemYoutube",components:{VyButton:f["j"],VyIcon:f["v"],VyLink:f["y"],VyOverflowMenu:f["B"],VyStatus:f["L"],VyTooltip:f["U"],VyPopover:f["D"]},props:{sharingData:{type:Object,required:true},sharingIntegrationType:{type:String,required:true},canEditIntegrations:{type:Boolean,required:true},organizationId:{type:Number,required:true}},data(){return{pollingCount:0,interval:undefined,SocialSharingType:ni,displayError:false}},computed:{...p["b"].mapGetters(["canAccessYoutube"]),...l["b"].mapState(["player","uuid"]),...l["b"].mapGetters(["updatedAt"]),...I["c"].mapState({currentOrganizationId:e=>e.organization.id,currentAccountId:e=>e.organization.accountId}),isSync(){var e;return((e=this.sharingData.provider_metadata)===null||e===void 0?void 0:e.youtube_id)!==undefined},isScheduled(){var e,t;return((e=this.sharingData.vy_metadata)===null||e===void 0?void 0:e.yt_publish_at)?new Date((t=this.sharingData.vy_metadata)===null||t===void 0?void 0:t.yt_publish_at)>new Date:false},channelUrl(){var e;return"https://www.youtube.com/channel/".concat((e=this.sharingData.vy_metadata)===null||e===void 0?void 0:e.yt_channel_id)},accountName(){var e,t,a;return((e=this.sharingData.provider_metadata)===null||e===void 0?void 0:e.channel_title)||((t=this.sharingData.oauth_token)===null||t===void 0?void 0:(a=t.data)===null||a===void 0?void 0:a.username)||"YouTube"},videoUrl(){var e;return"https://www.youtube.com/watch?v=".concat((e=this.sharingData.provider_metadata)===null||e===void 0?void 0:e.youtube_id)},tokenInvalid(){var e;return!!((e=this.sharingData.oauth_token)===null||e===void 0?void 0:e.invalidated_at)},outOfSync(){return this.sharingData.pushed_at?new Date(this.updatedAt*1e3)>new Date(this.sharingData.pushed_at):false},formattedPushDate(){return Object(Ke["d"])(this.sharingData.pushed_at)},menuItems(){const e=[];if(this.canAccessYoutube){if(this.statusResult.icon!=="processing"&&!this.tokenInvalid){e.push({id:oi,text:this.isSync?"Sync":"Publish"});e.push({type:"divider"})}e.push({id:ui,text:"Unlink from YouTube"})}if(this.isSync){e.push({id:ci,text:"View on YouTube"})}if(this.canEditIntegrations){e.push({id:li,text:"Account Connection",href:"/organizations/".concat(this.organizationId,"/integrations")})}return e},showMenuItems(){return this.menuItems.length!==0},statusResult(){if(this.tokenInvalid){return this.statusItem("error","Missing Connection",undefined,"Please ensure your YouTube integration is properly set up. You can manage this connection on the Integrations page.")}if(this.isScheduled){return this.statusItem("expired","Scheduled for ".concat(Object(Ke["d"])(this.sharingData.vy_metadata.yt_publish_at)))}switch(this.sharingData.status){case ri["f"].COMPLETE:if(this.outOfSync){const e="Changes have recently been made on Vidyard to this video (title, description, tags, thumbnail, or captions). To keep this video up-to-date on your YouTube channel, please try syncing again by clicking the â€œSyncâ€ button.";return this.statusItem("warning","Out of Sync",undefined,e)}if(this.errorMessage){return this.statusItem("warning","".concat(this.isSync?"Partially Synced":"Partially Published"))}return this.statusItem("ready","".concat(this.isSync?"Last synced at":"Published on"," ").concat(this.formattedPushDate));case ri["f"].FAILED_TO_PREPARE:case ri["f"].FAILED_TO_PUBLISH:this.unsuccessfulSyncHeap();return this.statusItem("error","Failed to ".concat(this.isSync?"Sync":"Publish"));default:return this.statusItem("processing","".concat(this.isSync?"Syncing to":"Publishing to"," ").concat(this.sharingIntegrationType,"..."))}},errorMessage(){var e,t;return(e=this.sharingData)===null||e===void 0?void 0:(t=e.error)===null||t===void 0?void 0:t.message}},created(){if(this.sharingData.status!=="COMPLETED"){this.pollStatus()}},beforeUnmount(){clearInterval(this.interval)},methods:{...p["b"].mapActions(["refreshYoutubePush","handleFailedSync"]),...I["c"].mapActions(["sendHeapEvent"]),handleOverflowMenuAction(e){const t=this.menuItems[e].id;switch(t){case di:case ui:this.youtubeUnlink();return;case ci:this.youtubeView();return;case oi:this.$emit("youtube-sync-requested",this.sharingData.id)}},youtubeUnlink(){var e;const t=this.sharingData.id;const a=((e=this.sharingData.provider_metadata)===null||e===void 0?void 0:e.channel_title)||"";this.$emit("remove-item",t,a,ni["YOUTUBE"])},youtubeView(){window.open(this.videoUrl,"_blank");this.sendHeapEvent({eventName:"Clicked - View on YouTube",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.uuid}})},unsuccessfulSyncHeap(){if(this.isSync){this.sendHeapEvent({eventName:"Unsuccessful - YouTube Sync",customOptions:{initial_sync:false,currentAccountId:this.currentAccountId,currentOrganizationId:this.organizationId,playerUuid:this.uuid,error_message:"Failed to Sync",responseError:this.sharingData.status}})}else{this.sendHeapEvent({eventName:"Unsuccessful - YouTube Sync",customOptions:{initial_sync:true,currentAccountId:this.currentAccountId,currentOrganizationId:this.organizationId,playerUuid:this.uuid,error_message:"Failed to Publish",responseError:this.sharingData.status}})}},async pollStatus(){await this.refreshYoutubePush({id:this.sharingData.id});if(!ri["i"](this.sharingData.status)&&this.pollingCount<Ti){this.pollingCount+=1;this.interval=setTimeout((()=>{this.pollStatus()}),Math.pow(2,this.pollingCount)*Pi)}},statusItem(e,t,a=undefined,i=undefined){return{icon:e,message:t,link:a,body:i}}}};var Ai=Vi;var Ei=a("go7V");var Ii=Object(S["a"])(Ai,Si,ki,false,null,"ee276af6",null);if(false){var Di}Ii.options.__file="app/assets/components/video_edit_page/video/social-sharing/providers/SocialSharingItemYoutube.vue";var Oi=Ii.exports;var Li=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("tr",{staticClass:"social-sharing-item-container"},[a("td",[a("div",{staticClass:"social-platform"},[a("VyIcon",{staticClass:"social-share-icon",attrs:{type:"brands",name:"faFacebookF"}}),e._v(" "),a("div",{staticClass:"text"},[e._v("\n        Facebook\n      ")])],1)]),e._v(" "),a("td",[a("span",[e._v("\n      "+e._s(e.sharingData.token)+"\n    ")])]),e._v(" "),a("td",[a("div",{staticClass:"text"},[e.statusType?a("VyStatus",{attrs:{status:e.statusType,text:e.status}}):a("div",[e._v("\n        "+e._s(e.status)+"\n      ")])],1)]),e._v(" "),a("td",[a("div",{staticClass:"controls"},[e.showMenuItems?a("VyOverflowMenu",{staticClass:"sharing-item-menu",attrs:{"aria-label":"More options","menu-items":e.menuItems},on:{action:e.handleOverflowMenuAction}}):e._e()],1)])])};var Bi=[];Li._withStripped=true;var Mi={name:"SocialSharingItemFacebook",components:{VyIcon:f["v"],VyOverflowMenu:f["B"],VyStatus:f["L"]},props:{sharingData:{type:Object,required:true},canEditIntegrations:{type:Boolean,required:true}},computed:{menuItems(){const e=[];if(this.canEditIntegrations){e.push({text:"Account Connection",id:li})}return e},showMenuItems(){return this.menuItems.length!==0},status(){switch(this.sharingData.status){case ri["d"]:return this.sharingData.pushed_at?"Pushed on ".concat(this.sharingData.pushed_at):"Pushed";case ri["b"]:return"Failed to Sync";case ri["c"]:return"Out of Sync";case ri["g"]:case ri["a"]:case ri["h"]:return"Syncing";default:return""}},statusType(){switch(this.sharingData.status){case ri["b"]:return"error";case ri["c"]:return"warning";case ri["g"]:case ri["a"]:case ri["h"]:case ri["e"]:return"processing";case ri["d"]:return"ready";default:return null}}},methods:{handleOverflowMenuAction(e){const t=this.menuItems[e].id;switch(t){case ci:window.open(this.sharingData.viewUrl,"_blank");return;case li:window.location=this.sharingData.connectionUrl}}}};var zi=Mi;var Fi=a("F5Zk");var Ui=Object(S["a"])(zi,Li,Bi,false,null,"0f058d54",null);if(false){var Ri}Ui.options.__file="app/assets/components/video_edit_page/video/social-sharing/providers/SocialSharingItemFacebook.vue";var ji=Ui.exports;const qi="youtube-sync-alert";var Ni={name:"SocialSharing",components:{YoutubeSyncDialog:wi["a"],VyCard:f["k"],VyCollapse:f["n"],SocialSharingItem:_i,VyDialog:f["r"],VyButton:f["j"],VyTable:f["O"],SocialSharingItemFacebook:ji,SocialSharingItemYoutube:Oi},props:{playerUuid:{type:String,required:true}},data(){return{faBullhorn:ai["faBullhorn"],selectedItem:{id:undefined,channel:"",key:""},dialogVisible:false,isOpen:false,isOpenEmbedLocations:false,isYoutubeSyncDialogOpen:false,selectedJobId:undefined}},computed:{...Ne["b"].mapState(["id"]),...d["c"].mapGetters(["hasFeature"]),...p["b"].mapGetters(["socialPushes","pushesOutdated"]),...xi["b"].mapState(["embedLocations"]),...I["c"].mapState(["organization"]),...c["b"].mapGetters(["hasPermission"]),...I["c"].mapState({currentOrganizationId:e=>e.organization.id,currentAccountId:e=>e.organization.accountId}),sharingDetails(){const e=[];const t=Object.keys(this.socialPushes);t.forEach((t=>{this.socialPushes[t].forEach((a=>{e.push(this.transformData(t,a))}))}));return e},canEditIntegrations(){return this.hasPermission("can_edit_integrations")},isEmpty(){return this.socialPushes.youtube.length===0&&this.socialPushes.facebook.length===0},isEmptyEmbedLocations(){return this.embedLocations.length===0},sharingItemPage(){return{youtube:Oi,facebook:ji}}},watch:{pushesOutdated(e){if(e){this.addAlert({id:qi,title:"Sync your recent video changes to YouTube",type:"warning",message:"Changes have recently been made to this video (title, description, tags, thumbnail, or captions). To keep this video up-to-date on your YouTube channel(s), open the Sync settings in the Locations panel.",action:{location:"#locations",message:"Go to Locations",callback:()=>this.sendHeapEvent({eventName:"Clicked - YouTube gotolocations",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid}})}});this.sendHeapEvent({eventName:"Viewed - YouTubesync promptbanner",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid}})}else{this.dismissAlert(qi)}}},async mounted(){await this.initSocialPushes();await this.loadEmbedLocations();this.isOpen=!this.isEmpty;this.isOpenEmbedLocations=!this.isEmptyEmbedLocations},methods:{...p["b"].mapActions(["initSocialPushes","removeSocialPushItem"]),...xi["b"].mapActions(["loadEmbedLocations"]),...l["b"].mapMutations(["addAlert","dismissAlert"]),...I["c"].mapActions(["sendHeapEvent"]),transformData(e,t){const a={};let i;if(e===ni["YOUTUBE"]){i=t.synced_at;a.viewUrl="https://www.youtube.com/watch?v=".concat(t.youtube_id)}else if(e===ni["FACEBOOK"]){i=t.created_at}a.id=t.id;a.connectionUrl="/organizations/".concat(this.organization.id,"/integrations");a.type=e;a.status=t.status;a.token=t.token_user;a.date=this.formatDatetime(i);return a},removeSocialPushStatus(e,t,a){this.dialogVisible=true;this.selectedItem={id:e,channel:t,key:a}},displayYoutubeSync(e){this.selectedJobId=e;this.isYoutubeSyncDialogOpen=true},async confirmUnlink(){await this.removeSocialPushItem({key:this.selectedItem.key,id:this.selectedItem.id});this.dialogVisible=false;this.sendHeapEvent({eventName:"Unlinked - YouTube Video",customOptions:{currentAccountId:this.currentAccountId,currentOrganizationId:this.currentOrganizationId,playerUuid:this.playerUuid,unlink_level:"Video Unlinked"}})},formatDatetime:Ke["d"]}};var $i=Ni;var Hi=a("mac0");var Yi=Object(S["a"])($i,ei,ti,false,null,"013deeb0",null);if(false){var Gi}Yi.options.__file="app/assets/components/video_edit_page/video/social-sharing/SocialSharing.vue";var Wi=Yi.exports;var Ji=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.isPersonalized?a("VyCard",{attrs:{heading:"Thumbnail",description:"Choose the thumbnail that is displayed "+(e.isAudio?"while":"before")+" the "+(e.isAudio?"audio":"video")+" plays",icon:e.faImage}},[a("div",{staticClass:"loading-thumbs",attrs:{disabled:e.thumbnailLibrary.length!==0}},[a("div",{staticClass:"loading-thumbs-text",attrs:{"aria-label":"Loading thumbnails"}},[e._v("\n      Loading Thumbnails\n    ")])]),e._v(" "),a("div",{staticClass:"row thumb-bucket",attrs:{disabled:e.thumbnailLibrary.length===0}},[a("div",{staticClass:"col-md-4 col-xs-4"},[a("Thumbnail",{staticClass:"thumb-sm",attrs:{"thumbnail-type":"image-thumbnail","thumbnail-caption":"Static","thumbnail-url":e.staticThumbnail?e.staticThumbnail.url:null,"thumbnail-uuid":e.staticThumbnail?e.staticThumbnail.uuid:null,"heap-event-on-select":"thumbnail.static-selected"}}),e._v(" "),a("Thumbnail",{staticClass:"thumb-lg",attrs:{"thumbnail-type":"image-thumbnail","thumbnail-caption":"Static thumbnail","thumbnail-url":e.staticThumbnail?e.staticThumbnail.url:null,"thumbnail-uuid":e.staticThumbnail?e.staticThumbnail.uuid:null,"heap-event-on-select":"thumbnail.static-selected"}})],1),e._v(" "),a("div",{staticClass:"col-md-4 col-xs-4"},[a("Thumbnail",{staticClass:"thumb-sm",attrs:{"thumbnail-type":"gif-thumbnail","thumbnail-caption":"Animated","thumbnail-url":e.animatedThumbnail?e.animatedThumbnail.url:null,"thumbnail-uuid":e.animatedThumbnail?e.animatedThumbnail.uuid:null,"heap-event-on-select":"thumbnail.animated-selected"}}),e._v(" "),a("Thumbnail",{staticClass:"thumb-lg",attrs:{"thumbnail-type":"gif-thumbnail","thumbnail-caption":"Animated thumbnail","thumbnail-url":e.animatedThumbnail?e.animatedThumbnail.url:null,"thumbnail-uuid":e.animatedThumbnail?e.animatedThumbnail.uuid:null,"heap-event-on-select":"thumbnail.animated-selected"}})],1),e._v(" "),a("div",{staticClass:"col-md-4 col-xs-4"},[e.customThumbnail?[a("Thumbnail",{staticClass:"thumb-sm",attrs:{"thumbnail-type":"taken-thumbnail","thumbnail-caption":"Custom","thumbnail-url":e.customThumbnail.url,"thumbnail-uuid":e.customThumbnail.uuid,"heap-event-on-select":"thumbnail.custom-selected"}}),e._v(" "),a("Thumbnail",{staticClass:"thumb-lg",attrs:{"thumbnail-type":"taken-thumbnail","thumbnail-caption":"Custom thumbnail","thumbnail-url":e.customThumbnail.url,"thumbnail-uuid":e.customThumbnail.uuid,"heap-event-on-select":"thumbnail.custom-selected"}})]:e._e(),e._v(" "),a("TakePicture",{directives:[{name:"show",rawName:"v-show",value:!e.customThumbnail,expression:"!customThumbnail"}]})],2)]),e._v(" "),a("div",{staticClass:"thumbnail-card__footer thumb-from-video",attrs:{slot:"content-footer",disabled:e.thumbnailLibrary.length===0},slot:"content-footer"},[!e.isAudio?a("VyButton",{attrs:{type:"tertiary",loading:!e.playerApiLoaded||!e.videoReady},on:{click:function(t){return e.showPlayerDrawer("thumbnail-select")}}},[a("VyIcon",{attrs:{slot:"icon",name:"faEdit"},slot:"icon"}),e._v("\n\n      Select from Video\n    ")],1):e._e()],1)]):a("VyCard",{attrs:{heading:"Thumbnail",description:"Choose the thumbnail that is displayed before the video plays",icon:e.faImage}},[a("VyIcon",{attrs:{name:"faHeart",type:"regular"}}),e._v("\n  This video contains a personalized thumbnail which cannot be edited\n")],1)};var Zi=[];Ji._withStripped=true;var Ki=a("8B9o");var Qi=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"full-thumbnail-container",class:{selected:e.checkSelected}},[a("span",[e._v(e._s(e.thumbnailCaption))]),e._v(" "),e.checkSelected?a("VyIcon",{staticClass:"selected-icon",attrs:{name:"faCheck",type:"regular"}}):e._e(),e._v(" "),a("div",{staticClass:"thumbnail-container",class:{outline:e.checkSelected}},[a("VyThumbnail",{staticClass:"thumbnail-wrapper",attrs:{"aria-label":e.ariaLabel,src:e.thumbnailUrl,name:e.thumbnailCaption},on:{click:e.selectThumbnail}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:e.thumbnailType==="taken-thumbnail"&&e.thumbnailUrl,expression:"thumbnailType === 'taken-thumbnail' && thumbnailUrl"}],staticClass:"delete-thumbnail-button",attrs:{"aria-label":"Delete custom thumbnail"},on:{click:function(t){e.showDeleteThumbnailModal=true}}},[a("VyIcon",{attrs:{name:"faTimes",type:"light"}})],1)],1),e._v(" "),a("VyDialog",{attrs:{title:"Delete thumbnail?",visible:e.showDeleteThumbnailModal,size:"tiny"},on:{"update:visible":function(t){e.showDeleteThumbnailModal=t}}},[a("span",[e._v("Are you sure you want to delete your thumbnail?")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("VyButton",{on:{click:function(t){e.showDeleteThumbnailModal=false}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"danger"},on:{click:e.deleteThumbnailConfirmed}},[e._v("\n        Delete\n      ")])],1)])],1)};var Xi=[];Qi._withStripped=true;var es={name:"Thumbnail",components:{VyButton:f["j"],VyDialog:f["r"],VyThumbnail:f["T"],VyIcon:f["v"]},mixins:[f["c"]],props:{thumbnailType:{type:String,required:true},thumbnailCaption:{type:String,required:true},thumbnailUrl:{type:String,required:false,default:undefined},thumbnailUuid:{type:String,required:false,default:undefined},heapEventOnSelect:{type:String,required:false,default:undefined}},data(){return{showDeleteThumbnailModal:false}},computed:{...v["b"].mapState(["selectedThumbnail"]),checkSelected(){return this.thumbnailUuid===this.selectedThumbnail.uuid},ariaLabel(){return"Select ".concat(this.thumbnailCaption)},imageAlt(){return"".concat(this.thumbnailCaption," Image")}},methods:{...I["c"].mapActions(["sendHeapEvent"]),...v["b"].mapActions(["updateSelectedThumbnail","deleteThumbnail"]),async selectThumbnail(){if(this.thumbnailUuid&&this.thumbnailUuid!==this.selectedThumbnail.uuid){const e=await this.updateSelectedThumbnail(this.thumbnailUuid);if(e&&this.heapEventOnSelect){this.sendHeapEvent({eventName:this.heapEventOnSelect,customOptions:{}})}}},async deleteThumbnailConfirmed(){this.showDeleteThumbnailModal=false;await this.deleteThumbnail(this.thumbnailUuid)}}};var ts=es;var as=a("RUJK");var is=Object(S["a"])(ts,Qi,Xi,false,null,null,null);if(false){var ss}is.options.__file="app/assets/components/video_edit_page/video/thumbnail.vue";var ns=is.exports;var rs=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticClass:"custom-thumbnail-wrapper"},[i("div",{staticClass:"take-picture-caption thumb-sm"},[e._v("\n    Custom\n  ")]),e._v(" "),i("div",{staticClass:"take-picture-caption thumb-lg"},[e._v("\n    Custom thumbnail\n  ")]),e._v(" "),i("div",{staticClass:"custom-options-wrapper"},[i("VyAspectRatio",{staticClass:"custom-options"},[i("div",{staticClass:"thumbnail-button-wrapper"},[i("VyTooltip",{staticClass:"thumb-tooltip",attrs:{placement:"bottom",content:"Upload a Thumbnail"}},[i("div",{staticClass:"thumbnail-button thumbnail-button--left",attrs:{tabindex:"0",role:"button","aria-label":"Upload a Thumbnail"},on:{click:function(t){e.uploading=true},keypress:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}t.preventDefault();e.uploading=true},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])){return null}t.preventDefault();e.uploading=true}]}},[i("VyIcon",{staticClass:"thumbnail-button__icon",attrs:{name:"faUpload",type:"light"}}),e._v(" "),i("span",{staticClass:"thumbnail-button__text thumb-lg",attrs:{id:"upload-custom-picture"}},[e._v("\n              Upload\n            ")])],1)])],1),e._v(" "),i("Uploader",{ref:"uploader",attrs:{"use-status-bar":"","aria-labelledby":"upload-custom-picture",uploading:e.uploading,"max-file-size":5*1e3*1e3,"uploader-id":"uploader-library","file-type":["thumbnail"],"organization-id":e.organization.id},on:{"update:uploading":function(t){return e.uploading=t},"upload-success":e.handleUploadSuccess}}),e._v(" "),i("div",{staticClass:"thumbnail-button-wrapper"},[i("VyTooltip",{staticClass:"thumb-tooltip",attrs:{placement:"bottom",content:"Take a Picture as a Thumbnail"}},[i("div",{staticClass:"thumbnail-button thumbnail-button--right",attrs:{tabindex:"0",role:"button","aria-label":"Take a Picture as a Thumbnail"},on:{click:e.startCameraStream,keypress:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")){return null}return e.startCameraStream(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])){return null}return e.startCameraStream(t)}]}},[i("VyIcon",{staticClass:"thumbnail-button__icon",attrs:{name:"faCamera",type:"regular"}}),e._v(" "),i("span",{staticClass:"thumbnail-button__text thumb-lg"},[e._v("\n              Take a Picture\n            ")])],1)])],1)],1)],1),e._v(" "),i("VyDialogContainer",{staticClass:"take-picture-modal",attrs:{"title-element-id":"take-a-picture-dialog-title",visible:e.showTakePictureModal,"close-on-click-modal":e.enableClose,"close-on-press-escape":e.enableClose,size:"small"},on:{"update:visible":function(t){e.showTakePictureModal=t},close:e.stopVideoStream}},[i("span",{directives:[{name:"show",rawName:"v-show",value:false,expression:"false"}],attrs:{id:"take-a-picture-dialog-title"}},[e._v("\n      take a picture\n    ")]),e._v(" "),i("div",{staticClass:"picture-container"},[i("video",{ref:"thumbnailRecorder",attrs:{autoplay:"",muted:""},domProps:{muted:true}}),e._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:e.postCapture,expression:"postCapture"}],ref:"thumbnailCanvas"}),e._v(" "),i("div",{staticClass:"play-button-container"},[i("img",{staticClass:"play-button",attrs:{src:a("RSyv"),alt:"Play button preview"}})])]),e._v(" "),i("span",{staticClass:"dialog-footer"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.preCapture,expression:"preCapture"}],staticClass:"pre-capture vy-button-group"},[i("VyButton",{attrs:{"aria-label":"Cancel"},on:{click:e.closeTakenPictureModal}},[e._v("\n          Cancel\n        ")]),e._v(" "),i("VyButton",{ref:"takePictureBtn",attrs:{"aria-label":"Take Picture"},on:{click:e.startCountdown}},[i("VyIcon",{attrs:{name:"faCamera",type:"regular"},scopedSlots:e._u([{key:"icon",fn:function(){return undefined},proxy:true}])}),e._v("\n          Take picture\n        ")],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.midCapture,expression:"midCapture"}],staticClass:"mid-capture"},[e._v("\n        Taking your picture\n        "),e._v("\n        inÂ "),i("span",{attrs:{"aria-live":"assertive"}},[e._v(e._s(e.timeRemaining)+"...")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.postCapture,expression:"postCapture"}],staticClass:"post-capture vy-button-group"},[i("VyButton",{attrs:{"aria-label":"Cancel"},on:{click:e.closeTakenPictureModal}},[e._v("\n          Cancel\n        ")]),e._v(" "),i("VyButton",{ref:"selectPictureBtn",attrs:{"aria-label":"Select Picture",disabled:e.pictureSelecting,loading:e.pictureSelecting},on:{click:e.uploadTakenPicture}},[i("VyIcon",{attrs:{name:"faCheck"},scopedSlots:e._u([{key:"icon",fn:function(){return undefined},proxy:true}])}),e._v("\n          Select picture\n        ")],1),e._v(" "),i("VyButton",{attrs:{"aria-label":"Retake Picture"},on:{click:e.startCountdown}},[i("VyIcon",{attrs:{name:e.faRetweet},scopedSlots:e._u([{key:"icon",fn:function(){return undefined},proxy:true}])}),e._v("\n          Retake picture\n        ")],1)],1)])]),e._v(" "),i("VyDialog",{staticClass:"unblock-camera-modal",attrs:{title:"How to unblock the camera",visible:e.showUnblockCameraModal,size:"tiny","show-close":false},on:{"update:visible":function(t){e.showUnblockCameraModal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[i("VyButton",{attrs:{type:"primary","aria-label":"Got it"},on:{click:function(t){e.showUnblockCameraModal=false}}},[e._v("\n        Got it\n      ")])]},proxy:true}])},[i("img",{attrs:{src:a("JTQq"),alt:"Open the camera permission settings in Chrome by clicking the camera icon to the right of the address bar. Select the first option, â€œAlways allow Chrome Extension to access your camera,â€ to allow the Vidyard Chrome extension to use your camera."}})]),e._v(" "),i("VyDialog",{staticClass:"no-camera-detected-modal",attrs:{title:"No camera detected",visible:e.showNoCameraDetectedModal,size:"tiny","show-close":false,"aria-label":"Unable to detect your camera. Please check your system settings."},on:{"update:visible":function(t){e.showNoCameraDetectedModal=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[i("VyButton",{attrs:{type:"primary","aria-label":"Got it"},on:{click:function(t){e.showNoCameraDetectedModal=false}}},[e._v("\n        Got it\n      ")])]},proxy:true}])},[i("img",{attrs:{src:a("h9iz"),alt:"Camera icon with a slash across it noting it is off or disabled."}}),e._v(" "),i("span",[e._v("Unable to detect your camera."),i("br"),e._v("Please check your system settings.")])])],1)};var os=[];rs._withStripped=true;var ls=a("xk4V");var ds=a.n(ls);var cs=a("GlSN");var us=a("RaLr");var ps={name:"TakePicture",components:{VyButton:f["j"],VyDialog:f["r"],VyDialogContainer:f["s"],VyAspectRatio:f["e"],VyIcon:f["v"],Uploader:us["a"],VyTooltip:f["U"]},data(){return{captureState:0,showTakePictureModal:false,showUnblockCameraModal:false,showNoCameraDetectedModal:false,timeRemaining:0,pictureSelecting:false,uploading:false}},computed:{...I["c"].mapState(["organization"]),faRetweet:()=>cs["faRetweet"],preCapture(){return this.captureState===0},midCapture(){return this.captureState===1},postCapture(){return this.captureState===2},enableClose(){return this.captureState!==1}},methods:{...I["c"].mapActions(["sendHeapEvent"]),...v["b"].mapActions(["uploadThumbnail","uploadThumbnailBlob"]),closeTakenPictureModal(){this.showTakePictureModal=false;this.pictureSelecting=false},startCameraStream(){this.closeTakenPictureModal();this.captureState=0;const e={audio:false,video:{width:1280,height:720}};navigator.mediaDevices.getUserMedia(e).then((e=>{this.showTakePictureModal=true;this.$nextTick((()=>{this.$refs.thumbnailRecorder.srcObject=e;this.$nextTick((()=>{this.$refs.takePictureBtn.$el.focus()}))}))})).catch((e=>{this.closeTakenPictureModal();if(e.name==="NotAllowedError"){this.showUnblockCameraModal=true}else{this.showNoCameraDetectedModal=true}}))},startCountdown(){this.captureState=1;this.timeRemaining=3;const e=setInterval((()=>{this.timeRemaining-=1;if(this.timeRemaining<=0){clearInterval(e);this.takePicture()}}),1e3)},takePicture(){this.captureState=2;const e=this.$refs.thumbnailCanvas;const t=this.$refs.thumbnailRecorder;const{width:a,height:i}=t.getBoundingClientRect();e.width=a;e.height=i;e.getContext("2d").drawImage(t,0,0,e.width,e.height);this.$nextTick((()=>{this.$refs.selectPictureBtn.$el.focus()}))},stopVideoStream(){const e=this.$refs.thumbnailRecorder.srcObject.getVideoTracks();if(e&&e[0]){e[0].stop()}this.closeTakenPictureModal()},uploadTakenPicture(){this.pictureSelecting=true;this.sendHeapEvent({eventName:"thumbnail.take-a-picture"});this.$refs.thumbnailCanvas.toBlob((e=>{const t="".concat(ds()(),".jpeg");const a=new File([e],t);this.$refs.uploader.uppy.addFile({name:t,data:a,type:"image/jpeg"})}),"image/jpeg")},async handleUploadSuccess(e){this.closeTakenPictureModal();await this.uploadThumbnail(e)}}};var hs=ps;var vs=a("rhxp");var ms=Object(S["a"])(hs,rs,os,false,null,"3d077dca",null);if(false){var fs}ms.options.__file="app/assets/components/video_edit_page/video/TakePicture.vue";var bs=ms.exports;var gs={name:"ThumbnailCard",components:{VyButton:f["j"],VyCard:f["k"],VyIcon:f["v"],Thumbnail:ns,TakePicture:bs},props:{isPersonalized:{type:Boolean,default:false}},data(){return{faImage:Ki["faImage"]}},computed:{...Ne["b"].mapGetters(["isAudio","videoReady"]),...l["b"].mapGetters(["playerApiLoaded"]),...v["b"].mapState(["thumbnailLibrary"]),...v["b"].mapGetters(["staticThumbnail","animatedThumbnail","customThumbnail","isPlaceholderThumbnail"])},methods:{...h["b"].mapActions(["showPlayerDrawer"]),blankIfPlaceholder(e){return this.isPlaceholderThumbnail(e)?undefined:e}}};var ys=gs;var _s=a("XCHH");var ws=Object(S["a"])(ys,Ji,Zi,false,null,"cb931b86",null);if(false){var xs}ws.options.__file="app/assets/components/video_edit_page/video/thumbnail-card.vue";var Ss=ws.exports;var ks=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{attrs:{"data-testid":"description-tags-card"}},[e.hasFeature("sharing_page_seo")?a("VyCard",[a("Description",{attrs:{"text-area-description":"Tell viewers what your video is about. The description will also appear in search engine results if access settings has been set to public."}})],1):a("VyCollapse",{attrs:{open:e.isOpen,type:"card",title:e.title},on:{"update:open":function(t){e.isOpen=t},click:e.toggle}},[a("div",{staticClass:"collapse-body"},[a("Description"),e._v(" "),a("div",{staticClass:"subsection"},[a("div",{staticClass:"tags-header"},[e._v("\n          Tags\n        ")]),e._v(" "),a("VyTagBox",{attrs:{label:"Add Tag","tag-max-length":100},on:{add:e.addTagWrapper,remove:e.removeTagWrapper},model:{value:e.tagNames,callback:function(t){e.tagNames=t},expression:"tagNames"}})],1),e._v(" "),e.showNotes?a("div",{staticClass:"subsection"},[a("VyTextArea",{attrs:{label:"Internal Notes",description:"These notes will only be seen by people that have access to edit this video.","aria-label":"Edit Internal Notes","max-length":5e3,rows:2},on:{blur:e.editNotes,submit:function(t){t.preventDefault();return e.editNotes(t)}},model:{value:e.notes,callback:function(t){e.notes=t},expression:"notes"}})],1):e._e()],1)])],1)};var Cs=[];ks._withStripped=true;var Ps=a("4Brf");var Ts=a("am1o");var Vs=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyTextArea",{attrs:{label:"Description","aria-label":"Edit Description","max-length":5e3,rows:2,description:e.textAreaDescription},on:{blur:e.editDescription,submit:function(t){t.preventDefault();return e.editDescription(t)}},model:{value:e.localDescription,callback:function(t){e.localDescription=t},expression:"localDescription"}})};var As=[];Vs._withStripped=true;var Es={name:"Description",components:{VyTextArea:f["S"]},props:{textAreaDescription:{type:String,default:""}},data(){return{localDescription:""}},computed:{...Ne["b"].mapGetters(["videoDescription"]),...l["b"].mapState({playerId:e=>e.id,playerDescription:e=>e.description})},mounted(){if(this.playerDescription&&this.playerDescription.trim()!==""){this.localDescription=this.playerDescription}else if(this.videoDescription&&this.videoDescription.trim()!==""){this.localDescription=this.videoDescription}},methods:{...l["b"].mapActions(["updateDescription"]),...I["c"].mapActions(["sendHeapEvent"]),async editDescription(){if(this.playerDescription===this.localDescription)return;await this.updateDescription(this.localDescription);this.sendHeapEvent({eventName:"Edited - Video/playlist description - custom"})}}};var Is=Es;var Ds=Object(S["a"])(Is,Vs,As,false,null,null,null);if(false){var Os}Ds.options.__file="app/assets/components/video_edit_page/video/description-tags-card/Description.vue";var Ls=Ds.exports;var Bs={name:"DescriptionAndTagsCard",components:{Description:Ls,VyCard:f["k"],VyCollapse:f["n"],VyTagBox:f["R"],VyTextArea:f["S"]},data(){return{notes:"",isOpen:false,tagNames:[]}},computed:{...Ts["b"].mapState(["tags"]),...d["c"].mapGetters(["hasFeature"]),...Ne["b"].mapGetters(["videoNotes","videoDescription"]),...l["b"].mapState({playerId:e=>e.id,playerDescription:e=>e.description,playerType:e=>e.playerType}),showNotes(){return this.hasFeature("video_notes")&&this.playerType!=="playlist"},title(){return this.showNotes?"Description, Tags and Internal Notes":"Description and Tags"}},async mounted(){const e=await this.loadTags();if(e){this.tagNames=this.tags.map((e=>e.name))}else{this.showError("Failed to load tags")}this.notes=this.videoNotes||"";if(!this.isOpen){this.isOpen=this.videoDescription||this.playerDescription||this.tagNames.length>0||this.notes}},methods:{...Ts["b"].mapActions(["loadTags","addTag","removeTag"]),...Ne["b"].mapActions(["updateVideo"]),toggle(){this.isOpen=!this.isOpen},showError(e){f["b"].show(new f["b"]("",{type:"error",title:e,icon:"exclamation-triangle"}))},async editNotes(){if(this.videoNotes===this.notes)return;await this.updateVideo({notes:this.notes})},async addTagWrapper(e){const t=await this.addTag(e);if(!t){this.showError("Failed to add tag ".concat(e));this.tagNames=this.tagNames.filter((t=>t!==e))}},async removeTagWrapper(e){const t=await this.removeTag(e);if(!t){this.showError("Failed to remove tag ".concat(e));this.tagNames.push(e)}}}};var Ms=Bs;var zs=a("QKaz");var Fs=Object(S["a"])(Ms,ks,Cs,false,null,"4f94f2e8",null);if(false){var Us}Fs.options.__file="app/assets/components/video_edit_page/video/description-tags-card/DescriptionAndTagsCard.vue";var Rs=Fs.exports;var js=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"access-settings-grid"},[a("VyCard",{staticClass:"access-settings",attrs:{heading:"Access",description:"Select who has access to your "+e.localPlayerType,"aria-label":"edit access settings","data-testid":"access-setting",icon:e.faLock}},[a("AccessSettingsModal",{attrs:{loading:e.loading,"location-redirect-to":"/organizations/"+e.organizationId+"/players/"+e.uuid+"/security","organization-id":e.organizationId,"player-type":e.localPlayerType,"player-uuid":e.uuid,"access-setting":e.accessSetting},on:{"remove-password":e.removePassword,"set-loading":e.setLoading,"set-access-setting":e.setAccessSetting,"after-failure":function(t){return e.$store.commit("errors/showFullPageError")}}})],1)],1)};var qs=[];js._withStripped=true;var Ns=a("nGvD");var $s=a("k7PI");var Hs=a("wlF1");var Ys={name:"AccessSettingsCard",components:{AccessSettingsModal:Hs["a"],VyCard:f["k"]},data(){return{faLock:Ns["faLock"]}},computed:{...u["b"].mapState(["accessSetting"]),...l["b"].mapState(["organizationId","id","uuid","playerType","isSecure","loading"]),...d["c"].mapGetters(["hasFeature"]),...c["b"].mapGetters(["hasPermission"]),localPlayerType(){return this.playerType.toLowerCase()!=="playlist"?"video":"playlist"}},methods:{...u["b"].mapMutations(["setPassword"]),...u["b"].mapMutations({storeSetAccessSetting:"setAccessSetting"}),...l["b"].mapMutations(["setLoading"]),...l["b"].mapActions(["getIsSecure"]),...I["c"].mapActions(["sendHeapEvent"]),removePassword(){this.getIsSecure();this.setPassword({})},setAccessSetting(e){if(e===$s["g"]){this.sendHeapEvent({eventName:"Growth - SEO Indexing has been enabled from share setting card"})}this.storeSetAccessSetting(e)}}};var Gs=Ys;var Ws=a("8+xA");var Js=Object(S["a"])(Gs,js,qs,false,null,"f48dcf8e",null);if(false){var Zs}Js.options.__file="app/assets/components/video_edit_page/video/access-settings-card/AccessSettingsCard.vue";var Ks=Js.exports;var Qs=a("hyQh");var Xs=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.alerts.length>0?a("div",e._l(e.alerts,(function(t){return a("VyAlert",{key:t.id,staticClass:"edit-player-alert",attrs:{type:t.type,title:t.title,"show-icon":""},on:{close:function(a){return e.dismissAlert(t.id)}},scopedSlots:e._u([t.action&&t.action.message?{key:"button",fn:function(){return[a("VyButton",{attrs:{"full-width":""},on:{click:function(a){return e.action(t)}}},[e._v("\n        "+e._s(t.action.message)+"\n      ")])]},proxy:true}:null],true)},[[e._v("\n      "+e._s(t.message)+"\n    ")]],2)})),1):e._e()};var en=[];Xs._withStripped=true;var tn={name:"EditPlayerAlerts",components:{VyAlert:f["d"],VyButton:f["j"]},computed:{...l["b"].mapState(["alerts"])},methods:{...l["b"].mapMutations(["dismissAlert"]),action(e){if(e.action.callback){e.action.callback(e.id)}window.location.href=e.action.location}}};var an=tn;var sn=a("D1Uf");var nn=Object(S["a"])(an,Xs,en,false,null,"6d52c18e",null);if(false){var rn}nn.options.__file="app/assets/components/video_edit_page/video/EditPlayerAlerts.vue";var on=nn.exports;var ln={name:"EditVideo",components:{VyGrid:f["u"],CaptionsCard:Pe,DescriptionAndTagsCard:Rs,EditPlayerName:Be,PlayerCard:Qa,AccessSettingsCard:Ks,SidebarSection:Xa["a"],ThumbnailCard:Ss,SocialSharing:Wi,NpsSurveyAlert:Qs["a"],EditPlayerAlerts:on,VideoSectionsCard:P},props:{npsSurveyId:{type:Number,default:0,required:false}},data(){return{tnpsQuestion:"Based on your most recent experience, how likely are you to recommend our product to a friend or colleague?"}},computed:{...l["b"].mapState(["editable","uuid","alerts"]),...l["b"].mapGetters(["isPersonalized"]),...d["c"].mapGetters(["hasFeature","getVariation"]),...c["b"].mapGetters(["hasPermission"]),...p["b"].mapGetters(["canAccessSocialSharing"]),...u["b"].mapState(["accessSetting"]),isSeoIndexable(){return this.accessSetting===$s["g"]}},created(){this.setup();this.loadThumbnailLibrary();this.loadCaptions()},methods:{...h["b"].mapActions(["setup"]),...v["b"].mapActions(["loadThumbnailLibrary"]),...m["b"].mapActions(["loadCaptions"])}};var dn=ln;var cn=a("ycUj");var un=Object(S["a"])(dn,r,o,false,null,"4063cd96",null);if(false){var pn}un.options.__file="app/assets/components/video_edit_page/video/EditVideo.vue";var hn=un.exports;var vn=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyGrid",[a("div",{staticClass:"edit-playlist"},[a("EditPlayerName"),e._v(" "),a("div",{staticClass:"edit-playlist__playlist-details"},[a("ReorderPlaylist",{key:"playlist-reorder-"+e.videos.length,attrs:{uuid:e.uuid,"can-reorder-videos":e.hasPermission("can_edit_players")},on:{reorder:e.reorderPlaylist,"remove-video":e.removeVideo}}),e._v(" "),a("PlayerCard",{ref:"playerCard",attrs:{"is-playlist":""}}),e._v(" "),e.hasFeature("video_description_and_tags")&&e.hasPermission("can_edit_players")?a("DescriptionAndTagsCard"):e._e()],1),e._v(" "),a("PlaylistSecurityCard",{key:"playlist-access",attrs:{"playlist-uuid":e.uuid}}),e._v(" "),e.hasFeature("events_library")&&e.loadedVideoFacadeUuids?a("PlaylistEventsCard",{key:"playlist-actions-"+e.videos.length,attrs:{videos:e.videos,"playlist-uuid":e.uuid}}):e._e(),e._v(" "),e.hasFeature("new_video_edit_page")&&e.hasPermission("can_edit_player_style_and_restrictions")?a("DesignSection"):e._e(),e._v(" "),e.hasFeature("domain_restriction")&&e.hasPermission("can_edit_player_style_and_restrictions")?a("PlaylistEmbedRestrictionsCard"):e._e(),e._v(" "),a("VyDialog",{attrs:{title:"Warning: this playlist will be deleted!",visible:e.dialogVisible,"close-on-click-modal":true,"close-on-press-escape":true,"show-close":true,modal:true,size:"small"},on:{"update:visible":function(t){e.dialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("VyButton",{on:{click:function(t){e.dialogVisible=false}}},[e._v("\n          Cancel\n        ")]),e._v(" "),a("VyButton",{attrs:{type:"primary"},on:{click:e.deletePlaylist}},[e._v("\n          Yes, remove video and delete playlist\n        ")])]},proxy:true}])},[a("p",[e._v("This is the last video in your playlist. Removing this video will also delete the playlist itself.")]),e._v(" "),a("p",[e._v("Are you sure you want to remove the video and delete the playlist?")])])],1)])};var mn=[];vn._withStripped=true;var fn=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{staticClass:"reorder-playlist",attrs:{heading:"Videos",description:e.cardDescription,"no-padding":""},nativeOn:{mouseenter:function(t){e.dragDisabled=true},mouseleave:function(t){e.dragDisabled=false}}},[e.showPlaylistLimitAlert?a("VyAlert",{attrs:{title:"50 Videos Playlist Limit",type:"warning","show-icon":"",closable:false}},[e._v("\n    Playlists are currently limited to 50 videos. If you need help managing your playlist, please contact our\n    "),a("a",{attrs:{href:"https://knowledge.vidyard.com/hc/en-us",rel:"noopener noreferrer",target:"_blank"}},[e._v("\n      Support\n    ")]),e._v("\n    team.\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"reorder-playlist__inner"},[e.vnodes.length>0?a("VyDragAndDrop",{attrs:{disabled:!e.canDrag,items:e.vnodes,"top-scroll-threshold":85},on:{"update:drag-item":e.handleUpdate}},[a("div",{staticClass:"drag-container",attrs:{slot:"container"},slot:"container"})]):a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:50,status:"success"}})],1),e._v(" "),a("VyCardButton",{directives:[{name:"show",rawName:"v-show",value:e.loadMore,expression:"loadMore"}],attrs:{slot:"content-footer"},on:{click:e.handleSeeAll},slot:"content-footer"},[e._v("\n    See All\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:false,expression:"false"}],ref:"previewContainer"})],1)};var bn=[];fn._withStripped=true;var gn=a("L2JU");var yn=a("Egzw");var _n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"reorder-playlist-item"},[a("VideoItem",{staticClass:"reorder-playlist-item__video",attrs:{name:e.video.name,"secondary-text":e.createdDate,"name-aria-label":"Edit video "+e.video.name,"menu-items":e.menuItems,"edit-url":e.editUrl},on:{click:e.handleClick,"title-click":e.handleClick}},[a("div",{staticClass:"reorder-playlist-item__prefix",class:{draggable:e.canDrag},attrs:{slot:"prefix"},on:{click:function(e){e.stopPropagation()},mouseenter:function(t){return e.$emit("drag",true)},mouseleave:function(t){return e.$emit("drag",false)}},slot:"prefix"},[a("span",{staticClass:"reorder-playlist-item__prefix__index"}),e._v(" "),a("VyIcon",{staticClass:"reorder-playlist-item__prefix__icon",attrs:{name:"faBars"}})],1),e._v(" "),a("Thumbnail",{attrs:{slot:"icon",thumbnails:e.video.thumbnails,length:e.video.length,name:e.video.name,"is-personalized":e.isPersonalized},on:{"preview-video":function(t){return e.$emit("preview-video",e.video)}},slot:"icon"})],1)],1)};var wn=[];_n._withStripped=true;var xn=a("5AiS");var Sn=a("wR3Q");var kn={components:{VideoItem:xn["a"],Thumbnail:Sn["a"],VyIcon:f["v"]},props:{video:{type:Object,required:true},canDrag:{type:Boolean,required:true},isPersonalized:{type:Boolean,default:false}},computed:{...Object(gn["g"])("vidyard",["organization"]),...Object(gn["e"])("permissions",["hasPermission"]),createdDate(){return Object(Ke["b"])(this.video.created)},menuItems(){const e=[];if(this.hasPermission("can_create_players")){e.push({text:"Remove",action:this.removeVideo})}return e},editUrl(){return"/organizations/".concat(this.video.organizationId,"/players/").concat(this.video.uuid,"?edit=true")}},methods:{handleClick(){window.location=this.editUrl},removeVideo(){this.$emit("remove-video",this.video.uuid)}}};var Cn=kn;var Pn=a("WAxf");var Tn=Object(S["a"])(Cn,_n,wn,false,null,"9906abc0",null);if(false){var Vn}Tn.options.__file="app/assets/components/video_edit_page/video/reorder-playlist-item.vue";var An=Tn.exports;var En=a("rDkq");var In=a("PL/0");var Dn={name:"ReorderPlaylist",components:{VyAlert:f["d"],VyCard:f["k"],VyDragAndDrop:f["t"],VySpinner:f["K"],VyCardButton:f["l"]},props:{uuid:{type:String,required:true},canReorderVideos:{type:Boolean,required:true}},data(){return{loadMore:false,videos:[],videoCount:0,vnodes:[],sortOrder:[],dragDisabled:false}},computed:{...Object(gn["g"])("vidyard",["organization","domains"]),...d["c"].mapGetters(["hasFeature"]),apiPath(){return"/api/v1/organizations/".concat(this.organization.id)},canDrag(){return this.canReorderVideos&&!this.dragDisabled},cardDescription(){const e=this.hasFeature("new_vidyard_experience")?", actions,":", events,";return"Playlist obtains thumbnails".concat(this.hasFeature("events_library")?e:""," and settings from the videos in it")},showPlaylistLimitAlert(){return this.videoCount>50}},async created(){const e=await this.fetchVideos(3);this.videos=e.data.videos;this.videoCount=e.data.summary.count;this.loadMore=this.videoCount>this.videos.length;this.sortOrder=this.videos.map((e=>e.uuid));this.vnodes=this.generateItems()},methods:{toggleDrag(e){this.dragDisabled=!e},generateItems(){return this.sortOrder.map((e=>{const{created_at:t,organization_id:a,seconds:i,name:s,origin:n}=this.videos.find((t=>t.uuid===e));return{canDrag:this.canDrag,video:{uuid:e,organizationId:a,created:new Date(t),thumbnails:["".concat(this.domains.play,"/").concat(e,".jpg?small=1")],length:i,name:s},isPersonalized:Object(yn["a"])({origin:n})}})).map((e=>({uuid:e.video.uuid,...this.$createElement("div",{},[this.$createElement(An,{props:e,attrs:{"data-testid":"video-".concat(e.video.uuid)},on:{drag:this.toggleDrag,"preview-video":this.preview,"remove-video":this.removeVideo}},[])])})))},fetchVideos(e){const t="".concat(this.apiPath,"/playlists/").concat(this.uuid,"/videos?per_page=").concat(e);return En["a"].get(t)},async handleUpdate(e,t){await this.postUpdate(e.uuid,t);this.$emit("reorder")},async postUpdate(e,t){const a="".concat(this.apiPath,"/playlists/").concat(this.uuid,"/videos/").concat(e);try{await En["a"].patch(a,{position:t})}catch{const e=new f["b"]("Could not update playlist order",{type:"error",icon:"exclamation-triangle"});f["b"].show(e)}},preview(e){Object(In["a"])({uuid:e.uuid,container:this.$refs.previewContainer,logger:this.$rollbar})},async handleSeeAll(){const e=this.vnodes.length;const t=await this.fetchVideos(50);this.videos=t.data.videos;this.loadMore=false;this.sortOrder=this.videos.map((e=>e.uuid));this.vnodes=this.generateItems();this.$nextTick((()=>{const t=Array.from(document.querySelectorAll(".container-generated .item"));const a=t[e];a.focus()}))},removeVideo(e){this.$emit("remove-video",e)}}};var On=Dn;var Ln=a("4ugL");var Bn=Object(S["a"])(On,fn,bn,false,null,"29185ad0",null);if(false){var Mn}Bn.options.__file="app/assets/components/video_edit_page/video/reorder-playlist.vue";var zn=Bn.exports;var Fn=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{attrs:{heading:"Actions",icon:e.faBullseyePointer,description:"See the timeline of videos and actions available for this playlist in chronological order","data-testid":"playlist-events-card"}},[e.eventsResponse!==undefined?a("span",{staticClass:"action-count"},[e._v("\n    "+e._s(e.eventCount)+"\n  ")]):a("Placeholder",{staticClass:"event-count-placeholder"}),e._v(" "),a("div",{staticClass:"video-list"},[e.defaultPreRoll||e.defaultEvents===undefined?a("div",{staticClass:"video-list__video pre-roll"},[e.defaultPreRoll?a("Event",e._b({attrs:{"overridden-events":e.overriddenEventsByVideo,"pre-roll":""}},"Event",e.defaultPreRoll.event,false),[e._v("\n        Default Pre-Roll\n      ")]):a("EventPlaceholder")],1):e._e(),e._v(" "),e._l(e.videos,(function(t,i){return a("div",{key:t.name+"-"+i,staticClass:"video-list__video",class:e.eventsByVideo[t.id].length===0&&"no-events"},[a("div",{staticClass:"video-list__video-item"},[a("div",{staticClass:"video-icon"},[a("CircledIcon",{attrs:{name:"faPlay",type:"regular"}})],1),e._v(" "),a("div",{staticClass:"video-name"},[e._v("\n          "+e._s(t.name)+"\n        ")])]),e._v(" "),e._l(e.eventsByVideo[t.id],(function(i){return a("Event",e._b({key:i.event.name,attrs:{"overridden-events":e.overriddenEventsByVideo,second:i.second,"video-uuid":t.uuid}},"Event",i.event,false))})),e._v(" "),e.eventsResponse===undefined?a("EventPlaceholder"):e._e()],2)})),e._v(" "),e.defaultPostRoll||e.defaultEvents===undefined?a("div",{staticClass:"video-list__video"},[e.defaultPostRoll?a("Event",e._b({attrs:{"overridden-events":e.overriddenEventsByVideo,"post-roll":""}},"Event",e.defaultPostRoll.event,false),[e._v("\n        Default Post-roll\n      ")]):a("EventPlaceholder")],1):e._e()],2)],1)};var Un=[];Fn._withStripped=true;var Rn=a("Pw/R");var jn=a("PF2z");var qn=a("+rx7");var Nn=a("NbmU");var $n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"video-list__event",class:e.$slots.default!==undefined&&"default-event"},[a("div",{staticClass:"event-icon"},[a("CircledIcon",{attrs:{type:"regular",theme:"green",name:e.faBullseyePointer}})],1),e._v(" "),a("div",{staticClass:"event-details"},[a("div",{staticClass:"event-details__left"},[a("div",{staticClass:"event-name"},[e._v("\n        "+e._s(e.name)+"\n      ")]),e._v(" "),a("div",{staticClass:"event-time"},[e._t("default",[e._v("\n          "+e._s(e.formatTime(e.second))+"\n        ")])],2)]),e._v(" "),a("div",{staticClass:"event-details__right"},[e.badgeText!==""?a("VyBadge",{staticClass:"event-badge",attrs:{text:e.badgeText}}):e._e(),e._v(" "),e.hasPermission("can_edit_players")?[e.isTeamDefault?a("VyOverflowMenu",{attrs:{"aria-label":"Edit this event","menu-items":e.teamDefaultActionMenuItems}}):a("VyOverflowMenu",{attrs:{"aria-label":"Edit this event","menu-items":[{text:"Edit"}]},on:{action:e.edit}})]:e._e()],2)])])};var Hn=[];$n._withStripped=true;const Yn=(e,t=1)=>e.toString().padStart(t,"0");const Gn=e=>{const t=new Date(e*1e3);const a=Yn(t.getUTCHours());const i=Yn(t.getUTCMinutes());const s=Yn(t.getUTCSeconds(),2);return a>0?"".concat(a,":").concat(i,":").concat(s):"".concat(i,":").concat(s)};var Wn={name:"PlaylistEvent",components:{VyOverflowMenu:f["B"],VyBadge:f["g"],CircledIcon:Nn["a"]},props:{name:{type:String,required:true},id:{type:Number,required:true},isShared:{type:Boolean,default:false},isTeamDefault:{type:Boolean,default:false},preRoll:{type:Boolean,default:false},postRoll:{type:Boolean,default:false},second:{type:Number,default:undefined},videoUuid:{type:String,required:true},overriddenEvents:{type:Array,required:true}},data:()=>({faBullseyePointer:Rn["faBullseyePointer"]}),computed:{...I["c"].mapState(["organization"]),...c["b"].mapGetters(["hasPermission"]),badgeText(){if(this.isTeamDefault){return"Team Default"}if(this.isShared){return"Team"}if(this.preRoll){return"Pre-roll"}if(this.postRoll){return"Post-roll"}return""},teamDefaultActionMenuItems(){return this.overriddenEvents.filter((e=>!e.overriddenIds.includes(this.id))).map((e=>({text:"Edit Actions",description:"for ".concat(e.videoName),href:"/organizations/".concat(this.organization.id,"/players/").concat(e.uuid,"/events")})))}},methods:{edit(){if(this.$slots.default&&!this.isTeamDefault){window.location="/organizations/".concat(this.organization.id,"/events/").concat(this.id)}else{window.location="/organizations/".concat(this.organization.id,"/players/").concat(this.videoUuid,"/events")}},formatTime:Gn}};var Jn=Wn;var Zn=a("/cjo");var Kn=Object(S["a"])(Jn,$n,Hn,false,null,"5028decb",null);if(false){var Qn}Kn.options.__file="app/assets/components/video_edit_page/video/playlist-event.vue";var Xn=Kn.exports;var er=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"playlist-event-placeholder"},[a("Placeholder",{staticClass:"icon"}),e._v(" "),a("Placeholder",{staticClass:"details"})],1)};var tr=[];er._withStripped=true;var ar=a("T5lZ");var ir={components:{Placeholder:ar["a"]}};var sr=ir;var nr=a("kECn");var rr=Object(S["a"])(sr,er,tr,false,null,"4590831e",null);if(false){var or}rr.options.__file="app/assets/components/video_edit_page/video/playlist-event-placeholder.vue";var lr=rr.exports;var dr=a("YEuB");var cr={name:"PlaylistEventsCard",components:{VyCard:f["k"],CircledIcon:Nn["a"],Event:Xn,EventPlaceholder:lr,Placeholder:ar["a"]},props:{videos:{type:Array,required:true},playlistUuid:{type:String,required:true}},data(){return{chaptersResponse:undefined,eventsResponse:undefined,overriddenEvents:undefined,defaultEvents:undefined,faBullseyePointer:Rn["faBullseyePointer"]}},computed:{...I["c"].mapState(["organization"]),disableDefaultPreRoll(){if(this.videos.length===0)return false;const e=this.eventsByVideo[this.videos[0].id];if(e.length===0)return false;return e[0].event.preRoll},disableDefaultPostRoll(){if(this.videos.length===0)return false;const e=this.eventsByVideo[this.videos[this.videos.length-1].id];if(e.length===0)return false;return e[e.length-1].event.postRoll},defaultPreRoll(){var e;if(this.disableDefaultPreRoll){return undefined}return(e=this.defaultEvents)===null||e===void 0?void 0:e.find((e=>e.second===0))},defaultPostRoll(){var e;if(this.disableDefaultPostRoll){return undefined}return(e=this.defaultEvents)===null||e===void 0?void 0:e.find((e=>{var t;return e.second===((t=this.findChapter(e.chapter_id))===null||t===void 0?void 0:t.length)}))},chapters(){return this.chaptersResponse!==undefined?this.chaptersResponse.map(((e,t)=>e.data.chapters.map((e=>({...e,videoId:this.videos[t].id}))))).reduce(((e,t)=>e.concat(t)),[]):{}},events(){return this.eventsResponse!==undefined?this.eventsResponse.map(((e,t)=>e.data.map((e=>({...e,event:{...e.event,isShared:e.event.is_shared,preRoll:e.second===0,postRoll:e.second===this.videos.find((e=>e.id===this.chapters[t].videoId)).length},chapterId:this.chapters[t].id,videoId:this.chapters[t].videoId}))))).reduce(((e,t)=>e.concat(t)),[]):[]},eventCount(){const e=this.defaultPreRoll?1:0;const t=this.defaultPostRoll?1:0;const a=this.events.length+e+t;return a!==1?"".concat(a," Actions"):"".concat(a," Action")},eventsByVideo(){const e={};this.videos.forEach((t=>{e[t.id]=this.events.filter((e=>e.videoId===t.id))}));return e},overriddenEventsByVideo(){var e;return(e=this.overriddenEvents)===null||e===void 0?void 0:e.map((e=>{const t=this.videos.find((t=>t.uuid===e.playerUuid));return{uuid:t.uuid,videoName:t.name,overriddenIds:e.events}}))}},watch:{videos:{immediate:true,async handler(){this.chaptersResponse=await Promise.all(this.videos.map((e=>Object(En["a"])("/api/v1/videos/".concat(e.id,"/chapters")))))}},async chapters(){this.eventsResponse=await Promise.all(this.chapters.map((e=>Object(En["a"])("/api/v1/chapters/".concat(e.id,"/events")))))}},created(){this.fetchDefaultActions();this.fetchOverriddenEvents()},methods:{...jn["b"].mapActions(["sendApiRequest"]),async fetchDefaultActions(){const e=dr["a"].indexByPlayerUuid(this.organization.id,this.playlistUuid);const{data:t,status:a}=await this.sendApiRequest(e);if(a>=400){this.defaultEvents=[];return this.showErrorToast("Failed to retrieve default actions for playlist")}this.defaultEvents=this.mapToEventItems(t.ctas)},async fetchOverriddenEvents(){const e=await Promise.all(this.videos.map((e=>this.sendApiRequest(qn["a"].overriddenEventsByPlayer(this.organization.id,e.uuid)))));this.overriddenEvents=e.map((e=>e.data))},mapToEventItems(e){return e.map((e=>({...e,event:{name:e.name,id:e.id,isShared:e.is_shared,isTeamDefault:e.is_shared||false,videoUuid:""}})))},fetchVideos(){const e="/api/v1/organizations/".concat(this.organization.id);const t="".concat(e,"/playlists/").concat(this.uuid,"/videos");return En["a"].get(t)},edit(e){window.location="/organizations/".concat(this.organization.id,"/events/").concat(e)},findChapter(e){return this.videos.find((t=>t.chapterId===e))},showErrorToast(e){f["b"].show(new f["b"](e,{type:"error",icon:"exclamation-triangle"}))}}};var ur=cr;var pr=a("92Ci");var hr=Object(S["a"])(ur,Fn,Un,false,null,"631573b5",null);if(false){var vr}hr.options.__file="app/assets/components/video_edit_page/video/playlist-events-card.vue";var mr=hr.exports;var fr=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{attrs:{"data-testid":"playlist-security-card"}},[a("VyCard",{attrs:{heading:"Access",icon:e.faLock,description:"Who can see this playlist"}}),e._v(" "),a("VyCollapse",{staticClass:"security-card__panel",attrs:{title:e.primarySecurityOption.name,"start-collapsed":"",type:"card"}},[a("CircledIcon",{staticClass:"current-option-icon",attrs:{slot:"icon",name:e.primarySecurityOption.icon,theme:"grey"},slot:"icon"}),e._v(" "),e.showVideoCards?a("div",{staticClass:"security-card__panel-content"},[a("p",{staticClass:"security-card__sub-description"},[e._v("\n        "+e._s(e.playlistCardMessages.securityApplied)+"\n      ")]),e._v(" "),e._l(e.securityCardData,(function(t,i){return a("PlaylistSecurityItem",{key:t.uuid+"-"+i,attrs:{"security-type":e.getSettingSecurityType(t),"is-primary-secure":e.isPrimarySecure(t),"security-setting":t}})}))],2):a("div",{staticClass:"security-card__panel-content"},[a("p",{staticClass:"security-card__empty-sub-description"},[e._v("\n        "+e._s(e.playlistCardMessages.securityNotApplied)+"\n      ")])])],1)],1)};var br=[];fr._withStripped=true;var gr=a("UEbN");var yr=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyCard",{staticClass:"security-card",class:{"primary-video":e.isPrimarySecure}},[a("div",{staticClass:"wrapper-left"},[a("CircledIcon",{staticClass:"video-security-icon",attrs:{name:e.securityOption.icon,theme:"grey"}}),e._v(" "),a("div",{staticClass:"text"},[a("div",{staticClass:"title"},[e._v("\n        "+e._s(e.securityOption.name)+"\n      ")]),e._v(" "),a("span",[e._v("From "+e._s(e.securitySetting.cardDescription))])])],1),e._v(" "),a("div",{staticClass:"wrapper-right"},[a("VyBadge",e._b({attrs:{placement:"bottom"}},"VyBadge",e.badgeProps,false)),e._v(" "),a("VyOverflowMenu",{staticClass:"video-security-menu",attrs:{"aria-label":"More options","menu-items":e.menuItems},on:{action:e.handleOverflowMenuAction}})],1)])};var _r=[];yr._withStripped=true;var wr=a("s3lq");const xr={text:"Not Applied",tooltipText:"This option is not applied to this playlist because there are higher access settings available."};const Sr={text:"Video Access",tooltipText:"To change access, it must be changed for this video."};const kr={text:"From Video",tooltipText:"To change setting, it must be changed for this video."};const Cr={text:"Folder Access",tooltipText:"To change or override folder access, it must be changed for every video within this playlist OR within folder settings."};var Pr={name:"PlaylistSecurityItem",components:{CircledIcon:Nn["a"],VyCard:f["k"],VyOverflowMenu:f["B"],VyBadge:f["g"]},props:{securitySetting:{type:Object,default:()=>{}},securityType:{type:String,default:null},isPrimarySecure:{type:Boolean,default:false}},computed:{badgeProps(){if(this.securityType===$s["g"]){return kr}if(!this.isPrimarySecure){return xr}const e=this.securityType===$s["a"]||this.securityType===$s["c"]||this.securityType===$s["d"];if(e&&this.folderSecurityType!==wr["NONE"]){return Cr}return Sr},securityOption(){switch(this.securityType){case $s["e"]:return gr["b"].anyone;case $s["f"]:return gr["b"].password;case $s["g"]:return gr["b"].public;case $s["c"]:return gr["b"].ipWhitelist;case $s["d"]:return gr["b"].ipWhitelistAndPassword;case $s["h"]:return gr["b"].securePlatform;default:return undefined}},folderSecurityType(){return this.securitySetting.folder.securityConfig.type},folderName(){return this.securitySetting.folder.name},folderId(){return this.securitySetting.folder.id},folderVideos(){return this.securitySetting.folderVideos},menuItems(){if(this.badgeProps===xr){return[{text:Sr.text}]}if(this.badgeProps!==Cr){return[{text:this.badgeProps.text}]}const e=[{text:Cr.text,description:"From ".concat(this.trimDescription(this.folderName))}];this.folderVideos.forEach((t=>{e.push({text:Sr.text,description:"From ".concat(this.trimDescription(t.videoName))})}));return e}},methods:{trimDescription(e){return e.length>50?"".concat(e.substr(0,47),"..."):e},handleOverflowMenuAction(e){if(this.badgeProps===kr){window.location="/organizations/".concat(this.folderId,"/players/").concat(this.securitySetting.uuid,"?edit=true#access-settings");return}if(this.badgeProps!==Cr){window.location="/organizations/".concat(this.folderId,"/players/").concat(this.securitySetting.uuid,"/security?edit=true");return}if(e===0){window.location="/organizations/".concat(this.folderId,"/settings/security")}else{window.location="/organizations/".concat(this.folderId,"/players/").concat(this.folderVideos[e-1].uuid,"/security?edit=true")}}}};var Tr=Pr;var Vr=a("2lOU");var Ar=Object(S["a"])(Tr,yr,_r,false,null,"3bdee49e",null);if(false){var Er}Ar.options.__file="app/assets/components/video_edit_page/video/playlist-security-item.vue";var Ir=Ar.exports;var Dr={name:"PlaylistSecurityCard",components:{CircledIcon:Nn["a"],PlaylistSecurityItem:Ir,VyCard:f["k"],VyCollapse:f["n"]},data(){return{faLock:Ns["faLock"]}},computed:{...u["b"].mapState(["playlistVideos"]),playlistCardMessages:()=>gr["a"],primarySecurityOption(){if(this.securityVideoMap[$s["h"]].length>0){return gr["b"].securePlatform}if(this.securityVideoMap[$s["c"]].length>0&&this.securityVideoMap[$s["f"]].length>0){return gr["b"].ipWhitelistAndPassword}if(this.securityVideoMap[$s["c"]].length>0){return gr["b"].ipWhitelist}if(this.securityVideoMap[$s["f"]].length>0){return gr["b"].password}if(this.securityVideoMap[$s["g"]].length>0){return gr["b"].public}return gr["b"].anyone},primarySecureVideosMap(){const e={};if(this.securityVideoMap[$s["h"]].length>0){this.securityVideoMap[$s["h"]].forEach((t=>{e[t]=e[t]||[];e[t].push($s["h"])}))}else{this.securityVideoMap[$s["c"]].forEach((t=>{e[t]=e[t]||[];e[t].push($s["c"])}));if(this.securityVideoMap[$s["f"]].length>0){const t=this.securityVideoMap[$s["f"]][0];e[t]=e[t]||[];e[t].push($s["f"])}}return e},primarySecureVideos(){return Object.keys(this.primarySecureVideosMap)},securityCardData(){let e=this.splitPasswordIpSecuredCards(this.playlistVideos);e.sort(((e,t)=>{if(this.isPrimarySecure(e)===this.isPrimarySecure(t)){return e.videoName<t.videoName?-1:1}return this.isPrimarySecure(e)?-1:1}));const t=this.getFolderSecuredCardData(this.getFolderSecuredVideoMap(e));const a=e.filter((e=>!this.isSecuredAtFolder(e)));e=[...t,...a];return e},showVideoCards(){return this.primarySecurityOption!==gr["b"].anyone},securityVideoMap(){const e={};e[$s["h"]]=[];e[$s["c"]]=[];e[$s["f"]]=[];e[$s["g"]]=[];this.playlistVideos.forEach((t=>{const a=this.getSettingSecurityType(t);if(a===$s["d"]){e[$s["c"]].push(t.uuid);e[$s["f"]].push(t.uuid)}else if(a!==$s["e"]){e[a].push(t.uuid)}}));return e}},methods:{getSettingSecurityType(e){if(e.accessSetting===$s["a"]){return Object($s["i"])(e.folder.securityConfig.type)}return e.accessSetting},isPrimarySecure(e){if(e.folderVideos!==undefined){return true}if(this.primarySecureVideos.includes(e.uuid)){const t=this.getSettingSecurityType(e);return this.primarySecureVideosMap[e.uuid].includes(t)}return false},isSecuredAtFolder(e){return this.isPrimarySecure(e)&&(e.accessSetting===$s["a"]||e.accessSetting===$s["c"]||e.accessSetting===$s["d"])&&e.folder.securityConfig.type!==wr["NONE"]&&!e.password},getFolderSecuredVideoMap(e){const t={};e.filter((e=>this.isSecuredAtFolder(e))).forEach((e=>{const a=e.folder.id;t[a]=t[a]||[];t[a].push(e)}));return t},getFolderSecuredCardData(e){const t=[];Object.keys(e).forEach((a=>{const i=e[a];const s=e[a].length;const n=e[a][0]||{};const r=n.folder.name;t.push({...n,videoName:undefined,cardDescription:"".concat(r," and ").concat(s," videos"),folderVideos:i,uuid:"folder"})}));return t},splitPasswordIpSecuredCards(e){const t=[];e.forEach((e=>{const a={...e,cardDescription:e.videoName};if(this.getSettingSecurityType(e)===$s["d"]){t.push({...a,accessSetting:$s["f"],whitelistedIps:false},{...a,accessSetting:$s["c"],password:false})}else{t.push(a)}}));return t}}};var Or=Dr;var Lr=a("jhP8");var Br=Object(S["a"])(Or,fr,br,false,null,"c93971a4",null);if(false){var Mr}Br.options.__file="app/assets/components/video_edit_page/video/playlist-security-card.vue";var zr=Br.exports;var Fr=a("Ompf");var Ur=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"playlist-embed-restrictions-wrapper",attrs:{"data-testid":"playlist-embed-restrictions-card"}},[a("VyCard",{attrs:{heading:"Embed Restrictions",description:"Limit embeds of videos in this playlist to specific domains","no-padding":""}}),e._v(" "),e.failed?a("VyAlert",{attrs:{description:"An unexpected error occurred while loading embed restrictions. Please try refreshing the page.",type:"error",closable:false,"show-icon":""}}):a("VyCollapse",{attrs:{title:e.title,type:"card","start-collapsed":""}},[a("div",{staticClass:"domain-sources-wrapper"},[a("span",[e._v("This playlist inherits permitted embed domains from the videos within. Duplicate domains will only be counted once.")]),e._v(" "),e.noEmbedRestrictions?a("p",{staticClass:"no-domains-applied"},[e._v("\n        No domain restrictions applied.\n      ")]):a("div",e._l(e.playlistVideos,(function(e){return a("PlaylistEmbedRestrictionsSource",{key:e.id,staticClass:"domain-source-card",attrs:{"video-id":e.video_id,"folder-id":e.video_attributes.organization_id,name:e.video_attributes.name}})})),1),e._v(" "),e.anyDomainsSourcesLoading?a("div",{staticClass:"domains-loading-spinner"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:50}})],1):e._e()])])],1)};var Rr=[];Ur._withStripped=true;var jr=a("/XQW");var qr=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.loading&&e.domains.length>0?a("VyCard",[a("div",{staticClass:"header"},[a("div",[a("div",{staticClass:"title"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),a("span",{staticClass:"source-name"},[e._v("\n        from "+e._s(e.name)+"\n      ")])]),e._v(" "),a("div",{staticClass:"header-right"},[a("VyBadge",{attrs:{text:"Video Embed Restrictions","tooltip-text":"To change embed restrictions, they must be changed for this video."}}),e._v(" "),a("VyOverflowMenu",{attrs:{"aria-label":"More options","menu-items":e.menuActions}})],1)]),e._v(" "),e._l(e.domains,(function(e){return a("VyTag",{key:e.id,staticClass:"domain",attrs:{name:e.url}})}))],2):e._e()};var Nr=[];qr._withStripped=true;var $r={name:"PlaylistEmbedRestrictionsSource",components:{VyCard:f["k"],VyBadge:f["g"],VyOverflowMenu:f["B"],VyTag:f["Q"]},props:{videoId:{type:Number,required:true},folderId:{type:Number,required:true},name:{type:String,required:true}},computed:{...l["b"].mapGetters(["videoFacadeUuid"]),...jr["b"].mapGetters(["domainsFromSource","domainsSourceLoading"]),uuid(){return this.videoFacadeUuid(this.videoId)},domains(){return this.domainsFromSource(this.videoId)},loading(){return this.domainsSourceLoading(this.videoId)},title(){if(this.loading){return""}return"".concat(this.domains.length," Domain URL").concat(this.domains.length===1?"":"s")},menuActions(){return[{text:"Video Settings",href:"/organizations/".concat(this.folderId,"/players/").concat(this.uuid,"/settings?edit=true#embed-restrictions")}]}}};var Hr=$r;var Yr=a("d1Kd");var Gr=Object(S["a"])(Hr,qr,Nr,false,null,"2983ea34",null);if(false){var Wr}Gr.options.__file="app/assets/components/video_edit_page/video/playlist-embed-restrictions/PlaylistEmbedRestrictionsSource.vue";var Jr=Gr.exports;var Zr={name:"PlaylistEmbedRestrictionsCard",components:{VyCard:f["k"],VyCollapse:f["n"],VyAlert:f["d"],VySpinner:f["K"],PlaylistEmbedRestrictionsSource:Jr},computed:{...l["b"].mapState(["playlistVideos"]),...l["b"].mapGetters(["loadedVideoFacadeUuids"]),...jr["b"].mapState(["embedRestrictions","embedRestrictionsLoading","failed"]),...jr["b"].mapGetters(["anyDomainsSourcesLoading"]),title(){if(this.embedRestrictionsLoading){return"Loading Unique Domain URLs"}return"".concat(this.embedRestrictions.length," Unique Domain URL").concat(this.embedRestrictions.length===1?"":"s")},noEmbedRestrictions(){return!this.embedRestrictionsLoading&&this.embedRestrictions.length===0}},watch:{playlistVideos(){this.setup()},loadedVideoFacadeUuids(){this.setup()}},created(){this.setup()},methods:{...jr["b"].mapActions({setupEmbedRestrictions:"setup"}),async setup(){if(this.loadedVideoFacadeUuids){await this.setupEmbedRestrictions()}}}};var Kr=Zr;var Qr=a("aDdx");var Xr=Object(S["a"])(Kr,Ur,Rr,false,null,"5aa8c6e9",null);if(false){var eo}Xr.options.__file="app/assets/components/video_edit_page/video/playlist-embed-restrictions/PlaylistEmbedRestrictionsCard.vue";var to=Xr.exports;var ao={name:"EditPlaylist",components:{EditPlayerName:Be,PlayerCard:Qa,ReorderPlaylist:zn,DescriptionAndTagsCard:Rs,PlaylistEventsCard:mr,VyGrid:f["u"],VyDialog:f["r"],VyButton:f["j"],DesignSection:Fr["a"],PlaylistSecurityCard:zr,PlaylistEmbedRestrictionsCard:to},data(){return{dialogVisible:false}},computed:{...l["b"].mapState(["uuid","organizationId","playlistVideos","videoFacadeUuids"]),...l["b"].mapGetters(["videoFacadeUuid","loadedVideoFacadeUuids"]),...d["c"].mapGetters(["hasFeature"]),...c["b"].mapGetters(["hasPermission"]),videos(){return this.playlistVideos.map((e=>({id:e.video_id,name:e.video_attributes.name,length:e.video_attributes.seconds,chapterId:e.id,uuid:this.videoFacadeUuid(e.video_id)})))}},created(){this.setup()},methods:{...l["b"].mapActions(["deleteChapter","deleteVideo"]),...v["b"].mapActions(["loadSelectedThumbnail"]),...h["b"].mapActions(["setup"]),removeVideo(e){if(this.videos.length===1){this.dialogVisible=true}else{this.deleteChapter(this.videos.find((t=>t.uuid===e)).chapterId)}},deletePlaylist(){this.dialogVisible=false;this.deleteVideo()},reorderPlaylist(){this.$refs.playerCard.reloadVideo();this.loadSelectedThumbnail()}}};var io=ao;var so=a("g20b");var no=Object(S["a"])(io,vn,mn,false,null,"a3df8ef0",null);if(false){var ro}no.options.__file="app/assets/components/video_edit_page/video/EditPlaylist.vue";var oo=no.exports;var lo=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("AccordionSidebar",{attrs:{sections:e.sections},scopedSlots:e._u([{key:"custom",fn:function(){return[a("div",{staticClass:"share-header"},[e._v("\n      Share\n      "),a("VyButton",{attrs:{"aria-label":"Close sidebar"},on:{click:e.toggleSidebar}},[a("VyIcon",{attrs:{slot:"icon",name:"faTimes"},slot:"icon"})],1)],1),e._v(" "),a("div",{staticClass:"mailer-slideout-wrapper",class:{"mailer-slideout-hidden":!e.mailerSlideoutShowing},attrs:{"aria-hidden":!e.mailerSlideoutShowing}},[a("div",{staticClass:"mailer-slideout-content"},[a("FocusLock",{attrs:{disabled:!e.mailerSlideoutShowing}},[a("MailerSlideout",{attrs:{"sidebar-showing":!e.hidden,provider:e.provider,"access-token":e.accessToken,"slideout-showing":e.mailerSlideoutShowing},on:{"toggle-slideout":e.toggleMailerSlideout,"toggle-sidebar":e.toggleSidebar,"get-auth-info":e.saveAuthInfo,"clear-auth-info":e.clearAuthInfo}})],1)],1)])]},proxy:true},{key:"content-email",fn:function(){return[a("div",{attrs:{id:"mailer-wrapper"}},[a("Mailer",{attrs:{"thumbnail-url":e.selectedThumbnailEmailUrl,"embed-link":e.embedCodes.sharing_page||"",provider:e.provider,"from-name":e.fromName,"email-address":e.emailAddress,"access-token":e.accessToken,"player-uuid":e.uuid},on:{"toggle-slideout":e.toggleMailerSlideout,"clear-auth-info":e.clearAuthInfo,"update-guided-checklist":e.updateGuidedChecklist}})],1)]},proxy:true},{key:"content-social",fn:function(){return[a("SocialOptions",{attrs:{"share-link":e.embedCodes.sharing_page||"","show-header":false,location:"Sharing Sidebar","player-uuid":e.uuid},on:{"update-guided-checklist":e.updateGuidedChecklist}})]},proxy:true},!e.showExtraEmbedOptions?{key:"content-embed",fn:function(){return[a("BasicEmbed",{attrs:{id:"embed-section","embed-enabled":e.embedEnabled,"embed-code-responsive-inline":e.embedCode||"","player-uuid":e.uuid,"embeds-allotment":e.embedsAllotment,loading:!e.embedCodesReady||!e.embedsAllotmentReady},on:{"embed-toggle:finish":e.handleEmbedToggle,"update-guided-checklist":e.updateGuidedChecklist}})]},proxy:true}:null,e.showExtraEmbedOptions?{key:"content-webpage-embed",fn:function(){return[a("WebpageEmbed",{attrs:{id:"webpage-embed-section","embeds-allotment":e.embedsAllotment},on:{"embed-toggle:finish":e.handleEmbedToggle,"update-guided-checklist":e.updateGuidedChecklist}})]},proxy:true}:null,e.showExtraEmbedOptions?{key:"content-email-embed",fn:function(){return[a("EmailEmbed",{attrs:{id:"email-embed-section"}})]},proxy:true}:null],true)})};var co=[];lo._withStripped=true;var uo=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.thumbnailUrl&&e.embedLink?a("div",{staticClass:"mailer"},[e.errorMessage?a("VyAlert",{staticClass:"error-alert",attrs:{type:"error","data-testid":"mailer-error-alert",closable:false,"show-icon":""}},[a("p",{staticClass:"error-message"},[e._v("\n      "+e._s(e.errorMessage)+"\n    ")])]):e._e(),e._v(" "),a("div",{staticClass:"mailer-description"},[e._v("\n    Send your video in an email. Get notified when your recipients watch.\n  ")]),e._v(" "),a("div",{attrs:{id:"from-wrapper"}},[a("div",{staticClass:"from-address-box"},[!e.authenticated?a("div",{staticClass:"connect-account"},[a("a",{staticClass:"connect-account",attrs:{"data-testid":"email-connect",href:"#"},on:{click:function(t){return e.toggleSlideout()}}},[e._v("\n          Connect an email account\n          "),a("VyIcon",{staticClass:"connect-arrow",attrs:{"aria-hidden":"true",name:"faChevronRight"}})],1)]):a("div",{staticClass:"from-connected"},[a("div",{attrs:{id:"from-address"}},[a("span",{staticClass:"from-label"},[e._v("\n            From:\n          ")]),e._v("\n          "+e._s(e.emailAddress)+"\n        ")]),e._v(" "),a("a",{class:["edit-link",{"edit-link-disabled":e.sending}],attrs:{"aria-label":"Edit email to send from",href:"#","data-testid":"email-account-edit"},on:{click:function(t){return e.toggleSlideout()}}},[e._v("\n          Edit\n        ")])])])]),e._v(" "),a("div",{staticClass:"recipients-wrapper"},[a("label",{attrs:{for:"recipients-box"}},[e._v("\n      To:\n    ")]),e._v(" "),a("RecipientsBox",{attrs:{id:"recipients-box",disabled:e.sending,recipients:e.recipients,"data-testid":"email-to"},on:{"add-emails":e.addRecipients,"remove-email":e.removeRecipientByEmail,"remove-last-email":e.removeLastRecipient}})],1),e._v(" "),e.invalidRecipientMessage?a("div",{staticClass:"validation-error"},[e._v("\n    "+e._s(e.invalidRecipientMessage)+"\n  ")]):e._e(),e._v(" "),a("VyInputV2",{attrs:{label:"Subject:",inline:"","data-testid":"email-subject",disabled:e.sending},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}}),e._v(" "),a("div",{staticClass:"body-wrapper"},[a("WysiwygEditor",{staticClass:"rich-editor",attrs:{"data-testid":"email-body",role:"textbox","aria-multiline":"true","aria-label":"Email body","embed-link":e.embedLink,"thumbnail-url":e.thumbnailUrl,sending:e.sending,sent:e.sent},on:{"email-content-ready":e.sendEmail}})],1),e._v(" "),a("div",{attrs:{id:"additional-buttons-wrapper"}},[a("VyButton",{attrs:{id:"email-send",type:"secondary","data-testid":"email-send","aria-label":e.sendButtonText,"full-width":"",disabled:e.sending},on:{click:e.sendButtonClicked}},[a("VyIcon",{attrs:{slot:"icon",type:"regular",name:e.sendButtonIcon},slot:"icon"}),e._v("\n      "+e._s(e.sendButtonText)+"\n    ")],1)],1)],1):a("LoadingSkeletonGroup",[a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"270px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}})],1)};var po=[];uo._withStripped=true;var ho=a("dO+e");var vo=a("qA81");var mo=a("rOQg");var fo=a("UxlC");var bo=a("XMab");var go=a("vDqi");var yo=a.n(go);var _o=a("wd/R");var wo=a.n(_o);const xo=998;function So(e,t){const a=e.lastIndexOf(" ",t);const i=e.lastIndexOf("\t",t);return Math.max(a,i)}function ko(e,t=""){const a=[];let i=e;while(i.length>xo){a.push(i.slice(0,xo));i=i.slice(xo)}a.push(i);return a.join("\r\n".concat(t))}function Co(e){if(e.length<xo){return e}const t=So(e,xo);if(t<=0){return"".concat(ko(e," "))}if(t===0){return"truncated"}return"".concat(e.slice(0,t),"\r\n").concat(Co(e.slice(t)))}function Po(e){const t=45;const a=[];let i=0;while(i<e.length){let s="";while(i<e.length&&s.length+e[i].length<t){s+=e[i];i+=1}a.push(s)}return a}function To(e){const t=e=>String.fromCharCode("0x".concat(e));return encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,a)=>t(a)))}function Vo(e){const t=Array.from(e);const a=t.map((e=>To(e)));const i=Po(a);return i.map((e=>"=?UTF-8?B?".concat(btoa(e),"?="))).join(" ")}function Ao(e){return e.replace(/[\u{00080}-\u{FFFFF}]+/gu,Vo)}function Eo({date:e,fromName:t,fromEmail:a,to:i,subject:s,body:n}){const r=t!==""?"".concat(Ao(t)," <").concat(a,">"):a;const o=["Date: ".concat(wo.a.parseZone(e).format("ddd, DD MMM YYYY HH:mm:ss ZZ"),"\r\n"),"From: ".concat(r,"\r\n"),Co("To: ".concat(i.join(", "),"\r\n")),Co("Subject: ".concat(Ao(s),"\r\n")),"MIME-Version: 1.0\r\n","Content-Type: text/html; charset=UTF-8\r\n"];return"".concat(o.join(""),"\r\n").concat(ko(n))}var Io=a("Wv9u");var Do={initProvider:({clientId:e,redirectUri:t})=>({name:"google",tokenKey:"gmailOauthToken",emailAddressKey:"gmailOauthUsername",oauth:{authEndpoint:"https://accounts.google.com/o/oauth2/v2/auth",revokeEndpoint:"https://accounts.google.com/o/oauth2/revoke",logoutEndpoint:"https://www.google.com/accounts/Logout",makeParams:a=>({client_id:e,include_granted_scopes:true,login_hint:a.login_hint,redirect_uri:t,response_type:"token",prompt:a.prompt,scope:["email","profile","https://www.googleapis.com/auth/gmail.send"].join(" "),state:a.state})},profile:{getEndpoint:"https://people.googleapis.com/v1/people/me?personFields=names,emailAddresses",parseProfile:e=>({name:e.names.find((e=>e.metadata.primary===true)).displayName,email:e.emailAddresses.find((e=>e.metadata.primary===true)).value})},email:{sendEndpoint:"https://gmail.googleapis.com/gmail/v1/users/me/messages/send",sendBatchEndpoint:"https://gmail.googleapis.com/batch/gmail/v1/users/me/messages/send",formatMessageData:({date:e,fromName:t,fromEmail:a,to:i,subject:s,body:n})=>{const r=Eo({date:e,fromName:t,fromEmail:a,to:i,subject:s,body:n});const o=Object(Io["a"])(r);return{raw:o}},parseBatchResponse:e=>{const t=[];const a=e.split("\r\n");let i="";for(const e of a){if(e.match(/Content-ID/)){try{i=e.split("response-")[1]}catch(e){console.error(e)}}if(e[0]==="{"){let a={email:i};try{a={...JSON.parse(e),...a}}catch(e){console.error(e)}t.push(a)}}return t}}})};var Oo={initProvider:({clientId:e,redirectUri:t})=>({name:"outlook",tokenKey:"outlookOauthToken",emailAddressKey:"outlookOauthUsername",batchEndpoint:"https://graph.microsoft.com/v1.0/$batch",oauth:{authEndpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",logoutEndpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",makeParams:a=>({client_id:e,include_granted_scopes:true,login_hint:a.login_hint,redirect_uri:t,response_mode:"fragment",response_type:"token",prompt:a.prompt,scope:["openid","profile","email","user.read","Mail.Send"].join(" "),state:a.state}),makeLogoutParams:a=>({client_id:e,post_logout_redirect_uri:"".concat(t,"#outlookLogout=true"),login_hint:a.login_hint})},profile:{getEndpoint:"https://graph.microsoft.com/v1.0/me",parseProfile:e=>({email:e.userPrincipalName,name:e.displayName})},email:{sendEndpoint:"https://graph.microsoft.com/v1.0/me/sendMail",sendPath:"/me/sendMail",formatMessageData:({to:e,subject:t,body:a})=>({Message:{Subject:t,Body:{ContentType:"HTML",Content:a},ToRecipients:e.map((e=>({EmailAddress:{Address:e}})))}})}})};var Lo=a("O6u4");var Bo=a("twEG");var Mo=a("AOo/");let zo;let Fo;async function Uo(e,t){const a=await Lo["a"]({method:"GET",url:e,headers:{Authorization:"Bearer ".concat(t)}});return a.status===200?a.data:null}async function Ro(e,t){const a=new URLSearchParams;a.append("token",t);const i=a.toString();const s=await Lo["a"]({method:"POST",url:e.oauth.revokeEndpoint,data:i,headers:{"Content-Type":"application/x-www-form-urlencoded"}});return s}function jo(){const e=new Uint8Array(32);window.crypto.getRandomValues(e);return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const qo="lastUsedProvider";var No={init(e){Fo=jo();zo={google:Do.initProvider({clientId:e.googleClientId,redirectUri:e.redirectUri}),outlook:Oo.initProvider({clientId:e.outlookClientId,redirectUri:e.redirectUri})}},async getAuthInfo(e=Io["e"].getItem(qo)){const t=zo[e];if(t===undefined){return null}const a=Io["e"].getItem(t.tokenKey);if(!a){return null}const i=await Uo(t.profile.getEndpoint,a);if(!i){const e=t.oauth.makeParams({login_hint:Io["e"].getItem(t.emailAddressKey),prompt:"none",state:["silent",t.name,Fo].join(" ")});Object(Io["b"])(t.oauth.authEndpoint,e);return null}const{name:s,email:n}=t.profile.parseProfile(i);Io["e"].setItem(t.emailAddressKey,n);Io["e"].setItem(qo,e);return{token:a,name:s,email:n,provider:e}},authenticate(e){const t=zo[e];if(t===undefined){throw Error("Unknown mail provider: ".concat(e))}const a=t.oauth.makeParams({login_hint:Io["e"].getItem(t.emailAddressKey),prompt:"select_account",state:["explicit",t.name,Fo].join(" ")});Object(Io["c"])(t.oauth.authEndpoint,a)},async signOut(e,t){const a=zo[e];if(a===undefined){throw Error("Unknown mail provider: ".concat(e))}if(a.oauth.revokeEndpoint){await Ro(a,t)}else{const e=a.oauth.makeLogoutParams({login_hint:Io["e"].getItem(a.emailAddressKey)});Object(Io["c"])(a.oauth.logoutEndpoint,e)}},clearAuthStorage(e){const t=zo[e];if(t===undefined){throw Error("Unknown mail provider: ".concat(e))}Io["e"].removeItem(t.tokenKey);Io["e"].removeItem(t.emailAddressKey);Io["e"].removeItem(qo)},async send(e,{fromName:t,fromEmail:a,to:i,subject:s,body:n,token:r}){const o=zo[e];if(o===undefined){throw Error("Unknown mail provider: ".concat(e))}const l=(new Date).toISOString();const d=o.email.formatMessageData({date:l,fromName:t,fromEmail:a,to:i,subject:s,body:n});const c=()=>Lo["a"]({method:"POST",url:o.email.sendEndpoint,data:d,headers:{Authorization:"Bearer ".concat(r)}});let u=await c();if(u.status===401){const e=await this.getAuthInfo();if(e){u=await c()}}if(e==="google"&&(u.status===403||u.status===429)){Mo["a"].error("".concat(u.status,": Potentially reached gmail api limit, check quota units in google dev console."),u)}return u},async sendBatch(e,{fromName:t,fromEmail:a,subject:i,emailContent:s,token:n},r){let o=r;let l=[];let d=[];let c=[];let u=20;let p=5;if(e==="google"){u=2;p=10}let h=parseInt(r.length/u,10)+p;let v=o.slice(0,u);while(v.length>0&&h>0){await Object(Bo["a"])(750);const p=await this.sendProviderBatch(e,{fromName:t,fromEmail:a,subject:i,emailContent:s,token:n},v);l=[...l,...p.successRequests];d=p.failedAddresses;c=p.failedRequests;const m={};d.forEach((e=>{m[e]=true}));const f=o.slice(u);const b=r.filter((e=>m[e.recipient]));o=[...f,...b];if(c.some((e=>{var t;return e.status===401||((t=e.error)===null||t===void 0?void 0:t.code)===401}))){const e=await this.getAuthInfo();if(!e)break}if(f.length>0||c.some((e=>{var t,a;return e.status===429||((t=e.error)===null||t===void 0?void 0:t.code)===429||((a=e.error)===null||a===void 0?void 0:a.code)===403}))){v=o.slice(0,u);h-=1}else{break}}d=[...o.map((({recipient:e})=>e))];return{results:l,failedAddresses:d,failedRequests:c}},sendProviderBatch(e,{fromName:t,fromEmail:a,subject:i,emailContent:s,token:n},r){if(e==="google"){return this.sendGmailBatch({fromName:t,fromEmail:a,subject:i,emailContent:s,token:n},r)}if(e==="outlook"){return this.sendOutlookBatch({fromName:t,fromEmail:a,subject:i,emailContent:s,token:n},r)}},async sendGmailBatch({fromName:e,fromEmail:t,subject:a,emailContent:i,token:s},n){const r=zo.google;const o=ds()();const l=(new Date).toISOString();let d=["POST /batch/gmail/v1 HTTP/1.1","","Authorization: Bearer ".concat(s),"","Host: www.googleapis.com","","Content-Type: multipart/mixed; boundary=".concat(o),"","Content-Length: ".concat(n.length),""];for(const{recipient:s,vyEmailToken:c}of n){const n=i.replace(/\$token_placeholder/g,c);d=[...d,"--".concat(o),"Content-Type: application/json","Content-ID: ".concat(s),"","POST /gmail/v1/users/me/messages/send","",JSON.stringify(r.email.formatMessageData({date:l,fromName:e,fromEmail:t,to:[s],subject:a,body:n})),""]}d.push("--".concat(o,"--"));const c=()=>yo.a.post(r.email.sendBatchEndpoint,d.join("\r\n"),{headers:{"Content-Type":'multipart/mixed; boundary="'.concat(o,'"'),Authorization:"Bearer ".concat(s)}});let u=await c();if(u.status===401){const e=await this.getAuthInfo();if(e){u=await c()}}if(u.status>401){Mo["a"].error("".concat(u.status,": Failed sending gmail batch request"),u)}const p=r.email.parseBatchResponse(u.data);const h=p.filter((e=>!e.error));const v=p.filter((e=>!!e.error));let m=v.map((({email:e})=>e));const f=p.length===0;if(f){m=n}return{successRequests:h,failedAddresses:m,failedRequests:v,requestFailed:f}},async sendOutlookBatch({fromName:e,fromEmail:t,subject:a,emailContent:i,token:s},n){const r=zo.outlook;const o=(new Date).toISOString();const l=[];for(let s=0;s<n.length;s++){const{recipient:d,vyEmailToken:c}=n[s];let u={};if(s>3){u={dependsOn:[n[s-4].recipient]}}else if(s>0){u={dependsOn:[n[0].recipient]}}const p=i.replace(/\$token_placeholder/g,c);l.push({...u,id:d,method:"POST",url:r.email.sendPath,body:r.email.formatMessageData({date:o,fromName:e,fromEmail:t,to:[d],subject:a,body:p}),headers:{"Content-Type":"application/json"}})}const d=()=>Lo["a"]({method:"POST",url:r.batchEndpoint,data:{requests:l},headers:{Authorization:"Bearer ".concat(s)},timeout:2e4});let c=await d();if(c.status===401){const e=await this.getAuthInfo();if(e){c=await d()}}if(c.status>401){Mo["a"].error("".concat(c.status,": Failed sending outlook batch request"),c)}const{data:{responses:u}}=c;const p=!u||u.length===0;let h=[];let v=[];let m=n;if(!p){h=u.filter((e=>{var t;return!((t=e.body)===null||t===void 0?void 0:t.error)}));v=u.filter((e=>{var t;return!!((t=e.body)===null||t===void 0?void 0:t.error)}));m=v.map((({id:e})=>e))}return{successRequests:h,failedAddresses:m,failedRequests:v,requestFailed:p}},validateState(e){const[t,a,i]=decodeURIComponent(e).split(/[ +]/);const s=t==="silent";const n=Object.prototype.hasOwnProperty.call(zo,a);const r=n&&i===Fo;return{isValid:r,isSilent:s,providerName:a}},saveTokenToStorage(e,t){const a=zo[e];if(a===undefined){return null}Io["e"].setItem(a.tokenKey,t)}};var $o=a("EPGf");var Ho={create:(e,t=false,a=null)=>({method:"POST",url:"/api/v1/emailtokens",data:{email:e,mark_unused:t,organization_id:a}})};var Yo=a("eng8");var Go=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{class:["recipients-box",{"recipients-box-disabled":e.disabled,"recipients-box-focused":e.inputFocused}],attrs:{"data-testid":"email-to"},on:{click:e.focusEmailInput}},[e._l(e.recipients,(function(t,i){return a("VyTag",{key:i,attrs:{name:t,type:e.disabled?"none":"remove"},on:{remove:function(a){return e.removeEmail(t)}}})})),e._v(" "),a("VyInputV2",{ref:"inputEmails",staticClass:"input-emails",style:e.emailInputStyle,attrs:{small:"","aria-label":"Enter email addresses"},on:{change:e.onEmailsChanged,blur:e.handleBlur,focus:e.handleFocus,submit:e.checkEmails},nativeOn:{keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])){return null}return e.removeLastEmail(t)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")){return null}return e.checkEmails(t)}]},model:{value:e.emails,callback:function(t){e.emails=t},expression:"emails"}}),e._v(" "),a("span",{ref:"hiddenEmails",staticClass:"hidden-emails"},[e._v("\n    "+e._s(e.emails)+"\n  ")])],2)};var Wo=[];Go._withStripped=true;var Jo={name:"RecipientsBox",components:{VyInputV2:f["x"],VyTag:f["Q"]},props:{recipients:{type:Array,default:()=>[]},disabled:{type:Boolean,required:true}},data(){return{emails:"",inputFocused:false,emailInputStyle:{width:"50px"}}},methods:{onEmailsChanged(){if(this.emails.match(/[,\s]+/)){this.checkEmails()}else{this.updateInputWidth()}},checkEmails(){const e=this.emails.split(/[,\s]+/).map((e=>e.trim())).filter((e=>e.length>0));const t=[];const a=[];e.forEach((e=>{const i=Object(Io["d"])(e);if(i==null){t.push(e)}else if(this.recipients.indexOf(i)===-1){a.push(i)}}));this.$nextTick((()=>{this.emails=t.join(", ");this.updateInputWidth()}));this.$emit("add-emails",a)},handleBlur(){this.checkEmails();this.inputFocused=false},handleFocus(){this.inputFocused=true},focusEmailInput(){this.inputFocused=true;this.$refs.inputEmails.focus()},updateInputWidth(){this.$nextTick((()=>{var e;const t=((e=this.$refs.hiddenEmails)===null||e===void 0?void 0:e.offsetWidth)||20;this.emailInputStyle.width="".concat(parseInt(t+10,10),"px")}))},removeEmail(e){this.$emit("remove-email",e)},removeLastEmail(){if(this.emails.length===0&&this.recipients.length>0){this.$emit("remove-last-email")}}}};var Zo=Jo;var Ko=a("0UK6");var Qo=Object(S["a"])(Zo,Go,Wo,false,null,"5c0a9282",null);if(false){var Xo}Qo.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/RecipientsBox.vue";var el=Qo.exports;var tl=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"loading-skeleton-group",style:e.styleVariables},[e._t("default")],2)};var al=[];tl._withStripped=true;var il={name:"LoadingSkeletonGroup",props:{rowGap:{type:String,default:"8px"}},computed:{styleVariables(){return{"--row-gap":this.rowGap}}}};var sl=il;var nl=a("G69k");var rl=Object(S["a"])(sl,tl,al,false,null,"56fae85c",null);if(false){var ol}rl.options.__file="app/assets/components/layout/skeleton/LoadingSkeletonGroup.vue";var ll=rl.exports;var dl=a("atsX");var cl={name:"Mailer",components:{VyButton:f["j"],VyIcon:f["v"],VyInputV2:f["x"],VyAlert:f["d"],LoadingSkeletonGroup:ll,LoadingSkeleton:dl["a"],RecipientsBox:el,WysiwygEditor:()=>a.e("WysiwygEditor.async").then(a.bind(null,"s9Kn"))},props:{embedLink:{type:String,required:true},thumbnailUrl:{type:String,required:true},playerUuid:{type:String,required:true},accessToken:{type:String,default:""},provider:{type:String,default:""},fromName:{type:String,default:""},emailAddress:{type:String,default:""}},data(){return{sending:false,sent:false,recipients:[],subject:"",messageBody:"",invalidRecipientMessage:"",sendPending:false,errorMessage:""}},computed:{...I["c"].mapState(["organization"]),...v["b"].mapGetters(["selectedThumbnailUuid"]),...v["b"].mapState(["thumbnailLibrary"]),...Ne["b"].mapGetters(["videoStatus"]),authenticated(){return this.accessToken&&this.emailAddress},sendButtonIcon(){return this.sent?vo["faCheck"]:ho["faPaperPlane"]},numberOfRecipients(){return this.recipients.length},sendButtonText(){if(this.sending){return"Sending..."}if(this.sent){return this.numberOfRecipients>1?"Emails Sent!":"Email Sent!"}if(this.authenticated){return this.numberOfRecipients>1?"Send ".concat(this.numberOfRecipients," Emails"):"Send Email"}return"Sign in and Send"}},watch:{sent(e){if(e){window.removeEventListener("beforeunload",this.confirmLeave);setTimeout((()=>{this.sent=false}),3e3)}},accessToken(e){if(e&&this.sendPending){this.sendPending=false;this.sendButtonClicked()}},videoStatus:{immediate:true,handler(e,t){if(t==="encoding"&&e==="ready"){this.pollUpdatedThumbnail({thumbnailUuid:this.selectedThumbnailUuid})}}}},methods:{...jn["b"].mapActions(["sendApiRequest"]),...I["c"].mapActions(["sendHeapEvent"]),...$o["b"].mapActions(["sendDatadogLog"]),...v["b"].mapActions(["pollUpdatedThumbnail"]),addRecipients(e){this.recipients=[...this.recipients,...e]},removeRecipientByEmail(e){this.recipients.splice(this.recipients.indexOf(e),1)},removeLastRecipient(){if(this.recipients.length>0){this.recipients.pop();this.recipients=[...this.recipients]}},validateFields(){if(this.numberOfRecipients===0){this.invalidRecipientMessage="Please enter an email address";return false}return true},sendButtonClicked(){if(!this.authenticated){this.sendPending=true;this.toggleSlideout()}else if(this.validateFields()){this.sending=true;window.addEventListener("beforeunload",this.confirmLeave)}},confirmLeave(e){e.preventDefault();e.returnValue="Changes you made may not be saved.";return e.returnValue},async fetchEmailToken(e){const t=await this.sendApiRequest(Ho.create(e,true,this.organization.id));return t.status<400?t.data.token:""},async sendEmail(e){let t=true;const{recipients:a,fromName:i,emailAddress:s,subject:n,accessToken:r}=this;const o={fromName:i,fromEmail:s,subject:n,token:r};const l=await Promise.all(a.map((async e=>{const a=await this.fetchEmailToken(e);t=!!a;return{recipient:e,vyEmailToken:a}})));const{failedRequests:d,failedAddresses:c,requestFailed:u}=await No.sendBatch(this.provider,{...o,emailContent:e},l);d.forEach((e=>{const{id:t,code:a,status:i,email:s,...n}=e;const r=parseInt(i,10)||parseInt(a,10);if(r>=400){this.sendDatadogLog({message:"In Platform Mailer Error",status:"error",options:{inPlatformMailerError:true,status:r,response:n}})}}));if(d.length===0&&!u){this.sendDatadogLog({message:"Email(s) sent",status:"info",options:{count:this.numberOfRecipients,email_provider:this.provider}});this.sendHeapEvent({eventName:"Email(s) Sent",customOptions:{count:this.numberOfRecipients,provider:this.provider,facade_player_uuid:this.playerUuid}});Object(Yo["a"])("Email sent!".concat(t?"":" Tracking is not available at this time. Please try later."));this.recipients=[];this.subject="";this.errorMessage="";this.sent=true;this.$emit("update-guided-checklist")}else{this.errorMessage=this.getErrorMessage(d);if(!u){this.recipients=this.recipients.filter((e=>c.includes(e)))}}this.sending=false},getErrorMessage(e){if(e.some((e=>{var t,a,i,s,n,r,o,l;return(e.status>400||e.code>400)&&(((t=e.data)===null||t===void 0?void 0:(a=t.error)===null||a===void 0?void 0:a.code)==="ErrorMessageSubmissionBlocked"||((i=e.data)===null||i===void 0?void 0:(s=i.error)===null||s===void 0?void 0:s.code)==="ErrorExceededMessageLimit"||((n=e.body)===null||n===void 0?void 0:(r=n.error)===null||r===void 0?void 0:r.code)==="ErrorMessageSubmissionBlocked"||((o=e.body)===null||o===void 0?void 0:(l=o.error)===null||l===void 0?void 0:l.code)==="ErrorExceededMessageLimit")}))){return"Follow the instructions in your Inbox to verify your account."}if(e.some((e=>{var t,a,i,s,n;return((t=e.data)===null||t===void 0?void 0:(a=t.error)===null||a===void 0?void 0:a.status)==="FAILED_PRECONDITION"||((i=e.body)===null||i===void 0?void 0:(s=i.error)===null||s===void 0?void 0:s.status)==="FAILED_PRECONDITION"||((n=e.error)===null||n===void 0?void 0:n.status)==="FAILED_PRECONDITION"}))||e.some((e=>{var t,a,i,s,n,r;return((t=e.data)===null||t===void 0?void 0:(a=t.error)===null||a===void 0?void 0:(i=a.message)===null||i===void 0?void 0:i.includes("OrganizationFromTenantGuidNotFound"))||((s=e.body)===null||s===void 0?void 0:(n=s.error)===null||n===void 0?void 0:(r=n.message)===null||r===void 0?void 0:r.includes("OrganizationFromTenantGuidNotFound"))}))){return"Your Google or Microsoft account has no mailbox."}if(e.some((e=>e.status===401||e.code===401||this.provider==="outlook"&&e.status===404))){this.$emit("clear-auth-info");return"This account has been disconnected. Connect an account to send emails."}return"".concat(e.length===1?"An email":"Some emails"," failed to send. Please try again later.")},toggleSlideout(){if(!this.sending){this.$emit("toggle-slideout")}}}};var ul=cl;var pl=a("xHt+");var hl=Object(S["a"])(ul,uo,po,false,null,"7c8d1e3a",null);if(false){var vl}hl.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/Mailer.vue";var ml=hl.exports;var fl=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",[i("div",{staticClass:"slideout-header"},[i("VyButton",{attrs:{"aria-label":"Back to sharing options",tabindex:e.slideoutShowing?0:-1},on:{click:e.toggleSlideout}},[i("VyIcon",{attrs:{slot:"icon",name:"faChevronLeft",type:"solid"},slot:"icon"})],1),e._v(" "),i("VyButton",{staticClass:"close-button",attrs:{type:"default-variant","aria-label":"Close sidebar","data-testid":"email-back-to-email",tabindex:e.slideoutShowing?0:-1},on:{click:e.closeSidebar}},[i("VyIcon",{attrs:{name:"faTimes"}})],1)],1),e._v(" "),i("div",{staticClass:"slideout-content"},[i("div",{staticClass:"slideout-title"},[e._v("\n      Connect an email account\n    ")]),e._v(" "),i("div",{staticClass:"slideout-description"},[e._v("\n      "+e._s(e.accessToken?"Connect a new account":"Select an account to connect")+"\n    ")]),e._v(" "),i("VyButton",{staticClass:"mail-button",attrs:{"aria-label":"Connect a Gmail Account",type:"default","data-testid":"email-connect-gmail","full-width":"",tabindex:e.slideoutShowing?0:-1},on:{click:function(t){return e.authenticate("google")}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("img",{staticClass:"social-share-icon",attrs:{id:"gmail-icon",src:a("hqPc"),alt:"Gmail icon"}})]},proxy:true}])},[e._v("\n      Connect a Google Account\n      ")]),e._v(" "),i("div",[i("VyButton",{staticClass:"mail-button",attrs:{type:"default","aria-label":"Connect an Outlook Account","data-testid":"email-connect-outlook","full-width":"",tabindex:e.slideoutShowing?0:-1},on:{click:function(t){return e.authenticate("outlook")}},scopedSlots:e._u([{key:"icon",fn:function(){return[i("img",{staticClass:"social-share-icon",attrs:{id:"outlook-icon",src:a("tgSC"),alt:"Outlook icon"}})]},proxy:true}])},[e._v("\n        Connect an Outlook Account\n        ")])],1),e._v(" "),e.accessToken?i("a",{staticClass:"disconnect-link",attrs:{tabindex:e.slideoutShowing?0:-1,"data-testid":"email-disconnect",href:"#"},on:{click:e.signOut}},[e._v("\n      Disconnect account\n    ")]):e._e()],1)])};var bl=[];fl._withStripped=true;var gl={name:"MailerSlideout",components:{VyButton:f["j"],VyIcon:f["v"]},props:{sidebarShowing:{type:Boolean,required:false,default:false},slideoutShowing:{type:Boolean,required:false,default:false},accessToken:{type:String,required:false,default:""},provider:{type:String,required:false,default:""}},mounted(){window.addEventListener("message",this.handleMessage)},beforeDestroy(){window.removeEventListener("message",this.handleMessage)},methods:{...I["c"].mapActions(["sendHeapEvent"]),...$o["b"].mapActions(["sendDatadogLog"]),...h["b"].mapActions(["showStatus"]),handleMessage(e){if(e.data.access_token){const{isValid:t,isSilent:a,providerName:i}=No.validateState(e.data.state);if(!t){return}if(i){No.saveTokenToStorage(i,e.data.access_token);this.$emit("get-auth-info",{isSilent:a,providerName:i});if(!a){this.sendHeapEvent({eventName:"Email Connected",customOptions:{platform:i}})}}}else if(e.data.outlookLogout){this.clearAuthParams()}else if(e.data.error){this.sendDatadogLog({message:"Mailer slideout received error message",status:"error",options:{error:e.data.error}})}},toggleSlideout(){this.$emit("toggle-slideout")},closeSidebar(){this.toggleSlideout();if(this.sidebarShowing){this.$emit("toggle-sidebar")}},authenticate(e){No.authenticate(e)},async signOut(){if(this.provider){await No.signOut(this.provider,this.accessToken);if(this.provider==="google"){this.clearAuthParams()}}},clearAuthParams(){if(this.provider){No.clearAuthStorage(this.provider)}this.$emit("clear-auth-info");this.showStatus({success:true,message:"Your account has been disconnected",description:"Connect a new account if you'd like"})}}};var yl=gl;var _l=a("OS8p");var wl=Object(S["a"])(yl,fl,bl,false,null,"5fcacb80",null);if(false){var xl}wl.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/MailerSlideout.vue";var Sl=wl.exports;var kl=a("66dD");var Cl=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"social-share-options"},[e.showHeader?a("h2",{attrs:{id:"social-share-header"}},[e._v("\n    Social Share\n  ")]):e._e(),e._v(" "),e.showHeader?a("div",{attrs:{id:"social-share-description"}},[e._v("\n    Share directly to social accounts\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"social-share-buttons"},[e.initializing?[a("LoadingSkeleton",{attrs:{height:"44px",width:"44px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"44px",width:"44px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"44px",width:"44px"}}),e._v(" "),e.youtubeSharable?a("LoadingSkeleton",{attrs:{height:"44px",width:"44px"}}):e._e()]:[a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Facebook",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button social-share-button",attrs:{id:"facebook-share","aria-label":"Share video with Facebook","data-testid":"sidebar-facebook-share"},on:{click:e.openFacebookDialog},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faFacebookF",type:"brands"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"LinkedIn",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button social-share-button",attrs:{id:"linkedin-share","aria-label":"Share video with LinkedIn","data-testid":"sidebar-linkedin-share"},on:{click:function(t){return e.openStackedDialog("linkedin")}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faLinkedinIn",type:"brands"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Twitter",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button social-share-button",attrs:{id:"twitter-share","aria-label":"Share video with Twitter","data-testid":"sidebar-twitter-share"},on:{click:e.shareTwitter},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faTwitter",type:"brands"}})]},proxy:true}])})],1),e._v(" "),e.youtubeSharable?a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"YouTube",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button social-share-button",attrs:{id:"youtube-share","aria-label":"Share with Youtube","data-testid":"sidebar-youtube-share"},on:{click:function(t){return e.openStackedDialog("youtube")}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faYoutube",type:"brands"}})]},proxy:true}])})],1):e._e()]],2),e._v(" "),e.enableFacebookSharing?a("FacebookDialog",{attrs:{visible:e.stackedDialogVisible.facebook,"video-id":e.videoId,"thumbnail-url":e.selectedThumbnailUrl,"organization-id":e.organizationId,"dashboard-url":e.dashboardUrl,"video-description":e.videoDescription||"",name:e.playerName,"can-edit-integrations":e.canEditIntegrations,"can-access-insights":e.canAccessInsights,"enable-scheduled-social-push":e.enableScheduledSocialPush,"share-link":e.shareLink,"back-button-enabled":false},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"facebook",t)},"handle-heap-event":e.handleHeapEvent}}):e._e(),e._v(" "),a("LinkedinDialog",{attrs:{"can-edit-integrations":e.canEditIntegrations,visible:e.stackedDialogVisible.linkedin,"video-id":e.videoId,name:e.playerName,"player-type":e.playerType,"preview-title":e.playerName,"thumbnail-url":e.selectedThumbnailUrl,"share-link":e.shareLink,"back-button-enabled":false,location:e.location,"player-uuid":e.playerUuid},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"linkedin",t)}}}),e._v(" "),e.enableYoutubeSharing?[e.newYoutubePush?a("YoutubeSyncDialog",{attrs:{visible:e.stackedDialogVisible.youtube,"player-uuid":e.playerUuid,"thumbnail-url":e.selectedThumbnailUrl},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"youtube",t)}}}):a("YoutubeDialog",{attrs:{visible:e.stackedDialogVisible.youtube,"organization-id":e.organizationId,name:e.playerName,"thumbnail-url":e.selectedThumbnailUrl,"video-id":e.videoId,"can-edit-integrations":e.canEditIntegrations,"can-access-insights":e.canAccessInsights,"enable-scheduled-social-push":e.enableScheduledSocialPush,"back-button-enabled":false},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"youtube",t)},"handle-heap-event":e.handleHeapEvent}})]:e._e()],2)};var Pl=[];Cl._withStripped=true;var Tl=a("dP3/");var Vl=a("/huW");var Al=a("e6b/");var El={name:"SocialOptions",components:{VyButton:f["j"],VyIcon:f["v"],VyTooltip:f["U"],FacebookDialog:Tl["a"],LinkedinDialog:Vl["a"],YoutubeDialog:Al["a"],LoadingSkeleton:dl["a"],YoutubeSyncDialog:wi["a"]},props:{shareLink:{type:String,required:false,default:""},showHeader:{type:Boolean,required:false,default:true},location:{type:String,required:false,default:""},playerUuid:{type:String,required:false,default:""}},data(){return{stackedDialogVisible:{embed:false,youtube:false,facebook:false,linkedin:false}}},computed:{...I["c"].mapState({organizationId:e=>e.organization.id,dashboardUrl:e=>e.domains.secure}),...d["c"].mapGetters(["hasFeature"]),...c["b"].mapGetters(["hasPermission"]),...Ne["b"].mapGetters(["videoId","videoDescription"]),...l["b"].mapState({playerName:e=>e.name,playerType:e=>e.playerType}),...v["b"].mapState({selectedThumbnailUrl:e=>e.selectedThumbnail.url||""}),canAccessInsights(){return this.hasFeature("analytics_center")&&this.hasPermission("can_access_analytics")},canEditIntegrations(){return this.hasPermission("can_edit_integrations")},enableScheduledSocialPush(){return this.hasFeature("scheduled_social_push")},enableFacebookSharing(){return this.hasPermission("can_push_to_facebook")},enableYoutubeSharing(){return this.hasPermission("can_push_to_youtube")},youtubeSharable(){return this.enableYoutubeSharing&&this.videoId>0},newYoutubePush(){return this.hasFeature("new_youtube_push")},modifiedPlayerType(){let e=true;if(this.hasFeature("video_playlists")){e=this.playerType==="video_facade"}return e?"Video":"Playlist"},initializing(){return!this.shareLink}},methods:{...I["c"].mapActions(["sendHeapEvent"]),handleHeapEvent({eventName:e,customOptions:t}){this.sendHeapEvent({eventName:e,customOptions:{assetType:this.playerTypeText,playerUuid:this.playerUuid,location:this.location,...t}})},openShareWindow(e){const t=626;const a=436;window.open(e,"sharer","width=".concat(t,", innerHeight=").concat(a,", location=no, menubar=no, status=no, titlebar=no, scrollbars=no, toolbar=no"))},shareGmail(){const e="".concat(this.playerName);const t="".concat(this.shareLink,"?");window.open("https://mail.google.com/mail/?view=cm&fs=1&to=&su=".concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(t)),"_blank");this.$emit("update-guided-checklist")},shareOutlook(){const e="".concat(this.playerName);const t="".concat(this.shareLink,"?");window.open("https://outlook.live.com/mail/0/deeplink/compose?version=2020062103.05&subject=".concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(t)),"blank");this.$emit("update-guided-checklist")},openStackedDialog(e){this.stackedDialogVisible[e]=true;this.$emit("stacked-dialog-open");this.$emit("update-guided-checklist")},openFacebookDialog(){if(this.enableFacebookSharing&&this.modifiedPlayerType==="Video"){this.openStackedDialog("facebook");return}const e="".concat(encodeURIComponent(this.shareLink),"?");this.openShareWindow("https://www.facebook.com/sharer.php?u=".concat(e));this.handleHeapEvent({eventName:"facebook.link-share"});this.$emit("update-guided-checklist")},shareTwitter(){const e=encodeURIComponent(this.shareLink);const t=encodeURIComponent("Check out this video recorded with @vidyard");this.openShareWindow("https://twitter.com/share?text=".concat(t,"+").concat(e));this.handleHeapEvent({eventName:"twitter.link-share"});this.$emit("update-guided-checklist")}}};var Il=El;var Dl=a("oc7i");var Ol=Object(S["a"])(Il,Cl,Pl,false,null,"1b28e9fc",null);if(false){var Ll}Ol.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/SocialOptions.vue";var Bl=Ol.exports;var Ml=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"basic-embed"},[e.loading?a("LoadingSkeleton",{attrs:{height:"26px"}}):[a("div",{staticClass:"embed-toggle-wrapper"},[a("EmbedPopover",{staticClass:"embed-codes-popover",attrs:{pql:e.showPql,"embed-data":e.embedsAllotment,"popover-placement":"left"}}),e._v(" "),a("VySwitch",{staticClass:"embed-code-generate-switch",attrs:{"aria-label":"Generate embed code",name:"Generate embed code","data-testid":"enable-embeds-toggle",disabled:e.embedsDisabled},on:{input:e.toggleEmbed},model:{value:e.embedToggled,callback:function(t){e.embedToggled=t},expression:"embedToggled"}})],1),e._v(" "),a("CopyButton",{directives:[{name:"show",rawName:"v-show",value:e.embedCodeResponsiveInline&&e.embedToggled,expression:"embedCodeResponsiveInline && embedToggled"}],staticClass:"copy-link-button embed-copy-button",attrs:{"button-text":"Copy Code","text-to-copy":e.embedCodeResponsiveInline,"data-testid":"inline-embed-copy","heap-name":"copy-embed-code","full-width":""},on:{"copy-clicked":function(t){return e.$emit("update-guided-checklist")}}})]],2)};var zl=[];Ml._withStripped=true;var Fl=a("E+oP");var Ul=a.n(Fl);var Rl=a("egTs");var jl=a("qJti");var ql=a("0iVE");var Nl=a("2wbO");var $l={name:"BasicEmbed",components:{CopyButton:ql["a"],EmbedPopover:Nl["a"],VySwitch:f["M"],LoadingSkeleton:dl["a"]},props:{embedCodeResponsiveInline:{type:String,default:""},playerUuid:{type:String,required:true},embedsAllotment:{type:Object,default:undefined},loading:{type:Boolean,default:false}},data(){return{embedToggled:!!this.embedCodeResponsiveInline,showPql:false}},computed:{...I["c"].mapState({organizationId:e=>e.organization.id}),embedsDisabled(){return!this.embedsAllotment.canEmbedOne&&!this.embedToggled}},watch:{embedCodeResponsiveInline(e){this.embedToggled=!!e}},mounted(){this.displayPql()},methods:{...jn["b"].mapActions(["sendApiRequest"]),async displayPql(){const{status:e,data:t}=await this.sendApiRequest(jl["a"].findByType(this.organizationId,"embeds"));this.showPql=e<400&&!Ul()(t)},async toggleEmbed(e){this.embedToggled=e;const t=this.embedToggled?Rl["a"].create:Rl["a"].destroy;const{status:a,data:i}=await this.sendApiRequest(t(this.organizationId,this.playerUuid));if(a<400){this.$emit("embed-toggle:finish")}else{this.embedToggled=!e;f["b"].show(new f["b"]((i===null||i===void 0?void 0:i.error)||"Failed to set embed option",{type:"error",icon:"exclamation-triangle"}))}}}};var Hl=$l;var Yl=a("ulq7");var Gl=Object(S["a"])(Hl,Ml,zl,false,null,"67296987",null);if(false){var Wl}Gl.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/embed-codes/BasicEmbed.vue";var Jl=Gl.exports;var Zl=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.initializing?a("LoadingSkeletonGroup",[a("LoadingSkeleton",{attrs:{height:"30px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"22px",width:"30%"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"22px",width:"60%"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"60px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}})],1):a("div",{staticClass:"webpage-embed"},[a("div",{staticClass:"embed-toggle-wrapper"},[a("VyBadge",{staticClass:"embed-usage-badge",attrs:{text:e.embedsUsageText,tabindex:-1}}),e._v(" "),e.tooltip?a("VyTooltip",{staticClass:"embed-toggle-tooltip",attrs:{placement:"bottom"}},[a("div",{style:e.tooltip.style,attrs:{slot:"content"},slot:"content"},[e._v("\n        "+e._s(e.tooltip.text)+"\n      ")]),e._v(" "),a("VyIcon",{staticClass:"embed-toggle-info-icon",attrs:{name:"faInfoCircle",type:"regular"}})],1):e._e(),e._v(" "),!e.embedsAllotment.unlimited?a("VySwitch",{attrs:{id:"embed-toggle",name:"Toggle embeds","aria-label":"Toggle embeds for this "+e.playableTypeText,value:e.embedToggled,disabled:e.embedLimitReached,"data-testid":"webpage-embed-toggle"},on:{input:e.toggleEmbed}}):e._e()],1),e._v(" "),a("div",{staticClass:"embed-option-select"},[a("label",{attrs:{id:"embed-options-menu-label",for:"embed-options-menu"}},[e._v("\n      Embed type\n    ")]),e._v(" "),a("VyMenuRadio",{attrs:{id:"embed-options-menu","labelled-by":"embed-option-menu-label","menu-items":e.menuItems,selected:e.selectedEmbedOption,"full-width":"","data-testid":"webpage-embed-menu"},on:{select:function(t){return e.selectedEmbedOptionId=e.menuItems[t].id}}})],1),e._v(" "),a("ResponsiveEmbedControls",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmbedOptionId==="inline",expression:"selectedEmbedOptionId === 'inline'"}],attrs:{description:"Set a maximum size if you wish.",options:e.options,disabled:e.embedLimitReached,loading:e.loading,"data-testid":"inline-embed"},on:{"copy-clicked":e.handleCopyLinkClicked}}),e._v(" "),a("ResponsiveEmbedControls",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmbedOptionId==="lightbox",expression:"selectedEmbedOptionId === 'lightbox'"}],attrs:{description:"Set maximum dimensions for the thumbnail if you wish.",options:e.options,disabled:e.embedLimitReached,loading:e.loading,lightbox:"","data-testid":"lightbox-embed"},on:{"copy-clicked":e.handleCopyLinkClicked}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmbedOptionId==="iframe",expression:"selectedEmbedOptionId === 'iframe'"}],staticClass:"embed-option"},[a("p",{staticClass:"description"},[e._v("\n      iFrame embeds may limit analytics.\n\n      "),a("span",{staticClass:"description-link-wrapper"},[a("VyLink",{staticClass:"description-link",attrs:{text:"Learn more.","aria-label":"Learn more about iFrame embeds",href:"https://knowledge.vidyard.com/hc/en-us/articles/360010001713-Embed-a-player","open-in-new-tab":""}})],1)]),e._v(" "),a("CopyButton",{staticClass:"embed-copy-button",attrs:{"button-text":"Copy iFrame Code",type:"secondary","text-to-copy":e.iframeEmbedCode,disabled:e.embedLimitReached,loading:e.loading,"data-testid":"iframe-embed-copy","full-width":""},on:{"copy-clicked":e.handleCopyLinkClicked}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectedEmbedOptionId==="shareable",expression:"selectedEmbedOptionId === 'shareable'"}],staticClass:"embed-option"},[a("p",{staticClass:"description"},[e._v("\n      Link people without an account to embedding options.\n    ")]),e._v(" "),a("CopyButton",{staticClass:"embed-copy-button",attrs:{"button-text":"Copy External Editing Link",type:"secondary","text-to-copy":e.devCode,disabled:e.embedLimitReached,loading:e.loading,"data-testid":"shareable-embed-copy","full-width":""},on:{"copy-clicked":e.handleCopyLinkClicked}})],1)],1)};var Kl=[];Zl._withStripped=true;var Ql=a("kkf5");var Xl=a("Iq6z");var ed=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"responsive-embed-controls"},[e.description?a("div",{staticClass:"description",attrs:{"data-testid":e.dataTestid+"-description"}},[e._v("\n    "+e._s(e.description)+"\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"controls"},[a("VyInputV2",{attrs:{label:"Max width","append-with":"px",type:"number",disabled:e.disabled,"data-testid":e.dataTestid+"-max-width"},model:{value:e.maxWidth,callback:function(t){e.maxWidth=t},expression:"maxWidth"}}),e._v(" "),a("VyInputV2",{attrs:{label:"Max height","append-with":"px",type:"number",disabled:e.disabled,"data-testid":e.dataTestid+"-max-height"},model:{value:e.maxHeight,callback:function(t){e.maxHeight=t},expression:"maxHeight"}})],1),e._v(" "),a("ResponsiveCode",{attrs:{options:e.options,"max-width":e.maxWidth,"max-height":e.maxHeight,lightbox:e.lightbox},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.embedCode;return a("CopyButton",{attrs:{"button-text":"Copy Embed Code",type:"secondary","text-to-copy":i,disabled:e.disabled,loading:e.loading,"data-testid":e.dataTestid+"-copy","full-width":""},on:{"copy-clicked":function(t){return e.$emit("copy-clicked")}}})}}])})],1)};var td=[];ed._withStripped=true;var ad=a("Y/ki");var id={name:"ResponsiveEmbedControls",components:{VyInputV2:f["x"],ResponsiveCode:ad["a"],CopyButton:ql["a"]},props:{options:{type:Object,required:true},lightbox:{type:Boolean,default:false},description:{type:String,default:null},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false},dataTestid:{type:String,default:null}},data(){return{maxWidth:"",maxHeight:""}}};var sd=id;var nd=a("ee8Y");var rd=Object(S["a"])(sd,ed,td,false,null,"6653a9cf",null);if(false){var od}rd.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/embed-codes/ResponsiveEmbedControls.vue";var ld=rd.exports;const dd="inline";const cd="lightbox";const ud="iframe";const pd="shareable";var hd={name:"WebpageEmbed",components:{VyBadge:f["g"],VyTooltip:f["U"],VyIcon:f["v"],VySwitch:f["M"],VyMenuRadio:f["A"],VyLink:f["y"],CopyButton:ql["a"],ResponsiveEmbedControls:ld,LoadingSkeletonGroup:ll,LoadingSkeleton:dl["a"]},props:{embedsAllotment:{type:Object,default:undefined}},data(){return{loading:false,embedToggled:false,embedCodesReady:false,selectedEmbedOptionId:dd,shareLink:"",options:{},devCode:"",iframeEmbedCode:""}},computed:{...I["c"].mapState({organizationId:e=>e.organization.id}),...d["c"].mapGetters(["hasFeature"]),...l["b"].mapState({playerUuid:e=>e.uuid,embedEnabled:e=>e.embedEnabled,isPlaylist:e=>e.playerType==="playlist"}),faInfoCircle:()=>Ql["faInfoCircle"],playableTypeText(){return this.hasFeature("video_playlists")&&this.isPlaylist?"playlist":"video"},embedsUsageText(){const{current:e,limit:t,unlimited:a}=this.embedsAllotment;if(a)return"Unlimited Embeds";return"".concat(e,"/").concat(t," embedded")},tooltip(){if(!this.embedEnabled&&this.embedLimitReached){return{text:"You have reached your embed limit."}}if(this.embedsAllotment&&!this.embedsAllotment.unlimited){return{text:"When disabled, this ".concat(this.playableTypeText," will not playback in embedded locations."),style:"white-space: normal; width: 184px;"}}return null},initializing(){return!this.embedsAllotment||!this.embedCodesReady},menuItems(){return[{id:dd,text:"Inline responsive",dataTestid:"embed-options-inline"},{id:cd,text:"Lightbox responsive",dataTestid:"embed-options-lightbox"},{id:ud,text:"iFrame",dataTestid:"embed-options-iframe"},{id:pd,text:"Shareable embed link",dataTestid:"embed-options-shareable"}]},selectedEmbedOption(){return this.menuItems.find((e=>e.id===this.selectedEmbedOptionId))},embedLimitReached(){return!this.initializing&&!this.embedsAllotment.canEmbedOne&&!this.embedEnabled}},watch:{embedEnabled(e){this.embedToggled=e}},mounted(){this.fetchEmbed();this.embedToggled=this.embedEnabled},methods:{...jn["b"].mapActions(["sendApiRequest"]),...I["c"].mapActions(["sendHeapEvent"]),async fetchEmbed(){var e,t,a,i;const{data:s}=await En["a"].get("/organizations/".concat(this.organizationId,"/embed_details/").concat(this.playerUuid));this.shareLink=(e=s.embed_codes)===null||e===void 0?void 0:e.sharing_page;this.options=((t=s.embed_codes)===null||t===void 0?void 0:t.responsive)||{};this.devCode=(a=s.embed_codes)===null||a===void 0?void 0:a.developer_link;this.iframeEmbedCode=(i=s.embed_codes)===null||i===void 0?void 0:i.iframe;this.embedCodesReady=true},async toggleEmbed(e){this.loading=true;this.embedToggled=e;const t=this.embedToggled?Rl["a"].create:Rl["a"].destroy;const{status:a,data:i}=await this.sendApiRequest(t(this.organizationId,this.playerUuid));this.loading=false;if(a<400){this.$emit("embed-toggle:finish")}else{this.embedToggled=!e;f["b"].show(new f["b"]((i===null||i===void 0?void 0:i.error)||"Failed to set embed option",{type:"error",icon:"exclamation-triangle"}))}},async enableEmbed(){if(this.embedLimitReached||this.embedToggled){return}await this.toggleEmbed(true)},async handleCopyLinkClicked(){if(this.selectedEmbedOptionId===dd){this.sendHeapEvent(Object(Xl["c"])("dashboard",{playerUuid:this.playerUuid}))}else if(this.selectedEmbedOptionId===cd){this.sendHeapEvent(Object(Xl["d"])("dashboard",{playerUuid:this.playerUuid}))}else if(this.selectedEmbedOptionId===ud){this.sendHeapEvent(Object(Xl["b"])("dashboard",{playerUuid:this.playerUuid}))}else if(this.selectedEmbedOptionId===pd){this.sendHeapEvent(Object(Xl["g"])("dashboard",{playerUuid:this.playerUuid}))}await this.enableEmbed();this.$emit("update-guided-checklist")}}};var vd=hd;var md=a("QdxG");var fd=Object(S["a"])(vd,Zl,Kl,false,null,"2b9efc72",null);if(false){var bd}fd.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/embed-codes/WebpageEmbed.vue";var gd=fd.exports;var yd=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"email-embed"},[e.initializing?a("LoadingSkeletonGroup",[a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{width:"40%",height:"20px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}}),e._v(" "),a("LoadingSkeleton",{attrs:{height:"40px"}})],1):[a("p",{staticClass:"description"},[e._v("\n      Add a hyperlinked thumbnail to emails and see identified viewers. Setup required.\n      "),a("span",{staticClass:"description-link-wrapper"},[a("VyLink",{staticClass:"description-link",attrs:{text:"Learn more.","aria-label":"Learn more about email campaigns",href:"https://knowledge.vidyard.com/hc/en-us/articles/360009990973-Identify-viewers-in-an-email-campaign","open-in-new-tab":""}})],1)]),e._v(" "),a("div",{staticClass:"destination-select"},[a("label",{attrs:{id:"destination-menu-label",for:"destination-menu"}},[e._v("\n        Destination URL\n      ")]),e._v(" "),a("VyMenuRadio",{attrs:{id:"destination-menu","labelled-by":"destination-menu-label","menu-items":e.destinationTypes,selected:e.selectedDestinationType,"data-testid":"email-embed-menu","full-width":""},on:{select:function(t){return e.selectedDestinationTypeId=e.destinationTypes[t].id}}})],1),e._v(" "),a("VyInputV2",{directives:[{name:"show",rawName:"v-show",value:e.selectedDestinationTypeId==="custom",expression:"selectedDestinationTypeId === 'custom'"}],staticClass:"custom-url-input",attrs:{label:"Custom URL","aria-label":"Custom URL","data-testid":"email-embed-custom-url","full-width":""},model:{value:e.customUrl,callback:function(t){e.customUrl=t},expression:"customUrl"}}),e._v(" "),a("CopyButton",{staticClass:"email-embed-copy-button",attrs:{"button-text":"Copy Email Embed Code",type:"secondary","data-testid":"email-embed-copy","text-to-copy":e.embedCode,"full-width":""},on:{"copy-clicked":e.handleCopyLinkClicked}})]],2)};var _d=[];yd._withStripped=true;var wd={name:"EmailEmbed",components:{VyLink:f["y"],VyMenuRadio:f["A"],VyInputV2:f["x"],CopyButton:ql["a"],LoadingSkeletonGroup:ll,LoadingSkeleton:dl["a"]},data(){return{customUrl:"",selectedDestinationTypeId:"share-page"}},computed:{...d["c"].mapGetters(["hasFeature"]),...l["b"].mapState({playerUuid:e=>e.uuid,playerName:e=>e.name,sharePageUrl:e=>e.embedCodes.sharing_page,isPlaylist:e=>e.playerType==="playlist"}),...v["b"].mapGetters(["selectedThumbnailEmailUrl"]),playableTypeText(){return this.hasFeature("video_playlists")&&this.isPlaylist?"Playlist":"Video"},initializing(){return!this.sharePageUrl},destinationTypes(){return[{id:"share-page",text:"".concat(this.playableTypeText," share page"),dataTestid:"email-embed-options-share-page"},{id:"custom",text:"Custom URL",dataTestid:"email-embed-options-custom"}]},selectedDestinationType(){return this.destinationTypes.find((e=>e.id===this.selectedDestinationTypeId))},destinationUrl(){return this.selectedDestinationTypeId==="custom"?this.customUrl:this.sharePageUrl},embedCode(){return'<a href="'.concat(this.destinationUrl,'" target="_blank" title="').concat(this.playerName,'">\n  <img src="https:').concat(this.selectedThumbnailEmailUrl,'" alt="').concat(this.playerName,'" />\n</a>')}},methods:{...I["c"].mapActions(["sendHeapEvent"]),handleCopyLinkClicked(){this.sendHeapEvent(Object(Xl["a"])("dashboard",{playerUuid:this.playerUuid}))}}};var xd=wd;var Sd=a("IN/i");var kd=Object(S["a"])(xd,yd,_d,false,null,"46fe6dd9",null);if(false){var Cd}kd.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/embed-codes/EmailEmbed.vue";var Pd=kd.exports;var Td=a("5Fr7");var Vd=a("NdHS");var Ad=a("huFF");var Ed=a("6yOI");var Id=a("P6Vd");var Dd={name:"EditRightSidebar",components:{Mailer:ml,MailerSlideout:Sl,AccordionSidebar:kl["a"],SocialOptions:Bl,BasicEmbed:Jl,WebpageEmbed:gd,EmailEmbed:Pd,VyButton:f["j"],VyIcon:f["v"],FocusLock:Re.a},props:{hidden:{type:Boolean,required:true},embedCodesReady:{type:Boolean,required:true,default:false},embedCodes:{type:Object,required:true},embedEnabled:{type:Boolean,required:true},onEmbedToggleFinish:{type:Function,required:true},googleClientId:{type:String,required:true},outlookClientId:{type:String,required:true},baseDomain:{type:String,required:true}},data(){return{mailerSlideoutShowing:false,mailerSlideoutRendered:false,lastActiveElement:null,provider:"",fromName:"",emailAddress:"",accessToken:"",embedsAllotment:undefined,embedsAllotmentReady:false}},computed:{...I["c"].mapState({organizationId:e=>e.organization.id}),...l["b"].mapState(["uuid"]),...d["c"].mapGetters(["hasFeature"]),...v["b"].mapGetters(["selectedThumbnailEmailUrl"]),...c["b"].mapGetters(["hasPermission"]),canEmailShare(){return this.hasPermission("can_email_share_videos")},sections(){const e=[];if(this.canEmailShare){e.push({id:"email",title:"Email Share",icon:"faEnvelope",iconType:"regular",default:true})}e.push({id:"social",title:"Social Share",icon:"faShare",iconType:"regular",default:!this.canEmailShare});if(this.showExtraEmbedOptions){e.push({id:"webpage-embed",title:"Webpage Embed",icon:"webpageCode",iconType:"vidyard"});e.push({id:"email-embed",title:"Email Campaign Embed",icon:"emailCode",iconType:"vidyard"})}else{e.push({id:"embed",title:"Embed",icon:"faCode",iconType:"regular"})}return e},showExtraEmbedOptions(){return this.hasFeature("player_embeds")},embedCode(){return Object(Id["a"])(this.embedCodes.responsive_inline)}},async mounted(){this.fetchEmbedsAllotment();this.setupExtension();No.init({googleClientId:this.googleClientId,outlookClientId:this.outlookClientId,redirectUri:"".concat(this.baseDomain,"/email_callback")});await this.saveAuthInfo({isSilent:true})},methods:{...Ad["b"].mapActions(["setupExtension"]),...h["b"].mapActions(["showStatus"]),...Ed["b"].mapActions(["sendHeapWithPayload"]),toggleSidebar(){this.$emit("toggle-share-sidebar")},toggleMailerSlideout(){if(this.mailerSlideoutShowing){setTimeout((()=>{this.lastActiveElement.focus()}),500)}else{this.lastActiveElement=document.activeElement}this.mailerSlideoutShowing=!this.mailerSlideoutShowing},async saveAuthInfo({isSilent:e,providerName:t}){const a=await No.getAuthInfo(t);if(a){this.provider=a.provider;this.accessToken=a.token;this.fromName=a.name;this.emailAddress=a.email;this.mailerSlideoutShowing=false;if(!e){this.showStatus({success:true,message:"Account connection successful",description:"You're ready to send videos from your email"})}}else if(!e){this.showStatus({success:false,message:"Your account could not be connected",description:"Please try connecting again or connect to another account"})}},clearAuthInfo(){this.provider="";this.accessToken="";this.fromName="";this.emailAddress=""},handleEmbedToggle(){this.fetchEmbedsAllotment();this.onEmbedToggleFinish()},async fetchEmbedsAllotment(){const e=await Object(Td["a"])(this.organizationId,"embeds");if(e){this.embedsAllotment={current:e.current,limit:e.limit,unlimited:e.isUnlimited(),canEmbedOne:e.canAllocate(1)};this.embedsAllotmentReady=true}},async updateGuidedChecklist(){if(this.hasFeature("guided_checklists")){const e="share_video";await Object(Vd["a"])({checklistName:"onboarding",trackerName:e});await this.sendHeapWithPayload({eventName:"Completed - (Checklist Step)",customOptions:{checklistStep:e}})}}}};var Od=Dd;var Ld=a("4IUv");var Bd=Object(S["a"])(Od,lo,co,false,null,"5255d549",null);if(false){var Md}Bd.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/EditRightSidebar.vue";var zd=Bd.exports;var Fd=a("mD5T");var Ud=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("ActionBar",{attrs:{name:e.name,"back-link":e.backLink,"back-link-aria-label":e.backLinkAriaLabel,"show-current-folder":""},scopedSlots:e._u([{key:"right",fn:function(){return[a("div",{key:"right",staticClass:"flex-align-center"},[a("VideoStatus",{staticClass:"video-status",attrs:{"video-status":e.videoStatus}}),e._v(" "),e.hasNotificationSettingsFeature?a("NotificationDropdownContent"):e._e(),e._v(" "),a("div",{staticClass:"share-buttons"},[a("div",{staticClass:"copy-link-buttons"},[a("VyTooltip",{attrs:{content:e.copyLinkAndThumbnailText,placement:"bottom"}},[a("CopyButton",{staticClass:"icon-spacing",attrs:{"aria-label":e.copyLinkAndThumbnailText,loading:!e.shareLink,"heap-name":"copy-link-and-thumbnail"},on:{"copy-clicked":e.handleCopyLinkAndThumbnailClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"copy-link-thumbnail-icon",attrs:{name:"thumbnailLink",type:"vidyard"}})]},proxy:true},{key:"html-to-copy",fn:function(){return[a("CopyThumbnailContent",{attrs:{"thumbnail-url":e.selectedThumbnailEmailUrl,"embed-link":e.shareLink||"",name:e.playerName}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{attrs:{content:e.copyLinkText,show:e.mobile,placement:"bottom"}},[a("CopyButton",{class:{"copy-link-button":!e.mobile},attrs:{"text-to-copy":e.shareLink,"aria-label":e.copyLinkText,loading:!e.shareLink,"button-text":e.mobile?undefined:"Copy Link",type:e.mobile?"tertiary":"primary","no-icon":!e.mobile,"full-width":!e.mobile,"heap-name":"copy-link"},on:{"copy-clicked":e.handleCopyLinkClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faLink",type:"regular"}})]},proxy:true}])})],1)],1),e._v(" "),e.mobile?a("VyButton",{staticClass:"share-toggle-full",attrs:{type:"primary","aria-label":"Show sharing options"},on:{click:e.toggleSidebar}},[e._v("\n          Share\n        ")]):e._e(),e._v(" "),a("VyButton",{staticClass:"share-toggle-min",attrs:{"aria-label":"Show sharing options"},on:{click:e.toggleSidebar}},[a("VyIcon",{attrs:{slot:"icon",name:e.faShare},slot:"icon"})],1)],1),e._v(" "),a("DropdownContent",{attrs:{"preview-url":e.shareLink}}),e._v(" "),e.showPQL?a("div",{staticClass:"UpgradeButton-container"},[a("UpgradeButton",{staticClass:"upgrade-button",attrs:{campaign:"embed-cta","heap-event":"Edit page top bar upgrade prompt clicked"}})],1):e._e()],1)]},proxy:true}])})};var Rd=[];Ud._withStripped=true;var jd=a("nxUQ");var qd=a("eIIN");var Nd=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"notification-dropdown-container"},[a("NotificationPopover",{attrs:{visible:e.showNotificationPopover},on:{"hide-popover":e.handleHidePopover}}),e._v(" "),a("VyTooltip",{attrs:{id:"notification-tooltip",content:"Notification Settings",placement:"bottom"}},[a("VyMenu",{staticClass:"notification-dropdown",attrs:{"menu-items":e.menuItemsEditable,"display-options":{alignRight:true},disabled:e.loading,"aria-label":"My Notification Settings"},on:{action:e.selectMenuItemEditable},scopedSlots:e._u([e.allNotificationsDisabled?{key:"button",fn:function(){return[a("VyButton",{staticClass:"notification-disabled-btn is-icon",attrs:{"aria-haspopup":"menu",loading:e.loading},on:{click:e.handleShowPopover}},[[a("NotificationDropdownIcon",{attrs:{enabled:false}})]],2)]},proxy:true}:{key:"icon",fn:function(){return[a("NotificationDropdownIcon",{attrs:{enabled:e.enabled}})]},proxy:true}],true)})],1)],1)};var $d=[];Nd._withStripped=true;var Hd=a("SvUu");var Yd=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("FocusLock",{attrs:{"no-focus-guards":true,disabled:!e.visible}},[a("VyPopover",{staticClass:"notification-preference-popover",attrs:{text:"To turn notifications on for this video, go to the Notifications Preferences page and turn on â€˜View Notificationsâ€™.",header:"Your notifications are off for all videos",placement:"right","is-visible":e.visible,width:346},on:{close:e.hidePopover},scopedSlots:e._u([{key:"footer",fn:function(){return[a("VyButton",{staticClass:"fr",attrs:{tabindex:"0"},on:{click:e.redirectToNotificationPreferences}},[e._v("\n        Notification Preferences\n      ")])]},proxy:true}])})],1)};var Gd=[];Yd._withStripped=true;var Wd={name:"NotificationPopover",components:{VyPopover:f["D"],VyButton:f["j"],FocusLock:Re.a},props:{visible:{type:Boolean,required:true}},methods:{hidePopover(){this.$emit("hide-popover")},redirectToNotificationPreferences(){this.hidePopover();location.href="/notifications#notifications"}}};var Jd=Wd;var Zd=a("Dbly");var Kd=Object(S["a"])(Jd,Yd,Gd,false,null,"393edf44",null);if(false){var Qd}Kd.options.__file="app/assets/components/video_edit_page/video/NotificationPopover.vue";var Xd=Kd.exports;var ec=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.enabled?a("FontAwesomeIcon",{staticClass:"bell-icon",attrs:{slot:"icon",icon:e.faBell},slot:"icon"}):a("FontAwesomeIcon",{staticClass:"bell-slash-icon",attrs:{slot:"icon",icon:e.faBellSlash},slot:"icon"})};var tc=[];ec._withStripped=true;var ac=a("rT2p");var ic=a("jFcN");var sc=a("zRly");var nc={name:"NotificationDropdownIcon",components:{FontAwesomeIcon:ac["a"]},props:{enabled:{type:Boolean,required:true,default:false}},computed:{faBell:()=>sc["faBell"],faBellSlash:()=>ic["faBellSlash"]}};var rc=nc;var oc=Object(S["a"])(rc,ec,tc,false,null,null,null);if(false){var lc}oc.options.__file="app/assets/components/video_edit_page/common/NotificationDropdownIcon.vue";var dc=oc.exports;var cc={name:"NotificationDropdownContent",components:{VyMenu:f["z"],VyButton:f["j"],NotificationPopover:Xd,NotificationDropdownIcon:dc,VyTooltip:f["U"]},data(){return{playerInteractionNotificationID:null,playerInteractionEmailNotificationID:null,enabled:true,loading:true,allNotificationsDisabled:null,showNotificationPopover:false}},computed:{...I["c"].mapState(["organization","user"]),...l["b"].mapState(["uuid","playerType"]),menuItemsEditable(){const e=[{text:"Turn ".concat(this.enabled?"off":"on"," all notifications for this video")},{text:"Notification Preferences",href:"/notifications#notifications"}];return e}},async mounted(){this.enabled=await this.getNotificationStatus()},methods:{...jn["b"].mapActions(["sendApiRequest"]),...I["c"].mapActions(["sendHeapEvent"]),async getNotificationStatus(){const e={player_uuid:this.uuid};const{data:t}=await this.sendApiRequest(Hd["a"].getPlayer(this.organization.id,e));this.loading=false;this.allNotificationsDisabled=(t===null||t===void 0?void 0:t.all_disabled)===true;return t.enabled},async updateNotifications(){this.loading=true;try{const e={organization_id:this.organization.id,enabled:!this.enabled};await this.sendApiRequest(Hd["a"].updatePlayer(this.organization.id,this.uuid,e));this.enabled=!this.enabled;this.sendHeapEvent({eventName:"Clicked - Turn ".concat(this.enabled?"on":"off"," all notifications for a player"),customOptions:{playerUuid:this.uuid}})}catch{this.showErrorToast("Notifications settings could not be updated. Please try again later!")}finally{this.loading=false}},async selectMenuItemEditable(e){var t;(t=document.getElementById("notification-tooltip"))===null||t===void 0?void 0:t.classList.remove("focused");if(e===0){await this.updateNotifications()}},showErrorToast(e){f["b"].show(new f["b"](e,{type:"error",icon:"exclamation-triangle"}))},handleHidePopover(){this.showNotificationPopover=false},handleShowPopover(){this.showNotificationPopover=true}}};var uc=cc;var pc=a("T+c3");var hc=a("W+7z");var vc=Object(S["a"])(uc,Nd,$d,false,null,"19d8fd51",null);if(false){var mc}vc.options.__file="app/assets/components/video_edit_page/common/NotificationDropdownContent.vue";var fc=vc.exports;var bc=a("bjjx");var gc=a("+Zja");var yc=a("omyK");var _c=a("I4ZG");var wc={name:"MailerTopBar",components:{ActionBar:bc["a"],DropdownContent:qd["a"],NotificationDropdownContent:fc,UpgradeButton:Ra["a"],VideoStatus:gc["a"],VyButton:f["j"],VyIcon:f["v"],CopyButton:ql["a"],CopyThumbnailContent:yc["a"],VyTooltip:f["U"]},props:{name:{type:String,required:true},backLink:{type:String,required:true},backLinkAriaLabel:{type:String,required:false,default:"Back"}},data(){return{showPQL:false,copyLinkAndThumbnailText:"Copy link and thumbnail",copyLinkText:"Copy link",faShare:_c["faShare"],mobile:false}},computed:{...I["c"].mapState(["organization"]),...d["c"].mapGetters(["hasFeature"]),...v["b"].mapGetters(["selectedThumbnailEmailUrl"]),...Ne["b"].mapGetters(["videoStatus"]),...l["b"].mapState({playerUuid:e=>e.uuid,playerName:e=>e.name,embedCodes:e=>e.embedCodes}),hasNotificationSettingsFeature(){return this.hasFeature("notifications_settings")},shareLink(){return this.embedCodes.sharing_page}},mounted(){this.displayPQL();this.debouncedMobileCheck=qe()(this.mobileCheck,200);this.mobileCheck();window.addEventListener("resize",this.debouncedMobileCheck)},beforeDestroy(){window.removeEventListener("resize",this.debouncedMobileCheck)},methods:{...I["c"].mapActions(["sendHeapEvent"]),...Ed["b"].mapActions(["sendHeapWithPayload"]),async handleCopyLinkClicked(){this.sendHeapEvent(Object(Xl["f"])("dashboard",{playerUuid:this.playerUuid}));const e="share_video";if(this.hasFeature("guided_checklists")){await Object(Vd["a"])({checklistName:"onboarding",trackerName:e});await this.sendHeapWithPayload({eventName:"Completed - (Checklist Step)",customOptions:{checklistStep:e}})}},async handleCopyLinkAndThumbnailClicked(){this.sendHeapEvent(Object(Xl["e"])("dashboard",{playerUuid:this.playerUuid}));const e="share_video";if(this.hasFeature("guided_checklists")){await Object(Vd["a"])({checklistName:"onboarding",trackerName:e});await this.sendHeapWithPayload({eventName:"Completed - (Checklist Step)",customOptions:{checklistStep:e}})}},async displayPQL(){const e=await Object(jd["a"])(this.organization.id,"embeds");this.showPQL=e.show},mobileCheck(){if(window.innerWidth>=800){this.mobile=false}else{this.mobile=true}},toggleSidebar(){this.$emit("toggle-share-sidebar")}}};var xc=wc;var Sc=a("OeSq");var kc=Object(S["a"])(xc,Ud,Rd,false,null,"13170041",null);if(false){var Cc}kc.options.__file="app/assets/components/video_edit_page/edit-right-sidebar/MailerTopBar.vue";var Pc=kc.exports;var Tc=a("uxXt");var Vc={name:"VideoEditPage",components:{PageLayout:Tc["a"],EditPageSidebar:n["a"],EditVideo:hn,EditPlaylist:oo,EditRightSidebar:zd,Heading:f["a"],MailerTopBar:Pc,TopBar:Fd["a"]},props:{npsSurveyId:{type:Number,required:false,default:0},backLink:{type:String,required:true},googleClientId:{type:String,required:true},outlookClientId:{type:String,required:true},baseDomain:{type:String,required:true}},data(){return{sidebarShowing:window.innerWidth>=800,lastWidth:window.innerWidth}},computed:{...I["c"].mapState(["user"]),...d["c"].mapGetters(["hasFeature"]),...h["b"].mapState(["canAccessMailer"]),...l["b"].mapState({playerUuid:e=>e.uuid,playerName:e=>e.name,isPlaylist:e=>e.playerType==="playlist",embedEnabled:e=>e.embedEnabled,embedCodes:e=>e.embedCodes}),topBarProps(){return{name:"Edit ".concat(this.playerName),backLink:this.hasFeature("video_playlists")?this.backLink:"",backLinkAriaLabel:this.hasFeature("video_playlists")?"Back to Library":""}},showLeftSidebar(){return this.hasFeature("new_video_edit_page")&&!(this.hasFeature("video_playlists")&&this.isPlaylist)},showRightSidebar(){return this.hasFeature("in_platform_mailer")&&(this.user.vyAdmin||this.canAccessMailer)},embedCodesReady(){return!Ul()(this.embedCodes)}},mounted(){if(this.showRightSidebar){window.onresize=()=>{if(this.lastWidth!==window.innerWidth&&(!this.sidebarShowing&&window.innerWidth>=800||this.sidebarShowing&&window.innerWidth<800)){this.toggleSidebar();this.lastWidth=window.innerWidth}}}this.scrollToInitialSection()},methods:{...l["b"].mapActions(["getEmbedData","getEmbedEnabled"]),scrollToInitialSection(){if(window.location.hash){const e=document.querySelector(window.location.hash);if(e){setTimeout((()=>{e.scrollIntoView()}),500)}}},toggleSidebar(){this.sidebarShowing=!this.sidebarShowing},onEmbedToggleFinish(){this.getEmbedData();this.getEmbedEnabled();this.$emit("embedToggled")}}};var Ac=Vc;var Ec=Object(S["a"])(Ac,i,s,false,null,null,null);if(false){var Ic}Ec.options.__file="app/assets/components/video_edit_page/video/video-edit-page.vue";var Dc=Ec.exports;var Oc=a("Qnb3");var Lc=a("Ytlw");Object(Lc["a"])(Dc,{store:Oc["a"]})},RJu1:function(e,t,a){"use strict";var i=a("n5AL");var s=a.n(i);var n=s.a},RSyv:function(e,t,a){e.exports=a.p+"play-button-dashed-1e3ccb34eeb1ff09e410d1289064c7d6.svg"},RUJK:function(e,t,a){"use strict";var i=a("Hgz2");var s=a.n(i);var n=s.a},RVsj:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".security-card[data-v-3bdee49e]{margin-top:8px}.security-card.primary-video[data-v-3bdee49e] >.vy-card__content{border:thin solid #a9b0c9}.security-card .wrapper-left[data-v-3bdee49e]{display:flex;justify-content:flex-start;align-items:center;float:left}.security-card .wrapper-left .video-security-icon[data-v-3bdee49e]{margin-right:20px}.security-card .wrapper-left .text[data-v-3bdee49e]{color:#5b627d;font-size:12px}.security-card .wrapper-left .text .title[data-v-3bdee49e]{margin:0;font-size:14px;line-height:1.5}.security-card .wrapper-right[data-v-3bdee49e]{display:flex;align-items:center;justify-content:flex-end}",""]);e.exports=s},RaLr:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",{staticClass:"uppy-input"}),e._v(" "),e.uppy&&e.useStatusBar?a("UploaderStatusBar",{attrs:{uppy:e.uppy},on:{"cancel-all":e.statusBarCancel}}):e._e(),e._v(" "),e.uppy&&e.useDragDrop?a("DragUploader",{attrs:{uploader:e.uppy}}):e._e(),e._v(" "),a("VyDialog",{attrs:{title:"Are you sure?","aria-label":"Warning - stop all video uploads in progress?",size:"tiny",visible:e.confirmCancelUploads,"show-close":false},on:{"update:visible":function(t){e.confirmCancelUploads=t}}},[e._v("\n    This will stop all video uploads currently in progress.\n\n    "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("VyButton",{on:{click:function(t){e.confirmCancelUploads=false}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"danger"},on:{click:function(t){return e.cancelCurrentUploads()}}},[e._v("\n        Stop upload\n      ")])],1)])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("UxlC");var o=a("3bBZ");var l=a("Kz25");var d=a("xk4V");var c=a.n(d);var u=a("wd/R");var p=a.n(u);var h=a("uIBO");var v=a.n(h);var m=a("UfDZ");var f=a.n(m);var b=a("LTza");var g=a.n(b);var y=a("AJ2z");var _=a.n(y);var w=a("fues");var x=a.n(w);var S=a("boei");var k=a.n(S);var C=a("nbMm");var P=a("lN98");var T=a.n(P);var V=a("W8xq");var A=a("EPGf");var E=a("L2JU");var I=a("rDkq");var D=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.uploadState!==e.states.waiting?a("aside",{class:"uppy-Root uppy-StatusBar is-"+e.uploadState+" statusBarContainer",attrs:{"aria-label":"Video upload progress","aria-hidden":e.uploadState===e.states.waiting}},[a("div",{class:"uppy-StatusBar-progress "+(e.progressMode?"is-"+e.progressMode:""),style:{width:e.progressValue+"%"},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.progressValue}}),e._v(" "),a("div",{staticClass:"sr-only",attrs:{"aria-live":"passive"}},[e._v("\n    "+e._s(e.uploadStatusScreenreaderText)+"\n  ")]),e._v(" "),e.uploadState===e.states.preprocessing?a("div",{staticClass:"uppy-StatusBar-content"},[e._v("\n    Preparing upload: 0%\n  ")]):e.uploadState===e.states.postprocessing?a("div",{staticClass:"uppy-StatusBar-content"},[e._v("\n    Processing\n  ")]):e.uploadState===e.states.uploading?a("div",{staticClass:"uppy-StatusBar-content",attrs:{"aria-label":"uploading",title:"uploading"}},[a("div",{staticClass:"uppy-StatusBar-status"},[a("div",{staticClass:"uppy-StatusBar-statusPrimary"},[e._v("\n        Uploading: "+e._s(e.percentageUploaded)+"%\n      ")]),e._v(" "),a("div",{staticClass:"uppy-StatusBar-statusSecondary"},[e._v("\n        "+e._s(e.fileCountText())+"\n        "),a("span",{staticClass:"uppy-StatusBar-additionalInfo"},[e._v("\n          "+e._s(e.prettyBytes(e.bytesUploaded())+" of "+e.prettyBytes(e.bytesTotal()))+"\n          "+e._s(" Â· "+e.prettyETA(e.totalETA()))+"\n        ")])])])]):e.uploadState===e.states.complete?a("div",{staticClass:"uppy-StatusBar-content",attrs:{role:"status",title:"complete"}},[e._m(0)]):e.uploadState===e.states.error?a("div",{staticClass:"uppy-StatusBar-content",attrs:{role:"alert",title:"uploadFailed"}},[e._m(1)]):e._e(),e._v(" "),a("div",{staticClass:"uppy-StatusBar-actions"},[e.uploadState===e.states.uploading||e.uploadState===e.states.completed||e.uploadState===e.states.error?a("div",{staticClass:"uppy-button-container"},[e.uploadState===e.states.error?a("VyButton",{staticClass:"retry-button",attrs:{id:"retry-button","aria-label":"retry upload"},on:{click:e.uppy.retryAll}},[a("VyIcon",{staticClass:"fa-lg icon-color",attrs:{id:"left-icon",name:e.faRedo}})],1):e._e(),e._v(" "),a("VyButton",{staticClass:"cancel-button",attrs:{id:"cancel-button","aria-label":"cancel upload"},on:{click:e.cancelAll}},[a("VyIcon",{staticClass:"fa-lg icon-color",attrs:{id:e.uploadState===e.states.error?"right-icon":"center-icon",name:"faTimes",type:"regular"}})],1)],1):e._e()])]):e._e()};var O=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"uppy-StatusBar-status"},[a("div",{staticClass:"uppy-StatusBar-statusPrimary"},[e._v("\n        Upload completed successfully\n      ")])])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"uppy-StatusBar-status"},[a("div",{staticClass:"uppy-StatusBar-statusPrimary"},[e._v("\n        Oops, looks like the upload failed, let's try again.\n      ")])])}];D._withStripped=true;var L=a("HEyM");var B=a.n(L);var M=a("+54/");var z=a.n(M);var F=a("PMVu");var U=a.n(F);var R=a("GoYG");var j=a.n(R);var q=a("WqN8");var N={components:{VyButton:C["j"],VyIcon:C["v"]},props:{uppy:{type:Object,required:true}},data(){return{uppyInitialized:false,states:{error:"error",waiting:"waiting",preprocessing:"preprocessing",uploading:"uploading",postprocessing:"postprocessing",complete:"complete"},uploadState:"waiting",percentageUploaded:0,faRedo:q["faRedo"],prettyBytes:B.a,prettyETA:j.a,hasFocused:false}},computed:{processingFiles(){return this.files().filter((({progress:e})=>!e.uploadStarted||e.uploadComplete))},progressMode(){return this.processingFiles[0]?this.processingFiles[0].mode:""},progressValue(){let e=this.percentageUploaded;if(this.uploadState===this.states.preprocessing||this.uploadState===this.states.postprocessing){if(this.progressMode==="determinate"){const t=this.processingFiles.map((({progress:e})=>e.preprocess||e.postprocess)).filter((({mode:e})=>e==="determinate")).reduce(((e,t,a,i)=>e+t.value/i.length),0);e=t*100}}else if(this.uploadState===this.states.error){e=100}return e},uploadStatusScreenreaderText(){switch(this.uploadState){case this.states.uploadStarted:return"preparing upload";case this.states.uploading:return"upload begun";case this.states.uploadComplete:return"upload has completed";case this.states.error:return"upload failed";default:return""}}},watch:{uppy(e){if(e){this.watchUppyEvents()}}},methods:{files(){return Object.keys(this.uppy).length?this.uppy.getFiles():[]},fileCountText(){const e=this.files().filter((({progress:e})=>e.uploadComplete));return this.files().length>1?"".concat(e.length," of ").concat(this.files().length," files uploaded  Â· "):""},bytesTotal(){return this.files().filter((({progress:e})=>e.uploadStarted)).reduce(((e,{progress:t})=>e+(t.bytesTotal||0)),0)},bytesUploaded(){return this.files().filter((({progress:e})=>e.uploadStarted)).reduce(((e,{progress:t})=>e+(t.bytesUploaded||0)),0)},cancelAll(){this.$emit("cancel-all")},watchUppyEvents(){if(this.uppyInitialized){return}this.uppy.on("upload",(()=>{this.hasFocused=false}));this.uppy.on("file-added",(()=>{this.refreshUploadState()}));this.uppy.on("upload-progress",(()=>{this.refreshUploadState();this.percentageUploaded=this.uppy.getState().totalProgress;if(!this.hasFocused&&document.querySelector(".cancel-button")){const e=document.querySelector(".cancel-button");e.focus();this.hasFocused=true}}));this.uppy.on("upload-error",(()=>{if(this.uppy.getState().error){this.uploadState=this.states.error}}));this.uppy.on("cancel-all",(()=>{this.uploadState=this.states.waiting}));this.uppy.on("complete",(()=>{if(this.files().every((({progress:e})=>e.uploadComplete))){this.uploadState=this.states.complete;this.uppy.reset()}}));this.uppyInitialized=true},refreshUploadState(){const{currentUploads:e}=this.uppy.getState();if(e&&Object.keys(e).length){this.uploadState=this.states.uploading}else if(this.files().every((({progress:e})=>!e.uploadStarted&&!e.uploadComplete))){this.uploadState=this.states.preprocessing}else if(this.files().every((({progress:e})=>e.uploadComplete))){this.uploadState=this.states.postprocessing}},totalETA(){const e=this.files().filter((e=>!e.progress.uploadComplete&&!e.isPaused));const t=e.reduce(((e,{progress:t})=>e+z()(t)),0);if(t===0)return 0;const a=e.reduce(((e,{progress:t})=>e+U()(t)),0);return Math.round(a/t*10)/10}}};var $=N;var H=a("QDPC");var Y=a("KHd+");var G=Object(Y["a"])($,D,O,false,null,null,null);if(false){var W}G.options.__file="app/assets/components/common/widgets/uploader/uploader-status-bar.vue";var J=G.exports;var Z=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"drag-drop-area",class:e.dragging?"dragging":"not-dragging",on:{dragenter:function(t){t.preventDefault();t.stopPropagation();return e.allowDrop(t)},dragleave:function(t){t.preventDefault();t.stopPropagation();e.dragging=false},dragover:function(e){e.preventDefault();e.stopPropagation()},drop:function(t){t.preventDefault();t.stopPropagation();return e.dropped(t)}}},[e._m(0)])};var K=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{attrs:{id:"drag-drop-inner"}},[a("div",{attrs:{id:"icon-container"}},[a("i",{staticClass:"fas fa-upload",attrs:{id:"icon"}})]),e._v(" "),a("span",{staticClass:"drag-drop-note"},[e._v("\n      Drag your audio or video files here to upload\n    ")])])}];Z._withStripped=true;var Q=a("2HYS");var X=a.n(Q);var ee={props:{uploader:{type:Object,required:true}},data(){return{dragging:false}},mounted(){document.addEventListener("dragenter",(e=>{e.preventDefault();e.stopPropagation();this.allowDrop(e)}))},methods:{addFile(e){try{this.uploader.addFile({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})}catch(e){let t;if(e.message.startsWith("You can only upload:")){const{allowedFileTypes:e}=this.uploader.opts.restrictions;if(e.includes("text/csv")){t="You must upload a CSV file"}else{t="You must upload a video or an audio file"}}else{t="Something went wrong, please try again"}C["b"].show(new C["b"](t,{type:"error",title:"An Error Occurred",icon:"exclamation-triangle"}));this.uploader.log(e)}},allowDrop(e){const t=e.dataTransfer;const a=t.types.indexOf?t.types.indexOf("Files")!==-1:t.types.contains("Files");if(t.types&&a){this.dragging=true}},dropped(e){e.dataTransfer.dropEffect="copy";this.dragging=false;this.uploader.log("[DragDrop] File were dropped");X()(e.dataTransfer).then((e=>{e.forEach(this.addFile)}))}}};var te=ee;var ae=a("nWfI");var ie=Object(Y["a"])(te,Z,K,false,null,null,null);if(false){var se}ie.options.__file="app/assets/components/common/widgets/uploader/drag-uploader.vue";var ne=ie.exports;var re={components:{VyButton:C["j"],VyDialog:C["r"],UploaderStatusBar:J,DragUploader:ne},props:{uploading:{type:Boolean,required:true},uploaderId:{type:String,required:true},fileType:{type:Array,required:true,validator:e=>{if(e instanceof Array){return e.every((e=>["video","thumbnail","audio","csv","zip"].includes(e)))}return false}},organizationId:{type:Number,required:true},useStatusBar:{type:Boolean,default:false},useDragDrop:{type:Boolean,default:false},useMultipart:{type:Boolean,default:true},additionalUploadOptions:{type:Object,default:undefined},reduxStore:{type:Object,default:null},maxFileSize:{type:Number,default(){if(this.useMultipart){return 20*1e3*1e3*1e3}return 5*1e3*1e3*1e3}},fileLocation:{type:String,default:undefined},awsConfigName:{type:String,default:"vidyard",validator:e=>{const t=["vidyard","blender"];if(t.includes(e))return true;return false}}},data(){return{uppy:{},maxUploadAttempts:3,uploadThresholdNotice:20,uploadThresholdNoticeDisplayed:false,showCloseButton:false,completeClearTimeout:null,confirmCancelUploads:false,fileTypeInfo:{video:{type:["video/*","video/3gpp","video/3gpp2","video/mp4","video/ogg","video/x-flv","video/x-m4v"]},audio:{type:["audio/*","audio/mpeg","audio/wav","audio/aiff","audio/x-ms-wma","audio/mp4","audio/ogg","audio/flac"]},thumbnail:{type:["image/jpeg","image/png","image/gif"]},csv:{type:["text/csv"]},zip:{type:["application/zip"]}}}},computed:{...Object(E["g"])({awsConfig(e){return e.aws[this.awsConfigName]}})},watch:{uploading(e){if(e){this.beginUpload()}if(!e){this.endUpload()}}},mounted(){this.initUppy();this.createUppyEvents()},methods:{...V["b"].mapMutations(["updateShowPermissionsDialog"]),...A["b"].mapActions(["sendDatadogLog"]),getFileType(e){const t=Object.keys(this.fileTypeInfo).filter((t=>this.fileTypeInfo[t].type.some((t=>e.type.match(t)))));if(t.length>0){return t[0]}const a="File type could not be mapped to the supported file types.";const i=new C["b"](a,{type:"error",title:"An Error Occurred",icon:"exclamation-triangle"});C["b"].show(i)},getFileLocation(e){if(this.fileLocation)return this.fileLocation;const t={video:"uploads/videos",audio:"uploads/videos",thumbnail:"uploads/thumbnails",csv:"uploader/finedrop",zip:"uploader/finedrop"};const a=this.getFileType(e);if(a!==undefined)return t[a]},getAllowedFileTypes(){return this.fileType.reduce(((e,t)=>{if(this.fileTypeInfo[t]!==undefined){return e.concat(...this.fileTypeInfo[t].type)}return e}),[])},beforeFileAdded(e){const t=this.uppy.getState().files;if(t&&Object.keys(t).length>=this.uploadThresholdNotice&&!this.uploadThresholdNoticeDisplayed){C["b"].show(new C["b"]("Upload performance may degrade uploading many files at once",{type:"info",title:"Upload performance notice",icon:"info-circle"}));this.uploadThresholdNoticeDisplayed=true}if(this.fileType.includes("thumbnail")&&!this.fileTypeInfo.thumbnail.type.some((t=>e.type.match(t)))){C["b"].show(new C["b"]("Uploaded file must be an image (JPEG, PNG, or GIF)",{type:"error",title:"Invalid file extension",icon:"exclamation-triangle"}));return false}if(e.data.size!=null&&e.data.size>this.maxFileSize){C["b"].show(new C["b"]("File size must be less than ".concat(T()(this.maxFileSize)),{type:"error",title:"File size too large",icon:"exclamation-triangle"}));return false}},initUppy(){const e=this.store?x()({store:this.store,id:this.uploaderId}):_()();this.uppy=v()({id:this.uploaderId,autoProceed:true,restrictions:{maxFileSize:this.maxFileSize,allowedFileTypes:this.getAllowedFileTypes()},store:e,onBeforeFileAdded:this.beforeFileAdded});if(this.useMultipart){this.uppy.use(g.a,{companionUrl:"/",limit:3})}else{this.uppy.use(f.a,{getUploadParameters:this.getAwsCredentials,timeout:300*1e3})}this.uppy.use(k.a,{target:".uppy-input",pretty:false})},async getAwsCredentials(e,t=1){const{awsAccessKey:a,awsRegion:i,awsBucket:s,isS3Accelerated:n}=this.awsConfig;const r=p()().utc().format("YYYYMMDD[T]HHmmss[Z]");const o=p()().utc().format("YYYYMMDD");const l="".concat(a,"/").concat(o,"/").concat(i,"/s3/aws4_request");const d=p()().add(5,"minutes").toISOString();const u="".concat(c()(),".").concat(e.extension);const h="".concat(this.getFileLocation(e),"/").concat(u);try{const t=await I["a"].post("/api/v1.1/upload/signed_request?v4=true",{expiration:d,conditions:[{acl:"private"},{bucket:s},{"Content-Type":e.type},{success_action_status:"200"},{"x-amz-algorithm":"AWS4-HMAC-SHA256"},{key:h},{"x-amz-credential":l},{"x-amz-date":r},{"x-amz-meta-qqfilename":e.meta.name},["content-length-range","0","16106127360"]]});const a=n?"https://".concat(s,".s3-accelerate.amazonaws.com"):"https://".concat(s,".s3.amazonaws.com");return{method:"post",url:a,fields:{key:h,"Content-Type":e.type,success_action_status:"200",acl:"private","x-amz-meta-qqfilename":e.meta.name,"x-amz-algorithm":"AWS4-HMAC-SHA256","x-amz-credential":l,"x-amz-date":r,policy:t.data.policy,"x-amz-signature":t.data.signature}}}catch(a){if(t<this.maxUploadAttempts){return this.getAwsCredentials(e,t+1)}this.$rollbar.error(a);return{}}},uploadFile(e){if(["video","audio"].includes(this.getFileType(e))){this.uploadVideo(e)}},async uploadVideo(e,t=1){const{key:a}=e.meta;const{awsBucket:i}=this.awsConfig;const s=a.replace("uploads/videos/","").replace(".".concat(e.extension),"");const n="/api/v1/organizations/".concat(this.organizationId);const r=e.meta.name.replace(/\.[^.]+$/,"").replace(/<|>/g,"");try{await I["a"].post("".concat(n,"/videos"),{upload_version:2,upload_organization_id:this.organizationId,origin:"upload",key:a,uuid:s,name:r.substring(0,100),bucket:i,upload_url:"s3://".concat(i,"/").concat(a),...this.additionalUploadOptions});this.$emit("video-created");this.$emit("update:uploading",false);setTimeout((()=>{this.$emit("file-uploaded")}),1e3)}catch(a){if(t>=this.maxUploadAttempts){this.$rollbar.error(a);this.sendDatadogLog({message:"Recording in Dashboard Uploader: Failed to create video",status:"error",error:a});this.$emit("video-creation-failed");if(a.response.status===403){this.updateShowPermissionsDialog(true)}else{var o,l;const e=(o=a.response)===null||o===void 0?void 0:(l=o.data)===null||l===void 0?void 0:l.error;let t;if(e===null||e===void 0?void 0:e.includes("Name is too long")){t="File name is too long"}const i=t||"Something went wrong when uploading your video. Please try again";const s=new C["b"](i,{type:"error",title:"An Error Occurred",icon:"exclamation-triangle"});C["b"].show(s)}this.uppy.reset();this.$emit("update:uploading",false)}else{setTimeout((()=>this.uploadVideo(e,t+1)),500)}}},createUppyEvents(){this.uppy.on("file-added",(()=>{clearTimeout(this.completeClearTimeout)}));this.uppy.on("file-removed",(()=>{if(this.allUploadsCompleted()){window.onbeforeunload=null}}));this.uppy.on("upload",(()=>{window.onbeforeunload=()=>"Changes you made may not be saved."}));this.uppy.on("upload-success",((e,t)=>{if(this.useMultipart){e.meta.key=new URL(t.uploadURL).pathname.replace(/^\/+/,"")}this.$emit("upload-success",e);this.uploadFile(e)}));this.uppy.on("complete",(e=>{const t=this.allUploadsCompleted();if(t){window.onbeforeunload=null;this.confirmCancelUploads=false}const a=e.successful.length;if(a>0){this.$emit("upload-complete",a)}this.showCloseButton=!(e.failed.length>0)&&t;if(t&&e.failed.length===0){this.setDismissTimeout()}}));this.uppy.on("upload-error",((e,t)=>{this.$emit("upload-error",{file:e,error:t});this.$emit("update:uploading",false);this.$rollbar.error(t);const a="Something went wrong when uploading your video. Please try again";const i=new C["b"](a,{type:"error",title:"An Error Occurred",icon:"exclamation-triangle"});C["b"].show(i);this.$emit("update:uploading",false)}));this.uppy.on("upload-retry",(()=>{this.$emit("upload-retry")}));this.uppy.on("cancel-all",(()=>{this.$emit("uploads-cancelled")}))},closeEvent(){this.uppy.reset();this.showCloseButton=false},setDismissTimeout(e=2e4){clearTimeout(this.completeClearTimeout);this.completeClearTimeout=setTimeout((()=>this.closeEvent()),e)},allUploadsCompleted(){const{currentUploads:e}=this.uppy.getState();const t=!Object.values(e).some((e=>Object.keys(e.result).length===0&&e.result.constructor===Object));if(t){this.$emit("upload-finished")}return t},beginUpload(e){this.$emit("upload-clicked");this.uppy.getPlugin("FileInput").handleClick(e);this.$emit("update:uploading",false)},endUpload(){this.confirmCancelUploads=false},statusBarCancel(){this.$emit("update:uploading",false);this.confirmCancelUploads=true},cancelCurrentUploads(){this.confirmCancelUploads=false;this.uppy.cancelAll();this.$emit("upload-finished")}}};var oe=re;var le=a("nnKP");var de=a("1u+Y");var ce=a.n(de);var ue=Object(Y["a"])(oe,i,s,false,null,null,null);if(typeof ce.a==="function")ce()(ue);if(false){var pe}ue.options.__file="app/assets/components/common/widgets/uploader/uploader.vue";var he=t["a"]=ue.exports},Rels:function(e,t,a){var i=a("cazf");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("fd47fbea",i,false,{});if(false){}},Ru7K:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.table-container .table-body[data-v-68168f10]:after,.table-container .table-body[data-v-68168f10]:before{height:10px;display:table-row;content:""}.table-container.demo-mode[data-v-68168f10]{margin-top:20px;margin-bottom:100px;overflow:visible;border:.1rem dashed #c8cee3;border-radius:4px}@media (max-width:700px){.table-container.demo-mode[data-v-68168f10]{overflow:auto hidden}}.table-container .line .contents[data-v-68168f10]{display:flex}.table-container .line .contents p[data-v-68168f10]{margin:5px 10px}.table-container .table[data-v-68168f10]{width:100%;min-width:600px;margin-bottom:0;table-layout:fixed}.table-container .infinite-loading-cell[data-v-68168f10]{padding:0}.table-container .infinite-slot-container[data-v-68168f10]{padding-top:16px;padding-bottom:16px;margin:auto;line-height:1.5;width:40%}.table-container .infinite-slot-container.no-results-container[data-v-68168f10]{color:#606782;margin:56px auto;width:70%}.table-container .infinite-slot-container.no-results-container .no-results[data-v-68168f10]{display:flex;align-items:center}.table-container .infinite-slot-container.no-results-container .no-results .no-results__body-wrapper[data-v-68168f10]{flex:1;text-align:left}.table-container .infinite-slot-container.no-results-container .no-results .no-results__body-wrapper p[data-v-68168f10]{max-width:320px}.table-container .infinite-slot-container.no-results-container .no-results .no-results__image-wrapper[data-v-68168f10]{flex:1}.table-container .infinite-slot-container.no-results-container .no-results .no-results__image-wrapper img[data-v-68168f10]{max-height:175px}.table-container .infinite-slot-container.error-container[data-v-68168f10]{width:40%}.table-container .infinite-slot-container .try-again-button[data-v-68168f10]{margin-top:16px}.no-results-image[data-v-68168f10]{max-width:200px}.no-results-title[data-v-68168f10]{font-size:18px;margin-top:0}',""]);e.exports=s},S7Ke:function(e,t,a){var i=a("JViB");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("5fb707ca",i,false,{});if(false){}},SFoW:function(e,t,a){var i=a("LYMS");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("5301ec91",i,false,{});if(false){}},SVh9:function(e,t,a){"use strict";var i=a("WU/D");var s=a.n(i);var n=s.a},Ssd7:function(e,t,a){"use strict";var i=a("ljLh");var s=a.n(i);var n=s.a},SvUu:function(e,t,a){"use strict";t["a"]={getPlayer:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/notification_settings/player"),params:t}),updatePlayer:(e,t,a)=>({method:"PUT",url:"/api/v1/organizations/".concat(e,"/notification_settings/player/").concat(t),data:a}),updateSetting:(e,t,a)=>({method:"PUT",url:"/api/v1/organizations/".concat(e,"/notification_settings/").concat(t),data:a}),index:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/notification_settings"),params:t})}},SySD:function(e,t,a){var i=a("ajAY");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("cfe7295e",i,false,{});if(false){}},"T+c3":function(e,t,a){"use strict";var i=a("FS8L");var s=a.n(i);var n=s.a},TYCv:function(e,t,a){var i=a("4TO3");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("389c2f74",i,false,{});if(false){}},Ta7o:function(e,t,a){"use strict";var i=a("ltRM");var s=a.n(i);var n=s.a},TeML:function(e,t,a){var i=a("52Xg");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("366562dd",i,false,{});if(false){}},Tlmj:function(e,t,a){var i=a("ICIA");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("fa1fc6e2",i,false,{});if(false){}},TxVX:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".channel-user[data-v-854e26da]{font-weight:500;color:#374054}.no-sub-text[data-v-854e26da]{padding-top:4px}.account-radio[data-v-854e26da] .vy-radio__label{display:flex;justify-content:space-between;width:100%}",""]);e.exports=s},U7pM:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".contact-admin[data-v-20e87004]{display:flex;align-items:center;margin:0 16px 48px}.contact-admin p[data-v-20e87004]{margin:16px}",""]);e.exports=s},UEbN:function(e,t,a){"use strict";a.d(t,"b",(function(){return v}));a.d(t,"a",(function(){return m}));var i=a("avfj");var s=a.n(i);var n=a("MSUY");var r=a.n(n);var o=a("C5GM");var l=a.n(o);var d=a("oAAx");var c=a.n(d);var u=a("gB52");var p=a.n(u);var h=a("k7PI");const v={anyone:{name:"Anyone with a link",icon:i["faLink"],securityType:h["e"]},password:{name:"Anyone with a password",icon:n["faKey"],securityType:h["f"]},public:{name:"Discoverable on Google and other search engines",icon:u["faGlobe"],securityType:h["g"]},ipWhitelist:{name:"Only viewers within an IP Address",icon:o["faBuilding"],securityType:h["c"]},ipWhitelistAndPassword:{name:"Only viewers within an IP Address AND with a password",icon:o["faBuilding"],securityType:h["d"]},securePlatform:{name:"Only viewers with a secure platform",icon:d["faUserShield"],securityType:h["h"]}};const m={securityApplied:"This playlist inherits access settings from the videos within.",securityNotApplied:"This playlist inherits access settings from the videos within. Edit videos to edit who can see this playlist."}},URN4:function(e,t,a){var i=a("/CPO");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("09c79022",i,false,{});if(false){}},UfW7:function(e,t,a){var i=a("HWVp");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("123efa48",i,false,{});if(false){}},Urjw:function(e,t,a){"use strict";var i=a("VJ4V");var s=a.n(i);var n=s.a},"V1+/":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".inline-code[data-v-450ec488]{flex-direction:column;height:180px}.inline-code[data-v-450ec488],.inline-code__size[data-v-450ec488]{display:flex;justify-content:space-between}.inline-code__size[data-v-450ec488]{margin-top:20px}.inline-code__size-controls[data-v-450ec488]{display:flex}.inline-code__size-controls>*[data-v-450ec488]{margin-left:20px;width:100px}",""]);e.exports=s},VJ4V:function(e,t,a){var i=a("LDpA");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0f448202",i,false,{});if(false){}},VQ4C:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".yt>div[data-v-70306ac2]{margin:32px 0}.yt>div[data-v-70306ac2]:first-child{margin-top:16px}.yt-blurb[data-v-70306ac2],.yt-blurb .yt-icon[data-v-70306ac2]{display:flex;align-items:center}.yt-blurb .yt-icon[data-v-70306ac2]{background-color:#da2025;width:36px;height:36px;float:left;border-radius:4px;justify-content:center;margin-right:16px}.yt-blurb svg[data-v-70306ac2]{color:#fff;font-size:16px}.yt-connect[data-v-70306ac2]{display:flex;align-items:center;border-radius:4px;background-color:#f5f9ff;padding:16px}.yt-connect p[data-v-70306ac2]{flex:1;margin:0 16px 0 0}.yt-finalize[data-v-70306ac2]{text-align:center;margin:32px 0}.yt-finalize p[data-v-70306ac2]{margin-top:16px}",""]);e.exports=s},Vm7V:function(e,t,a){var i=a("tqny");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("ad09804a",i,false,{});if(false){}},VmXq:function(e,t,a){"use strict";var i={format:{}};function s(e){return JSON.parse(JSON.stringify(e))}(function e(){var t=["vtt","lrc","smi","ssa","ass","sub","srt","sbv","json"];for(var s=0;s<t.length;s++){var n=t[s];var r=a("kXLi")("./"+n+".js");i.format[r.name]=r}})();i.list=function(){return Object.keys(i.format)};i.detect=function(e){var t=i.list();for(var a=0;a<t.length;a++){var s=t[a];var n=i.format[s];if(typeof n=="undefined"){continue}if(typeof n.detect!="function"){continue}var r=n.detect(e);if(r===true){return s}if(s==r){return r}}};i.parse=function(e,t){t=t||{};var a=t.format||i.detect(e);if(!a||a.trim().length==0){throw new Error("Cannot determine subtitle format!")}var s=i.format[a];if(typeof s=="undefined"){throw new Error("Unsupported subtitle format: "+a)}var n=s.parse;if(typeof n!="function"){throw new Error("Subtitle format does not support 'parse' op: "+a)}return n(e,t)};i.build=function(e,t){t=t||{};var a=t.format||"srt";if(!a||a.trim().length==0){throw new Error("Cannot determine subtitle format!")}var s=i.format[a];if(typeof s=="undefined"){throw new Error("Unsupported subtitle format: "+a)}var n=s.build;if(typeof n!="function"){throw new Error("Subtitle format does not support 'build' op: "+a)}return n(e,t)};i.convert=function(e,t){if(typeof t=="string"){t={to:t}}t=t||{};var a=s(t);delete a.format;if(a.from){a.format=a.from}var n=i.parse(e,a);if(a.resync){n=i.resync(n,a.resync)}a.format=a.to||t.format;var r=i.build(n,a);return r};i.resync=function(e,t){t=t||{};var a,i,n,r;if(typeof t=="function"){a=t}else if(typeof t=="number"){r=t;a=function(e){return[e[0]+r,e[1]+r]}}else if(typeof t=="object"){r=(t.offset||0)*(t.frame?t.fps||25:1);i=t.ratio||1;n=t.frame;a=function(e){return[Math.round(e[0]*i+r),Math.round(e[1]*i+r)]}}else{throw new Error("Argument 'options' not defined!")}var o=[];for(var l=0;l<e.length;l++){var d=s(e[l]);if(typeof d.type==="undefined"||d.type=="caption"){if(n){var c=a([d.frame.start,d.frame.end]);if(c&&c.length==2){d.frame.start=c[0];d.frame.end=c[1];d.frame.count=d.frame.end-d.frame.start}}else{var c=a([d.start,d.end]);if(c&&c.length==2){d.start=c[0];d.end=c[1];d.duration=d.end-d.start}}}o.push(d)}return o};e.exports=i},"W+7z":function(e,t,a){"use strict";var i=a("QF2v");var s=a.n(i);var n=s.a},"W/E8":function(e,t,a){"use strict";var i=a("5s+n");var s=a.n(i);var n=a("rDkq");t["a"]={destroy:(e,t)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/chapters/").concat(t)}),async create(e){try{const t=await n["a"].post("/api/v1/chapters",e);return{success:true,data:t.data,status:t.status}}catch(e){return{success:false,data:e.message,status:e.status}}}}},W14d:function(e,t,a){var i=a("W7AP");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("735a7129",i,false,{});if(false){}},W7AP:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".icon-spacing[data-v-64b7621a]{margin-right:5px}.video-status[data-v-64b7621a]{margin-right:40px}.flex-align-center[data-v-64b7621a]{display:flex;align-items:center}.upgrade-button[data-v-64b7621a]{margin:0 0 0 16px}.UpgradeButton-container[data-v-64b7621a]{border-left:1px solid #c8cee3;margin-left:16px}",""]);e.exports=s},WAxf:function(e,t,a){"use strict";var i=a("pgBW");var s=a.n(i);var n=s.a},WPke:function(e,t,a){var i=a("V1+/");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("68a6383a",i,false,{});if(false){}},"WU/D":function(e,t,a){var i=a("88cA");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("498eccf5",i,false,{});if(false){}},WnOs:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a.d(t,"b",(function(){return d}));var i=a("5s+n");var s=a.n(i);var n=a("/Dqt");var r=a("rDkq");var o=a("AOo/");const{namespacedModule:l,moduleHelpers:d,moduleBuilder:c}=Object(n["a"])("videoEditPage/embedLocations",{state:{embedLocations:[],sageJWT:"",sageApiRoot:""},getters:{videoId:(e,t,a)=>a.videoModule.id},mutations:{$_setEmbedLocations(e,t){e.embedLocations=t}},actions:{async loadEmbedLocations({state:e,commit:t,getters:a}){if(a.videoId===undefined||e.sageApiRoot===undefined){return}const i="".concat(e.sageApiRoot,"/v1/datasets/video_metrics_by_embed_location/videos/").concat(a.videoId,"?timerange=lifetime&metrics=views");try{const{data:a}=await r["a"].get(i,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(e.sageJWT)},timeout:1e4});if(a&&a.data&&a.data.length>0){const e=a.data.map((e=>e.embedUrl)).filter((e=>e!=="unknown"));t("$_setEmbedLocations",e)}}catch(e){o["a"].error("Error occurred while fetching embed locations data for videoId ".concat(a.videoId),e)}}}})},WoDU:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.event-icon[data-v-5028decb]{z-index:1}.event-details[data-v-5028decb],.video-list__event[data-v-5028decb]{display:flex;align-items:center}.event-details[data-v-5028decb]{color:#606782;justify-content:space-between;margin:12px 0 12px 40px;border:1px solid #a9b0c9;border-radius:4px;width:100%;padding:12px 16px}.default-event .event-details[data-v-5028decb]{position:relative;margin-left:20px}.default-event .event-details[data-v-5028decb]:after{position:absolute;content:"";width:100%;left:0;bottom:-24px;border:1px dashed #ebf0f7}.video-list__video:last-of-type .default-event .event-details[data-v-5028decb]:after{bottom:auto;top:-24px}.event-details__right[data-v-5028decb]{display:flex;align-items:flex-end}.event-badge[data-v-5028decb]{margin-right:80px}.video-list__event+.video-list__event .event-details[data-v-5028decb]{margin-top:0}.video-list__event+.video-list__event .event-icon[data-v-5028decb]{top:-6px;position:relative}.event-time[data-v-5028decb]{font-weight:300;margin-top:4px}',""]);e.exports=s},Wqj1:function(e,t,a){var i=a("5w4N");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("18941577",i,false,{});if(false){}},WrDK:function(e,t,a){"use strict";var i=a("rF6x");var s=a.n(i);var n=s.a},Wv9u:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a.d(t,"d",(function(){return c}));a.d(t,"b",(function(){return h}));a.d(t,"c",(function(){return v}));a.d(t,"e",(function(){return m}));var i=a("UxlC");var s=a.n(i);var n=a("p46w");var r=a.n(n);var o=a("Qyje");var l=a.n(o);function d(e){const t=(e,t)=>String.fromCharCode("0x".concat(t));const a=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,t);return window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_")}function c(e=""){const t=/[\dA-Za-z_][\S]+@[\S]+\.[\S]+[\dA-Za-z]/;const a=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;const i=t.exec(e);if(i==null){return null}const s=String(i[0]).toLowerCase();if(a.test(s)){return s}return null}function u(e){const t=(e===null||e===void 0?void 0:e.width)||500;const a=(e===null||e===void 0?void 0:e.height)||600;const i=typeof window.screenX!=="undefined"?window.screenX:window.screenLeft;const s=typeof window.screenY!=="undefined"?window.screenY:window.screenTop;const n=typeof window.outerWidth!=="undefined"?window.outerWidth:window.document.body.clientWidth;const r=typeof window.outerHeight!=="undefined"?window.outerHeight:window.document.body.clientHeight;const o=(e===null||e===void 0?void 0:e.left)||i+(n-t)/2;const l=(e===null||e===void 0?void 0:e.top)||s+(r-a)/2;return{width:t,height:a,left:o,top:l}}const p=()=>{try{if(!("localStorage"in window)){return false}localStorage.setItem("test","testvalue");localStorage.removeItem("test");return true}catch(e){return false}};function h(e,t){const a=document.createElement("iframe");a.style.display="none";a.src="".concat(e,"?").concat(l.a.stringify(t));document.body.appendChild(a)}function v(e,t){const a=l.a.stringify(u(),{delimiter:","});return window.open("".concat(e,"?").concat(l.a.stringify(t)),"_blank",a)}const m={getItem:e=>{if(p()){return localStorage.getItem(e)}return r.a.get(e)},setItem:(e,t)=>{if(p()){return localStorage.setItem(e,t)}return r.a.set(e,t)},removeItem:e=>{if(p()){return localStorage.removeItem(e)}return r.a.remove(e)}}},X2br:function(e,t,a){var i=a("4fpz");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3879f5c6",i,false,{});if(false){}},XCHH:function(e,t,a){"use strict";var i=a("9ois");var s=a.n(i);var n=s.a},XMab:function(e,t,a){var i=a("dOgj");i("Uint8",(function(e){return function t(a,i,s){return e(this,a,i,s)}}))},XUUH:function(e,t,a){var i=a("62Xw");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3c3fc024",i,false,{});if(false){}},Xl0d:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a.d(t,"b",(function(){return f}));var i=a("4Brf");var s=a.n(i);var n=a("5s+n");var r=a.n(n);var o=a("/Dqt");var l=a("Ei+z");var d=a("AOo/");var c=a("Ar/Z");var u=a("twEG");const p=Object(l["a"])("vyApi");const h=Object(l["a"])("vidyard");const v=Object(l["a"])("videoEditPage");const{namespacedModule:m,moduleHelpers:f,moduleBuilder:b}=Object(o["a"])("videoModule",{state:{id:null,organizationId:null,loading:false,video:null},getters:{...h.mapState(["organization"]),videoId:e=>e.id,videoName:e=>{var t,a;return(t=(a=e.video)===null||a===void 0?void 0:a.name)!==null&&t!==void 0?t:""},videoDescription:e=>{var t,a;return(t=(a=e.video)===null||a===void 0?void 0:a.description)!==null&&t!==void 0?t:""},videoNotes:e=>{var t,a;return(t=(a=e.video)===null||a===void 0?void 0:a.notes)!==null&&t!==void 0?t:""},videoStatus:e=>{var t,a;return(t=(a=e.video)===null||a===void 0?void 0:a.status)!==null&&t!==void 0?t:"loading"},videoReady:(e,t)=>t.videoStatus==="ready",videoDuration:e=>{var t,a;return(t=(a=e.video)===null||a===void 0?void 0:a.seconds)!==null&&t!==void 0?t:0},isAudio:e=>{var t;return((t=e.video)===null||t===void 0?void 0:t.hosting_provider)==="audio"},isLiveStream:e=>{var t;return((t=e.video)===null||t===void 0?void 0:t.hosting_provider)==="livestream"},createdAt:e=>e.video?new Date(e.video.created_at).toISOString():""},mutations:{$_setLoading(e,t){e.loading=t},$_setVideo(e,t){e.video=t}},actions:{...p.mapActions(["sendApiRequest"]),...h.mapActions(["sendHeapEvent"]),...v.mapActions(["showStatus"]),async setup({getters:e,dispatch:t}){await t("loadVideo");if(!e.videoReady){t("pollVideoStatusUntilReady")}},async loadVideo({state:e,getters:t,commit:a,dispatch:i}){if(e.id===null)return;a("$_setLoading",true);const s=c["a"].get(t.organization.id,e.id);const n=await i("sendApiRequest",s);if(n.status===200){a("$_setVideo",n.data)}else{i("showStatus",{success:false,message:"Failed to load the video details. Please refresh the page."})}a("$_setLoading",false);return n},async pollVideoStatusUntilReady({state:e,getters:t,dispatch:a},{retries:i=50}={}){if(e.id===null)return;const s=c["a"].status(t.organization.id,e.id);const{status:n,data:r}=await a("sendApiRequest",s);if(n!==200){a("showStatus",{success:false,message:"Failed to fetch the video status. Please refresh the page."});d["a"].error("Failed to fetch video status");return}if(r.status==="ready"||t.videoStatus!==r.status){await a("loadVideo");if(r.status==="ready")return}if(i<1){a("showStatus",{success:false,message:"Timed out waiting for your video to be ready. Please refresh the page."});return}await Object(u["a"])(5e3);a("pollVideoStatusUntilReady",{retries:i-1})},async updateVideo({state:e,getters:t,commit:a,dispatch:i},s){const n=c["a"].update(t.organization.id,e.id,s);const r=await i("sendApiRequest",n);if(r.status!==200){i("showStatus",{success:false,message:"Failed to update your video."});d["a"].error("Failed to update video")}else{a("$_setVideo",r.data);if("notes"in s){i("showStatus",{success:true,message:"Notes saved"});i("sendHeapEvent",{eventName:"Edited - Video notes - custom"})}}return r}}})},XujD:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".margin-top[data-v-72ae6b8a]{margin-top:15px}.popover-body[data-v-72ae6b8a]{margin-left:7px}.popover-body .popover-body-item[data-v-72ae6b8a]{display:flex}.popover-body .popover-body-item .check-container[data-v-72ae6b8a]{display:flex;background-color:#ebfff1;width:20px;height:20px;vertical-align:center;justify-content:center;align-items:center;border-radius:20px;align-self:center}.popover-body .popover-body-item .primary-text[data-v-72ae6b8a]{font-size:14px;margin-left:13px}.secondary-text[data-v-72ae6b8a]{color:#606782;font-size:14px}",""]);e.exports=s},XxVr:function(e,t,a){var i=a("sJvs");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("bd44453e",i,false,{});if(false){}},"Y/ki":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"responsive-code"},[e._t("default",[a("VyInputV2",{attrs:{value:e.embedCode,disabled:e.disabled,"aria-label":"Inline Embed Code",readonly:""}}),e._v(" "),a("CopyButton",{staticClass:"copy-button",attrs:{type:"primary","button-text":"Copy Code","text-to-copy":e.embedCode,disabled:e.disabled,loading:e.loading,"heap-name":"copy-responsive-embed-code"},on:{"copy-clicked":function(t){return e.$emit("enabled-embed")}}})],null,{embedCode:e.embedCode})],2)};var s=[];i._withStripped=true;var n=a("nbMm");var r=a("0iVE");var o={name:"ResponsiveCode",components:{VyInputV2:n["x"],CopyButton:r["a"]},props:{options:{type:Object,required:true},maxWidth:{type:String,default:""},maxHeight:{type:String,default:""},lightbox:{type:Boolean,default:false},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false}},computed:{embedCode(){if(this.options.element===undefined){return""}return'\x3c!-- The script tag should live in the head of your page if at all possible --\x3e\n<script type="text/javascript" async src="'.concat(this.options.script,'"><\/script>\n\n\x3c!-- Put this wherever you would like your player to appear --\x3e\n').concat(this.element)},element(){const e=this.maxWidth!==""?'\n  data-width="'.concat(this.maxWidth,'"'):"";const t=this.maxHeight!==""?'\n  data-height="'.concat(this.maxHeight,'"'):"";const a=this.maxWidth!==""?" max-width: ".concat(this.maxWidth,"px;"):"";const i=this.maxHeight!==""?" max-height: ".concat(this.maxHeight,"px;"):"";return'<img\n  style="'.concat(this.options.element.style).concat(a).concat(i,'"\n  class="').concat(this.options.element.class,'"\n  src="').concat(this.options.element.src,'"\n  data-uuid="').concat(this.options.element.uuid,'"\n  data-v="').concat(this.options.element.embed_version,'"\n  data-type="').concat(this.lightbox?"lightbox":"inline",'"').concat(e).concat(t,"\n/>\n")}}};var l=o;var d=a("h19z");var c=a("KHd+");var u=Object(c["a"])(l,i,s,false,null,"351b5453",null);if(false){var p}u.options.__file="app/assets/components/share-dialog/embed-dialog/responsive-code.vue";var h=t["a"]=u.exports},YKNr:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:"Download video",visible:e.visible,size:"tiny"},on:{"visible-change":function(t){return e.$emit("update:visible",t)}}},[a("span",[e._v("Select a version to download, or share a download link with anyone")]),e._v(" "),a("div",{staticClass:"download-dialog-content"},[e.videoFiles.length?a("div",e._l(e.videoFiles,(function(t,i){return a("div",{key:t.name,staticClass:"download-file-list",class:i<e.videoFiles.length-1?"bottom-border":""},[a("span",{staticClass:"file-title"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),a("VyTooltipWrapper",{attrs:{"tooltip-content":"Copy "+t.name+" link","tooltip-placement":"bottom"}},[a("CopyButton",{staticClass:"copy-file-link",attrs:{"aria-label":"Copy download link for "+t.name+" to clipboard","text-to-copy":t.url,"heap-name":"copy-download-link"},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faLink",type:"regular"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltipWrapper",{attrs:{"tooltip-content":"Download "+t.name+" video","tooltip-placement":"bottom"}},[a("VyButton",{attrs:{"aria-label":"Download "+t.name,"data-heap":"video-download","data-testid":"download-"+t.name},on:{click:function(){return e.download(t.url)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faDownload",type:"regular"}})]},proxy:true}])})],1)],1)})),0):a("div",{staticClass:"download-dialog-loading"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:50,status:"success"}})],1)])])};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("nbMm");var o=a("P56O");var l=a("rDkq");var d=a("7wZh");var c=a("0iVE");var u=a("6yOI");var p={name:"VideoDownloadDialog",components:{VyDialog:r["r"],VySpinner:r["K"],VyButton:r["j"],VyTooltipWrapper:r["V"],VyIcon:r["v"],CopyButton:c["a"]},props:{id:{type:Number,default:-1},organizationId:{type:Number,default:-1},visible:{type:Boolean,default:false}},data(){return{videoFiles:[],activeIndex:0}},computed:{...o["c"].mapState({userId:e=>e.user.id})},watch:{visible(e){if(e){if(!this.id||!this.organizationId){this.$rollbar.error("[VideoDownloadDialog] You must specify id and organizationId")}this.initialize()}else{this.videoFiles=[]}}},methods:{...u["b"].mapActions(["updateChecklistItemIsComplete"]),download(e){window.location=e;this.updateChecklistItemIsComplete({unique_name:"download_video",isComplete:true})},async initialize(){try{await this.getVideoFiles()}catch(e){Object(d["a"])(e);this.$emit("update:visible",false)}},async getVideoFiles(){const e=(e,t)=>({key:e,name:t});const t=[e("source","Source"),e("2160","2160p"),e("1440","1440p"),e("full_hd","1080p"),e("hd","720p"),e("480","480p")];const a=await l["a"].get("/api/v1/organizations/".concat(this.organizationId,"/videos/").concat(this.id,"/files"));const{urls:i}=a.data;let s;if(i.sd&&i.hd_segmented&&!i.sd_segmented){s="720p"}else{s="360p"}t.push(e("sd",s));this.videoFiles=t.reduce(((e,t)=>{const i=a.data.urls[t.key];if(i){const a={url:i,name:t.name};e.push(a)}return e}),[])}}};var h=p;var v=a("CTfP");var m=a("KHd+");var f=Object(m["a"])(h,i,s,false,null,"1f4965a2",null);if(false){var b}f.options.__file="app/assets/components/video-download-dialog.vue";var g=t["a"]=f.exports},YQmD:function(e,t,a){e.exports=a.p+"facebook-page-a29deed6901fe78796ade7065f2b2af0.svg"},Yhre:function(e,t,a){"use strict";var i=a("2oRo");var s=a("g6v/");var n=a("qYE9");var r=a("kRJp");var o=a("4syw");var l=a("0Dky");var d=a("GarU");var c=a("ppGB");var u=a("UMSQ");var p=a("CyXQ");var h=a("d6cI");var v=a("4WOD");var m=a("0rvr");var f=a("JBy8").f;var b=a("m/L8").f;var g=a("gdVl");var y=a("1E5z");var _=a("afO8");var w=_.get;var x=_.set;var S="ArrayBuffer";var k="DataView";var C="prototype";var P="Wrong length";var T="Wrong index";var V=i[S];var A=V;var E=i[k];var I=E&&E[C];var D=Object.prototype;var O=i.RangeError;var L=h.pack;var B=h.unpack;var M=function(e){return[e&255]};var z=function(e){return[e&255,e>>8&255]};var F=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]};var U=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]};var R=function(e){return L(e,23,4)};var j=function(e){return L(e,52,8)};var q=function(e,t){b(e[C],t,{get:function(){return w(this)[t]}})};var N=function(e,t,a,i){var s=p(a);var n=w(e);if(s+t>n.byteLength)throw O(T);var r=w(n.buffer).bytes;var o=s+n.byteOffset;var l=r.slice(o,o+t);return i?l:l.reverse()};var $=function(e,t,a,i,s,n){var r=p(a);var o=w(e);if(r+t>o.byteLength)throw O(T);var l=w(o.buffer).bytes;var d=r+o.byteOffset;var c=i(+s);for(var u=0;u<t;u++)l[d+u]=c[n?u:t-u-1]};if(!n){A=function e(t){d(this,A,S);var a=p(t);x(this,{bytes:g.call(new Array(a),0),byteLength:a});if(!s)this.byteLength=a};E=function e(t,a,i){d(this,E,k);d(t,A,k);var n=w(t).byteLength;var r=c(a);if(r<0||r>n)throw O("Wrong offset");i=i===undefined?n-r:u(i);if(r+i>n)throw O(P);x(this,{buffer:t,byteLength:i,byteOffset:r});if(!s){this.buffer=t;this.byteLength=i;this.byteOffset=r}};if(s){q(A,"byteLength");q(E,"buffer");q(E,"byteLength");q(E,"byteOffset")}o(E[C],{getInt8:function e(t){return N(this,1,t)[0]<<24>>24},getUint8:function e(t){return N(this,1,t)[0]},getInt16:function e(t){var a=N(this,2,t,arguments.length>1?arguments[1]:undefined);return(a[1]<<8|a[0])<<16>>16},getUint16:function e(t){var a=N(this,2,t,arguments.length>1?arguments[1]:undefined);return a[1]<<8|a[0]},getInt32:function e(t){return U(N(this,4,t,arguments.length>1?arguments[1]:undefined))},getUint32:function e(t){return U(N(this,4,t,arguments.length>1?arguments[1]:undefined))>>>0},getFloat32:function e(t){return B(N(this,4,t,arguments.length>1?arguments[1]:undefined),23)},getFloat64:function e(t){return B(N(this,8,t,arguments.length>1?arguments[1]:undefined),52)},setInt8:function e(t,a){$(this,1,t,M,a)},setUint8:function e(t,a){$(this,1,t,M,a)},setInt16:function e(t,a){$(this,2,t,z,a,arguments.length>2?arguments[2]:undefined)},setUint16:function e(t,a){$(this,2,t,z,a,arguments.length>2?arguments[2]:undefined)},setInt32:function e(t,a){$(this,4,t,F,a,arguments.length>2?arguments[2]:undefined)},setUint32:function e(t,a){$(this,4,t,F,a,arguments.length>2?arguments[2]:undefined)},setFloat32:function e(t,a){$(this,4,t,R,a,arguments.length>2?arguments[2]:undefined)},setFloat64:function e(t,a){$(this,8,t,j,a,arguments.length>2?arguments[2]:undefined)}})}else{if(!l((function(){V(1)}))||!l((function(){new V(-1)}))||l((function(){new V;new V(1.5);new V(NaN);return V.name!=S}))){A=function e(t){d(this,A);return new V(p(t))};var H=A[C]=V[C];for(var Y=f(V),G=0,W;Y.length>G;){if(!((W=Y[G++])in A)){r(A,W,V[W])}}H.constructor=A}if(m&&v(I)!==D){m(I,D)}var J=new E(new A(2));var Z=I.setInt8;J.setInt8(0,2147483648);J.setInt8(1,2147483649);if(J.getInt8(0)||!J.getInt8(1))o(I,{setInt8:function e(t,a){Z.call(this,t,a<<24>>24)},setUint8:function e(t,a){Z.call(this,t,a<<24>>24)}},{unsafe:true})}y(A,S);y(E,k);e.exports={ArrayBuffer:A,DataView:E}},YnOx:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".scrubber .scrubber-gripper[data-v-41dddb46]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;outline:none;transition-property:background-color,box-shadow,border,color;transition-duration:.2s,.2s,.2s,.2s}.scrubber .scrubber-gripper[data-v-41dddb46]:focus{box-shadow:0 0 0 3px #bfc4ff}.scrubber .scrubber-gripper[data-v-41dddb46]:hover{background-color:#414dd4}.scrubber .scrubber-gripper[data-v-41dddb46]:active,.scrubber .scrubber-gripper[data-v-41dddb46]:focus{background-color:#1b1a82}.allow-click[data-v-41dddb46]{pointer-events:auto}.scrubber .scrubber-gripper[data-v-41dddb46]{position:absolute;display:flex;align-items:center;justify-content:center;width:20px;height:20px;color:#fff;cursor:pointer;pointer-events:auto;background:#5e5cfa}.scrubber.scrubber--pre .scrubber-gripper[data-v-41dddb46]{border-top-left-radius:50%;border-bottom-left-radius:50%;right:0}.scrubber.scrubber--post .scrubber-gripper[data-v-41dddb46]{border-top-right-radius:50%;border-bottom-right-radius:50%}.scrubber-segment--active .scrubber-gripper[data-v-41dddb46]{box-shadow:0 0 0 3px #bfc4ff}",""]);e.exports=s},Z4fz:function(e,t,a){var i=a("vr8a");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("18a78a02",i,false,{});if(false){}},ZDYE:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".share-preview[data-v-41dc1f14]{width:100%;background-color:#ebf0f7;padding:8px;margin-bottom:12px;border-radius:4px;overflow:hidden}.share-preview .preview-thumbnail[data-v-41dc1f14]{position:relative;float:left;width:30%;height:100%;margin-bottom:0;border-radius:4px;margin-right:16px;text-align:center}.share-preview .preview-thumbnail[data-v-41dc1f14]:focus:after{box-shadow:none}.share-preview .share-details[data-v-41dc1f14]{overflow:hidden}.share-preview .share-details div[data-v-41dc1f14]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.share-preview .share-details .share-title[data-v-41dc1f14]{font-size:20px}.share-preview .share-details .share-link[data-v-41dc1f14]{font-size:12px;color:#5b627d}",""]);e.exports=s},ZJ1z:function(e,t,a){var i=a("sAAw");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("37993034",i,false,{});if(false){}},ZNXO:function(e,t,a){"use strict";var i=a("h12j");var s=a.n(i);var n=s.a},ZZcK:function(e,t,a){"use strict";var i=a("1Hzw");var s=a.n(i);var n=s.a},ZfDv:function(e,t,a){var i=a("hh1v");var s=a("6LWA");var n=a("tiKp");var r=n("species");e.exports=function(e,t){var a;if(s(e)){a=e.constructor;if(typeof a=="function"&&(a===Array||s(a.prototype)))a=undefined;else if(i(a)){a=a[r];if(a===null)a=undefined}}return new(a===undefined?Array:a)(t===0?0:t)}},ZrGz:function(e,t,a){var i=a("HYr2");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1b5e0ba2",i,false,{});if(false){}},ZvEM:function(e,t,a){var i=a("Ru7K");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1e1167c4",i,false,{});if(false){}},aBOQ:function(e,t,a){var i=a("i9P2");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("17129bed",i,false,{});if(false){}},aBWf:function(e,t,a){"use strict";var i=a("5s+n");var s=a.n(i);var n=a("rDkq");t["a"]={async content(e){try{const t=await n["a"].get("/api/v1/captions/".concat(e,"/content"));return{success:true,data:t.data,status:t.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}},async update(e,t){try{const a=await n["a"].patch("/api/v1/captions/".concat(e),t);return{success:true,data:a.data,status:a.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}},async delete(e){try{const t=await n["a"].delete("/api/v1/captions/".concat(e));return{success:true,data:t.data,status:t.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}},async publish(e){try{const t=await n["a"].patch("/api/v1/captions/".concat(e,"/publish"));return{success:true,data:t.data,status:t.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}},async draft(e){try{const t=await n["a"].patch("/api/v1/captions/".concat(e,"/draft"));return{success:true,data:t.data,status:t.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}}}},aDdx:function(e,t,a){"use strict";var i=a("F2AF");var s=a.n(i);var n=s.a},aN5Z:function(e,t,a){"use strict";var i="smi";var s={htmlEncode:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\r?\n/g,"<BR>")},htmlDecode:function(e,t){return e.replace(/\<BR\s*\/?\>/gi,t||"\r\n").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}};function n(e,t){var a=[];var i=t.eol||"\r\n";var n=/\<TITLE[^\>]*\>([\s\S]*)\<\/TITLE\>/gi.exec(e);if(n){var r={};r.type="meta";r.name="title";r.data=n[1].replace(/^[\s\r\n]*/g,"").replace(/[\s\r\n]*$/g,"");a.push(r)}var o=/\<STYLE[^\>]*\>([\s\S]*)\<\/STYLE\>/gi.exec(e);if(o){var r={};r.type="meta";r.name="style";r.data=o[1];a.push(r)}var l=e.replace(/^[\s\S]*\<BODY[^\>]*\>/gi,"").replace(/\<\/BODY[^\>]*\>[\s\S]*$/gi,"");var d=null;var c=l.split(/\<SYNC/gi);for(var u=0;u<c.length;u++){if(!c[u]||c[u].trim().length==0){continue}var p="<SYNC"+c[u];var h=/^\<SYNC[^\>]+Start\s*=\s*["']?(\d+)["']?[^\>]*\>([\s\S]*)/gi.exec(p);if(h){var r={};r.type="caption";r.start=parseInt(h[1]);r.end=r.start+2e3;r.duration=r.end-r.start;r.content=h[2].replace(/^\<\/SYNC[^\>]*>/gi,"");var v=true;var m=/^\<P[^\>]+Class\s*=\s*["']?([\w\d\-_]+)["']?[^\>]*\>([\s\S]*)/gi.exec(r.content);if(!m){m=/^\<P([^\>]*)\>([\s\S]*)/gi.exec(r.content)}if(m){var f=m[2].replace(/\<P[\s\S]+$/gi,"");f=f.replace(/\<BR\s*\/?\>[\s\r\n]+/gi,i).replace(/\<BR\s*\/?\>/gi,i).replace(/\<[^\>]+\>/g,"");f=f.replace(/^[\s\r\n]+/g,"").replace(/[\s\r\n]+$/g,"");v=f.replace(/&nbsp;/gi," ").replace(/[\s\r\n]+/g,"").length==0;r.text=s.htmlDecode(f,i)}if(!t.preserveSpaces&&v){if(t.verbose){console.log("INFO: Skipping white space caption at "+r.start)}}else{a.push(r)}if(d){d.end=r.start;d.duration=d.end-d.start}d=r;continue}if(t.verbose){console.log("WARN: Unknown part",c[u])}}return a}function r(e,t){var a=t.eol||"\r\n";var i="";i+="<SAMI>"+a;i+="<HEAD>"+a;i+="<TITLE>"+(t.title||"")+"</TITLE>"+a;i+='<STYLE TYPE="text/css">'+a;i+="\x3c!--"+a;i+="P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }"+a;i+=".LANG { Name: "+(t.langName||"English")+"; lang: "+(t.langCode||"en-US")+"; SAMIType: CC; }"+a;i+="--\x3e"+a;i+="</STYLE>"+a;i+="</HEAD>"+a;i+="<BODY>"+a;for(var n=0;n<e.length;n++){var r=e[n];if(r.type=="meta"){continue}if(typeof r.type==="undefined"||r.type=="caption"){i+="<SYNC Start="+r.start+">"+a;i+="  <P Class=LANG>"+s.htmlEncode(r.text||"")+(t.closeTags?"</P>":"")+a;if(t.closeTags){i+="</SYNC>"+a}i+="<SYNC Start="+r.end+">"+a;i+="  <P Class=LANG>"+"&nbsp;"+(t.closeTags?"</P>":"")+a;if(t.closeTags){i+="</SYNC>"+a}continue}if(t.verbose){console.log("SKIP:",r)}}i+="</BODY>"+a;i+="</SAMI>"+a;return i}function o(e){if(typeof e==="string"){if(/\<SAMI[^\>]*\>[\s\S]*\<BODY[^\>]*\>/g.test(e)){return"smi"}}}e.exports={name:i,helper:s,detect:o,parse:n,build:r}},aPRh:function(e,t,a){var i=a("7r5J");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("39c3fdbd",i,false,{});if(false){}},abAv:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".thumbnail-card__footer[data-v-cb931b86]{border-top:1px solid #ebf0f7;margin-top:-10px;padding:8px;display:flex;justify-content:center}.thumb-sm[data-v-cb931b86]{display:none}.thumb-lg[data-v-cb931b86]{display:block}@media (max-width:1024px){.thumb-sm[data-v-cb931b86]{display:block}.thumb-lg[data-v-cb931b86]{display:none}}.loading-thumbs-text[data-v-cb931b86]{font-size:20px;padding:8px;display:flex;justify-content:center}.loading-thumbs[data-v-cb931b86]:disabled,.loading-thumbs[disabled=disabled][data-v-cb931b86]{display:none}.thumb-bucket[data-v-cb931b86]:disabled,.thumb-bucket[disabled=disabled][data-v-cb931b86],.thumb-from-video[data-v-cb931b86]:disabled,.thumb-from-video[disabled=disabled][data-v-cb931b86]{pointer-events:none;opacity:.5}",""]);e.exports=s},afd2:function(e,t,a){var i=a("raPC");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("d73d5d5a",i,false,{});if(false){}},ajAY:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"div[data-v-bf7f9a40]{color:#606782}.radio-control .vy-radio[data-v-bf7f9a40]{display:flex;align-items:center;border:1px solid #c8cee3;border-radius:4px;height:64px;padding:20px;width:100%;margin-bottom:16px}.radio-control.selected .vy-radio[data-v-bf7f9a40]{border:3px solid #bfc4ff}.title[data-v-bf7f9a40]{font-size:18px;font-weight:500;color:#606782;margin-bottom:20px}.select-account[data-v-bf7f9a40]{font-size:12px}.account-radio[data-v-bf7f9a40] .vy-radio__label{display:flex;justify-content:space-between;width:100%}.spinner[data-v-bf7f9a40]{width:50px;margin:20px auto}.select-account[data-v-bf7f9a40]{margin-bottom:12px}.vy-card[data-v-bf7f9a40]{grid-column:span 12}.grid-container[data-v-bf7f9a40]{padding:0}.vy-button[data-v-bf7f9a40]{border:3px dashed #bfc4ff!important;padding-top:24px;padding-bottom:24px}",""]);e.exports=s},am1o:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a.d(t,"b",(function(){return l}));var i=a("5s+n");var s=a("/Dqt");var n={getTags:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/players/").concat(t,"/tags")}),addTag:(e,t,a)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/tags"),data:{name:a,taggable_type:"Player",taggable_id:t}}),removeTag:(e,t,a)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/tags"),data:{name:a,taggable_type:"Player",taggable_id:t}})};const{namespacedModule:r,moduleBuilder:o,moduleHelpers:l}=Object(s["a"])("playerModule/tags",{state:{tags:[]},mutations:{"set-tags":(e,t)=>{e.tags=t},"add-tag":(e,t)=>{e.tags.push({name:t})},"remove-tag":(e,t)=>{e.tags=e.tags.filter((e=>e.name!==t))}},actions:{async loadTags({commit:e,dispatch:t,rootState:a}){const i=n.getTags(a.playerModule.organizationId,a.playerModule.id);const{data:s,status:r}=await t("vyApi/sendApiRequest",i,{root:true});if(r===200){e("set-tags",s);return true}return false},async addTag({commit:e,dispatch:t,rootState:a},i){const s=n.addTag(a.playerModule.organizationId,a.playerModule.id,i);const{status:r}=await t("vyApi/sendApiRequest",s,{root:true});if(r===201){e("add-tag",i);t("vidyard/sendHeapEvent",{eventName:"Created - Video/playlist tag - custom"},{root:true});return true}return false},async removeTag({commit:e,dispatch:t,rootState:a},i){const s=n.removeTag(a.playerModule.organizationId,a.playerModule.id,i);const{status:r}=await t("vyApi/sendApiRequest",s,{root:true});if(r===200){e("remove-tag",i);return true}return false}}})},anwA:function(e,t,a){"use strict";a.r(t);a.d(t,"YOUTUBE",(function(){return i}));a.d(t,"FACEBOOK",(function(){return s}));a.d(t,"LINKEDIN",(function(){return n}));const i="youtube";const s="facebook";const n="linkedin"},b20N:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));a.d(t,"b",(function(){return w}));var i=a("5s+n");var s=a("3bBZ");var n=a("/Dqt");var r=a("Ei+z");var o=a("qct9");var l=a("rDkq");var d={async signedRequest(e,t=false){try{const a=await l["a"].post("/api/v1.1/upload/signed_request?v4=".concat(t),e);return{success:true,data:a.data,status:a.status}}catch(e){return{success:false,data:e.response.data,status:e.response.status}}}};var c=a("AOo/");var u=a("xk4V");var p=a.n(u);function h(e,t){return"".concat(e,"/").concat(p()(),".").concat(t)}async function v(e,t,a,i,s){const n="private";const r="200";const l=new Date;const u=new Date;const p=new Date(u.setMinutes(u.getMinutes()+5)).toISOString();const h=Object(o["a"])(e,t,"s3",l);const v=Object(o["b"])(l);const{success:m,data:f}=await d.signedRequest({expiration:p,conditions:[{acl:n},{bucket:a},{"Content-Type":s.type},{success_action_status:r},{key:i},{"x-amz-meta-filename":s.name},{"x-amz-algorithm":"AWS4-HMAC-SHA256"},{"x-amz-credential":h},{"x-amz-date":v},["content-length-range","0",s.size]]});if(m){const e=new FormData;e.append("key",i);e.append("acl",n);e.append("Content-Type",s.type);e.append("success_action_status",r);e.append("policy",f.policy);e.append("x-amz-signature",f.signature);e.append("x-amz-meta-filename",s.name);e.append("x-amz-algorithm","AWS4-HMAC-SHA256");e.append("x-amz-credential",h);e.append("x-amz-date",v);e.append("file",s);return e}c["a"].error("Error Generating 'signed_request': ".concat(f.error));return false}async function m(e,t){try{await l["a"].post(e,t);return true}catch(e){c["a"].error("Error Uploading 'signed_request' to S3: ".concat(e));return false}}async function f(e,t,a,i,s,n,r){const o=h(s,r);const l=await v(e,t,a,o,n);if(l===false){return false}return await m(i,l)?o:false}var b=a("aBWf");var g=a("XF5U");const y=Object(r["a"])("videoEditPage");const{namespacedModule:_,moduleHelpers:w}=Object(n["a"])("videoEditPage/captions",{state:{captions:[],languages:[],revLanguages:[]},getters:{videoId:(e,t,a)=>a.videoModule.id,defaultCaption:e=>e.captions.find((e=>e.is_default===true))},mutations:{"load-captions":(e,t)=>{e.captions=t},"update-caption":(e,t)=>{e.captions=[...e.captions.map((e=>e.id!==t.id?e:{...e,...t}))]},"delete-caption":(e,t)=>{e.captions=e.captions.filter((e=>e.id!==t.id))},"add-caption":(e,t)=>{e.captions.push(t)}},actions:{...y.mapActions(["showStatus"]),async loadCaptions({getters:e,commit:t}){if(e.videoId===undefined){return[]}const{success:a,data:i,status:s}=await g["a"].captions(e.videoId);if(a){t("load-captions",i);return s}return s},async createCaption({commit:e,dispatch:t,getters:a},{params:i}){const{success:s,data:n}=await g["a"].create(a.videoId,{...i,video_id:a.videoId});if(s){e("add-caption",n);t("vidyard/sendHeapEvent",{eventName:"captions.created",customOptions:{language:i.language}},{root:true});return n.id}t("showStatus",{success:false,message:"Failed to Create new caption: ".concat(n)});return false},async requestAutoTranscribe({commit:e,dispatch:t,getters:a},{autoPublish:i}){const{success:s,data:n}=await g["a"].freeAutoTranscribe(a.videoId,{auto_publish:i});if(s){e("add-caption",n);t("vidyard/sendHeapEvent",{eventName:"captions.requested-automated",customOptions:{auto_publish:i?"true":"false"}},{root:true});return}t("showStatus",{success:false,message:"Failed to request automatic caption: ".concat(n.error)})},async requestPaidTranscribe({dispatch:e,getters:t},{serviceLevel:a,targetLanguage:i,notes:s,autoPublish:n,cost:r}){const o={creator_type:"Request",service_level:a,source_language:"en",auto_publish:n,language:i};if(s!=="")o.notes=s;const{success:l,data:d}=await g["a"].paidTranscribe(t.videoId,o);if(l){e("vidyard/sendHeapEvent",{eventName:"captions.requested-paid",customOptions:{auto_publish:n?"true":"false",language:i,estimated_cost:r}},{root:true});e("loadCaptions");return true}e("showStatus",{success:false,message:"Failed to request paid caption: ".concat(d.error)});return false},async updateCaption({commit:e,dispatch:t},{captionObj:a}){const{success:i,data:s}=await b["a"].update(a.id,{is_default:a.is_default});if(i){e("update-caption",s);return}t("showStatus",{success:false,message:"Failed to update caption data: ".concat(s.error)})},async publishCaption({commit:e,dispatch:t},{captionId:a}){const{success:i,data:s}=await b["a"].publish(a);if(i){e("update-caption",s);return}t("showStatus",{success:false,message:"Failed to Publish caption: ".concat(s.error)})},async draftCaption({commit:e,dispatch:t},{captionId:a}){const{success:i,data:s}=await b["a"].draft(a);if(i){e("update-caption",s);return}t("showStatus",{success:false,message:"Failed to Un-Publish caption: ".concat(s.error)})},async deleteCaption({commit:e,dispatch:t},{captionId:a}){const{success:i,data:s}=await b["a"].delete(a);if(i){e("delete-caption",s);t("vidyard/sendHeapEvent",{eventName:"captions.deleted",customOptions:{language:s.language,languageIndex:s.language_index,creatorType:s.creator_type}},{root:true});return}t("showStatus",{success:false,message:"Failed to Delete caption: ".concat(s.error)})},async setDefaultCaption({dispatch:e,getters:t},{captionObj:a}){if(t.defaultCaption){await e("updateCaption",{captionObj:{...t.defaultCaption,is_default:false}})}e("updateCaption",{captionObj:{...a,is_default:true}})},async uploadCaptionFile({getters:e,commit:t,dispatch:a,rootState:i},{file:s,languageData:n}){const r=s.name.split(".").pop();const o=await f(i.aws.vidyard.awsAccessKey,i.aws.vidyard.awsRegion,i.aws.vidyard.awsBucket,i.aws.vidyard.s3Domain,"uploads/transcriptions",s,r);if(o===false){return false}let l={};if(r==="vtt"){l={vtt_url:"s3://".concat(i.aws.vidyard.awsBucket,"/").concat(o)}}else if(r==="srt"){l={srt_url:"s3://".concat(i.aws.vidyard.awsBucket,"/").concat(o)}}const{success:d,data:c}=await g["a"].create(e.videoId,{language:n.id,creator_type:"Upload",video_id:e.videoId,...l});if(d){t("add-caption",c);a("vidyard/sendHeapEvent",{eventName:"captions.uploaded",customOptions:{language:n.id,format:r}},{root:true});return true}a("showStatus",{success:false,message:"Failed to Upload new caption: ".concat(c.error)});return false}}})},bKAB:function(e,t,a){var i=a("KgzW");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("d3bd8a7e",i,false,{});if(false){}},bN9a:function(e,t,a){"use strict";t["a"]={simple_post_roll:{name:"Quick Fullscreen CTA",event_type:"simple_post_roll",html:"",fullscreen:true,background_color:"rgba(255,255,255,0)",settings:{button_color:"#5E5CFA",button_text_color:"#FFFFFF",message_text:"Thanks for watching!",button_text:"Book a meeting",button_url:"https://vidyard.com"}},simple_overlay:{name:"Quick Banner",event_type:"simple_overlay",html:"",background_color:"rgba(255,255,255,0)",settings:{message_text:"Book a meeting with us!",button_text:"Let's chat",button_url:"https://vidyard.com"}},simple_email:{name:"Quick Email Gate",event_type:"simple_email",html:"",fullscreen:true,background_color:"rgba(255,255,255,0)",settings:{message_text:"Please enter your email to view this video:",button_text:"Continue watching"}},fullscreen:{name:"Custom Fullscreen",event_type:"fullscreen",html:'<div style="text-align: center;">This is your shiny new action! Edit me to get started!</div>',background_color:"rgba(255,255,255,0)",fullscreen:true,settings:{}}}},bQEl:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".share-copy-options[data-v-afee58f0]{flex-direction:row}.share-copy-options .copy-link-button[data-v-afee58f0]{flex:1 1}.share-copy-options .copy-link-button[data-v-afee58f0] .vy-button{width:100%}.share-copy-options .copy-link-button[data-v-afee58f0]:first-of-type{margin-right:16px}@media (max-width:767px){.share-copy-options[data-v-afee58f0]{flex-direction:column}.share-copy-options .copy-link-button[data-v-afee58f0]:first-of-type{margin-right:0;margin-bottom:8px}}",""]);e.exports=s},bd2R:function(e,t,a){"use strict";var i=a("RDwk");var s=a.n(i);var n=s.a},bjcL:function(e,t,a){var i=a("coQS");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("7600757a",i,false,{});if(false){}},bzh2:function(e,t,a){var i=a("oQYd");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0141cc44",i,false,{});if(false){}},c5zt:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".settings-list[data-v-e33a336a]{margin-top:8px}.content-container[data-v-e33a336a]{display:flex;align-items:center;flex-direction:row}.icon[data-v-e33a336a]{margin-right:12px;color:#5b627d}.text-container[data-v-e33a336a]{display:flex;flex-direction:column;color:#5b627d;margin:0 auto 0 0}",""]);e.exports=s},cURO:function(e,t,a){"use strict";var i=a("W14d");var s=a.n(i);var n=s.a},cVYH:function(e,t,a){var i=a("hh1v");var s=a("0rvr");e.exports=function(e,t,a){var n,r;if(s&&typeof(n=t.constructor)=="function"&&n!==a&&i(r=n.prototype)&&r!==a.prototype)s(e,r);return e}},cYKO:function(e,t,a){"use strict";var i=a("Lylb");var s=a.n(i);var n=s.a},ca7r:function(e,t,a){"use strict";var i=a("Dur5");var s=a.n(i);var n=s.a},cazf:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".slideout-content[data-v-5fcacb80]{padding:20px}.slideout-content .slideout-title[data-v-5fcacb80]{font-size:18px}.slideout-content .slideout-description[data-v-5fcacb80]{font-size:12px;margin:8px 0}.slideout-content .mail-button[data-v-5fcacb80]{margin-bottom:4px;font-weight:400}.slideout-content .mail-button .social-share-icon[data-v-5fcacb80]{width:18px}.slideout-content .disconnect-link[data-v-5fcacb80]{font-size:12px;margin-top:12px;cursor:pointer}.slideout-header[data-v-5fcacb80]{display:flex;padding:8px;border-bottom:2px solid #ebf0f7;justify-content:space-between;margin-right:12px}.slideout-header .close-button[data-v-5fcacb80]{display:none}@media (max-width:800px){.slideout-header .close-button[data-v-5fcacb80]{display:block}}",""]);e.exports=s},coQS:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".playlist-event-placeholder[data-v-4590831e]{display:flex;flex-direction:row;align-items:center}.playlist-event-placeholder .icon[data-v-4590831e]{z-index:1;width:28px;height:28px;border-radius:100%}.playlist-event-placeholder .details[data-v-4590831e]{height:28px;margin:12px 0 12px 40px}",""]);e.exports=s},d1Kd:function(e,t,a){"use strict";var i=a("GyRi");var s=a.n(i);var n=s.a},d3wm:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".option-button[data-v-37385c26]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;text-align:left;padding:8px;margin:24px 0;width:100%;border:none;border-radius:4px;box-shadow:0 0 0 1px #dde1f0;background-color:unset;transition:background-color .1s ease}.option-button[data-v-37385c26]:not(:disabled):focus{box-shadow:0 0 0 3px #bfc4ff}.option-button[data-v-37385c26]:not(:disabled):hover{background-color:#fafbff;box-shadow:0 0 0 1px #a9b0c9}.option-button[data-v-37385c26]:not(:disabled):active{background-color:#ebf0f7;box-shadow:0 0 0 1px #a9b0c9}.option-button[data-v-37385c26]:disabled{cursor:not-allowed}.option-button:disabled img[data-v-37385c26]{filter:grayscale(100%)}.option-button>*[data-v-37385c26]{display:inline-block}.option-button>.image-container>*[data-v-37385c26]{border-radius:4px;display:none;flex:0 1 20%;height:80px;max-height:80px}@media (min-width:768px){.option-button>.image-container>*[data-v-37385c26]{display:block}}.option-button>.description-container[data-v-37385c26]{display:flex;flex-direction:column;flex:1 1 70%;margin-left:20px;margin-right:20px}.option-button>.description-container>.description-title[data-v-37385c26]{display:block;font-size:16px;font-weight:500;letter-spacing:.4px;margin:4px 0}.option-button>.description-container>p[data-v-37385c26]{margin:0}.option-button>.icon-chevron[data-v-37385c26]{margin:0 12px}",""]);e.exports=s},d6cI:function(e,t){var a=1/0;var i=Math.abs;var s=Math.pow;var n=Math.floor;var r=Math.log;var o=Math.LN2;var l=function(e,t,l){var d=new Array(l);var c=l*8-t-1;var u=(1<<c)-1;var p=u>>1;var h=t===23?s(2,-24)-s(2,-77):0;var v=e<0||e===0&&1/e<0?1:0;var m=0;var f,b,g;e=i(e);if(e!=e||e===a){b=e!=e?1:0;f=u}else{f=n(r(e)/o);if(e*(g=s(2,-f))<1){f--;g*=2}if(f+p>=1){e+=h/g}else{e+=h*s(2,1-p)}if(e*g>=2){f++;g/=2}if(f+p>=u){b=0;f=u}else if(f+p>=1){b=(e*g-1)*s(2,t);f=f+p}else{b=e*s(2,p-1)*s(2,t);f=0}}for(;t>=8;d[m++]=b&255,b/=256,t-=8);f=f<<t|b;c+=t;for(;c>0;d[m++]=f&255,f/=256,c-=8);d[--m]|=v*128;return d};var d=function(e,t){var i=e.length;var n=i*8-t-1;var r=(1<<n)-1;var o=r>>1;var l=n-7;var d=i-1;var c=e[d--];var u=c&127;var p;c>>=7;for(;l>0;u=u*256+e[d],d--,l-=8);p=u&(1<<-l)-1;u>>=-l;l+=t;for(;l>0;p=p*256+e[d],d--,l-=8);if(u===0){u=1-o}else if(u===r){return p?NaN:c?-a:a}else{p=p+s(2,t);u=u-o}return(c?-1:1)*p*s(2,u-t)};e.exports={pack:l,unpack:d}},dJhV:function(e,t,a){var i=a("c5zt");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4744202f",i,false,{});if(false){}},dOgj:function(e,t,a){"use strict";var i=a("I+eb");var s=a("2oRo");var n=a("g6v/");var r=a("iqeF");var o=a("67WC");var l=a("Yhre");var d=a("GarU");var c=a("XGwC");var u=a("kRJp");var p=a("UMSQ");var h=a("CyXQ");var v=a("GC2F");var m=a("wE6v");var f=a("UTVS");var b=a("9d/t");var g=a("hh1v");var y=a("fHMY");var _=a("0rvr");var w=a("JBy8").f;var x=a("oHi+");var S=a("tycR").forEach;var k=a("JiZb");var C=a("m/L8");var P=a("Bs8V");var T=a("afO8");var V=a("cVYH");var A=T.get;var E=T.set;var I=C.f;var D=P.f;var O=Math.round;var L=s.RangeError;var B=l.ArrayBuffer;var M=l.DataView;var z=o.NATIVE_ARRAY_BUFFER_VIEWS;var F=o.TYPED_ARRAY_TAG;var U=o.TypedArray;var R=o.TypedArrayPrototype;var j=o.aTypedArrayConstructor;var q=o.isTypedArray;var N="BYTES_PER_ELEMENT";var $="Wrong length";var H=function(e,t){var a=0;var i=t.length;var s=new(j(e))(i);while(i>a)s[a]=t[a++];return s};var Y=function(e,t){I(e,t,{get:function(){return A(this)[t]}})};var G=function(e){var t;return e instanceof B||(t=b(e))=="ArrayBuffer"||t=="SharedArrayBuffer"};var W=function(e,t){return q(e)&&typeof t!="symbol"&&t in e&&String(+t)==String(t)};var J=function e(t,a){return W(t,a=m(a,true))?c(2,t[a]):D(t,a)};var Z=function e(t,a,i){if(W(t,a=m(a,true))&&g(i)&&f(i,"value")&&!f(i,"get")&&!f(i,"set")&&!i.configurable&&(!f(i,"writable")||i.writable)&&(!f(i,"enumerable")||i.enumerable)){t[a]=i.value;return t}return I(t,a,i)};if(n){if(!z){P.f=J;C.f=Z;Y(R,"buffer");Y(R,"byteOffset");Y(R,"byteLength");Y(R,"length")}i({target:"Object",stat:true,forced:!z},{getOwnPropertyDescriptor:J,defineProperty:Z});e.exports=function(e,t,a){var n=e.match(/\d+$/)[0]/8;var o=e+(a?"Clamped":"")+"Array";var l="get"+e;var c="set"+e;var m=s[o];var f=m;var b=f&&f.prototype;var C={};var P=function(e,t){var a=A(e);return a.view[l](t*n+a.byteOffset,true)};var T=function(e,t,i){var s=A(e);if(a)i=(i=O(i))<0?0:i>255?255:i&255;s.view[c](t*n+s.byteOffset,i,true)};var D=function(e,t){I(e,t,{get:function(){return P(this,t)},set:function(e){return T(this,t,e)},enumerable:true})};if(!z){f=t((function(e,t,a,i){d(e,f,o);var s=0;var r=0;var l,c,u;if(!g(t)){u=h(t);c=u*n;l=new B(c)}else if(G(t)){l=t;r=v(a,n);var m=t.byteLength;if(i===undefined){if(m%n)throw L($);c=m-r;if(c<0)throw L($)}else{c=p(i)*n;if(c+r>m)throw L($)}u=c/n}else if(q(t)){return H(f,t)}else{return x.call(f,t)}E(e,{buffer:l,byteOffset:r,byteLength:c,length:u,view:new M(l)});while(s<u)D(e,s++)}));if(_)_(f,U);b=f.prototype=y(R)}else if(r){f=t((function(e,t,a,i){d(e,f,o);return V(function(){if(!g(t))return new m(h(t));if(G(t))return i!==undefined?new m(t,v(a,n),i):a!==undefined?new m(t,v(a,n)):new m(t);if(q(t))return H(f,t);return x.call(f,t)}(),e,f)}));if(_)_(f,U);S(w(m),(function(e){if(!(e in f)){u(f,e,m[e])}}));f.prototype=b}if(b.constructor!==f){u(b,"constructor",f)}if(F){u(b,F,o)}C[o]=f;i({global:true,forced:f!=m,sham:!z},C);if(!(N in f)){u(f,N,n)}if(!(N in b)){u(b,N,n)}k(o)}}else e.exports=function(){}},"dP3/":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:"Facebook",size:"small",visible:e.visible,"back-button":e.backButtonEnabled,"back-button-aria-label":e.backButtonAriaLabel,"sr-description":"Share videos to Facebook","data-testid":"facebookDialog"},on:{back:function(t){return e.handleBack()},"update:visible":function(t){return e.$emit("update:visible",t)}},scopedSlots:e._u([e.screen==="push"?{key:"footer",fn:function(){return[e.enableScheduledSocialPush&&!e.scheduling?a("VyButton",{ref:"btn-schedule",attrs:{type:"default"},on:{click:function(t){e.scheduling=true}}},[e._v("\n      Schedule for Later\n    ")]):e._e(),e._v(" "),a("VyButton",{ref:"btn-share",attrs:{type:"primary",disabled:e.pushing,loading:e.pushing},on:{click:e.pushToFacebook}},[e._v("\n      "+e._s(e.shareButtonText)+"\n    ")])]},proxy:true}:null],true)},[e.screen!=="connect"?a("SharePreview",{attrs:{name:e.name,"share-link":"","thumbnail-url":e.thumbnailUrl}}):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.screen==="loading",expression:"screen === 'loading'"}],staticClass:"spinner-wrapper"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:75,status:"success"}})],1),e._v(" "),a("FacebookPushOptions",{directives:[{name:"show",rawName:"v-show",value:e.screen==="options",expression:"screen === 'options'"}],attrs:{"share-link":e.shareLink,"has-pages":e.hasPages,"has-accounts":e.hasAccounts},on:{"update-option":e.updateOption,"handle-heap-event":e.handleHeapEvent}}),e._v(" "),a("FacebookPush",{directives:[{name:"show",rawName:"v-show",value:e.screen==="push",expression:"screen === 'push'"}],ref:"facebookPush",attrs:{accounts:e.accounts,"video-id":e.videoId,name:e.name,"organization-id":e.organizationId,"video-description":e.videoDescription,"can-access-insights":e.canAccessInsights,"enable-scheduled-social-push":e.enableScheduledSocialPush,scheduling:e.scheduling},on:{close:function(t){e.visible=false},"pages-loaded":e.pagesLoaded}}),e._v(" "),a("FacebookConnect",{directives:[{name:"show",rawName:"v-show",value:e.screen==="connect",expression:"screen === 'connect'"}],attrs:{"organization-id":e.organizationId,"dashboard-url":e.dashboardUrl},on:{"handle-heap-event":function(t){return e.$emit("handle-heap-event",t)},connected:e.getAccounts}}),e._v(" "),a("ContactAdmin",{directives:[{name:"show",rawName:"v-show",value:e.screen==="contact",expression:"screen === 'contact'"}],attrs:{"social-platform-name":"Facebook"}})],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("L2JU");var o=a("nbMm");var l=a("rDkq");var d=a("MDNy");var c=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.loading?a("div",{staticClass:"spinner-wrapper"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:75,status:"success"}})],1):!e.scheduling?a("div",{staticClass:"fb-push"},[e.canAccessInsights?a("p",{staticClass:"insights-description"},[e._v("\n    Vidyard will receive view counts from Facebook, which will be visible in the Insights Dashboard.\n  ")]):e._e(),e._v(" "),a("div",{staticClass:"fb-push-row"},[e.accounts.length?a("div",{staticClass:"accounts-menu"},[a("label",{attrs:{id:"account-label"}},[e._v("\n        Account\n      ")]),e._v(" "),a("VyMenuRadio",{staticClass:"accounts-menu",attrs:{"labelled-by":"account-label","menu-items":e.accounts,"max-height":"200px","full-width":""},on:{select:e.updateSelectedAccount}})],1):e._e(),e._v(" "),e.pages.length?a("div",{staticClass:"pages-menu"},[a("label",{attrs:{id:"page-label"}},[e._v("\n        Facebook Page\n      ")]),e._v(" "),a("VyMenuRadio",{attrs:{"labelled-by":"page-label","menu-items":e.pages,"max-height":"200px","full-width":""},on:{select:e.updateSelectedPage}})],1):e._e()]),e._v(" "),a("VyTextArea",{staticClass:"post-description",attrs:{label:"Post Description","max-length":5e3},model:{value:e.postDescription,callback:function(t){e.postDescription=t},expression:"postDescription"}}),e._v(" "),a("div",{staticClass:"fb-push-row"},[a("VyCheckbox",{model:{value:e.story,callback:function(t){e.story=t},expression:"story"}},[e._v("\n      Show in Feeds and Timelines\n      "),a("div",{staticClass:"checkbox-description"},[e._v("\n        This video will appear in feeds, timelines, as well as your page\n      ")])])],1),e._v(" "),a("div",{staticClass:"fb-push-row"},[a("VyCheckbox",{model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}},[e._v("\n      Make video invisible and unsearchable\n      "),a("div",{staticClass:"checkbox-description"},[e._v("\n        You are still able to share with permalink and embed codes\n      ")])])],1)],1):a("div",{staticClass:"fb-push"},[a("VyDateTimePicker",{attrs:{"disable-past":""},on:{change:e.changeDate}})],1)};var u=[];c._withStripped=true;var p={name:"FacebookPush",components:{VyMenuRadio:o["A"],VyTextArea:o["S"],VyCheckbox:o["m"],VySpinner:o["K"],VyDateTimePicker:o["q"]},props:{accounts:{type:Array,required:true},organizationId:{type:Number,required:true},videoId:{type:Number,required:true},videoDescription:{type:String,required:true},name:{type:String,required:true},canAccessInsights:{type:Boolean,required:true},enableScheduledSocialPush:{type:Boolean,required:true},scheduling:{type:Boolean,required:true}},data(){return{loading:true,pages:[],postDescription:this.videoDescription,story:true,secret:false,selectedPage:{},selectedAccount:{},scheduledDatetime:null}},watch:{async accounts(e){if(e.length>0)await this.updateSelectedAccount(0);this.loading=false}},methods:{async updateSelectedAccount(e){this.selectedAccount=this.accounts[e];await this.getPagesForAccount(this.selectedAccount.id);this.updateSelectedPage(0)},updateSelectedPage(e){this.selectedPage=this.pages[e]},changeDate(e){this.scheduledDatetime=e},async getPagesForAccount(e){try{const{data:{pages:t=[]}}=await l["a"].get("/organizations/".concat(this.organizationId,"/videos/facebook_pages?facebook_token_id=").concat(e));t.sort(((e,t)=>(e.name||"").toLowerCase().localeCompare((t.name||"").toLowerCase())));this.pages=t.map((e=>({...e,text:e.name})))}catch(e){const t=new o["b"]("Failed to fetch pages for Facebook Account",{type:"error",icon:"exclamation-triangle"});o["b"].show(t)}finally{this.$emit("pages-loaded",this.pages)}},preparePushBody(){const e={facebook_token_id:this.selectedAccount.id,fb_description:this.postDescription};if(this.selectedPage&&this.selectedPage.id){e.fb_page_id=this.selectedPage.id}if(this.secret){e.fb_secret=true}if(!this.story){e.fb_nostory=true}if(this.scheduling){e.scheduled="later";e.scheduled_datetime=this.scheduledDatetime}return e},reset(){this.postDescription="";this.story=true;this.secret=false}}};var h=p;var v=a("vnQv");var m=a("KHd+");var f=Object(m["a"])(h,c,u,false,null,"23dedbe3",null);if(false){var b}f.options.__file="app/assets/components/share-dialog/facebook-push/facebook-push.vue";var g=f.exports;var y=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.isFinalizingConnection?a("div",{staticClass:"fb"},[a("div",{staticClass:"fb-blurb"},[a("div",{staticClass:"fb-icon"},[a("VyIcon",{attrs:{slot:"icon",name:"faFacebookF",type:"brands"},slot:"icon"})],1),e._v(" "),e._m(0)]),e._v(" "),e.connectError?a("VyAlert",{attrs:{type:"error",description:e.connectError}}):e._e(),e._v(" "),a("div",{staticClass:"fb-connect"},[a("p",[e._v("You do not have an account set up yet!")]),e._v(" "),a("VyButton",{attrs:{type:"primary",loading:e.isConnecting},on:{click:function(t){e.reset();e.connectAccount()}}},[e._v("\n      Connect Account\n    ")])],1)],1):a("div",{staticClass:"fb-finalize"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:50,status:"success"}}),e._v(" "),e._m(1)],1)};var _=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",[a("strong",[e._v("Facebook")])]),e._v(" "),a("div",[e._v("Share your Vidyard videos directly to Facebook")])])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",[e._v("\n    Account successfully connected!\n    "),a("br"),e._v("\n    Redirectingâ€¦\n  ")])}];y._withStripped=true;var w={name:"FacebookConnect",components:{VyAlert:o["d"],VyButton:o["j"],VyIcon:o["v"],VySpinner:o["K"]},props:{organizationId:{type:Number,required:true},dashboardUrl:{type:String,required:true}},data(){return{connectError:null,isConnecting:false,isFinalizingConnection:false}},mounted(){this.reset()},methods:{async connectAccount(){this.isConnecting=true;try{await this.connect(this.organizationId);this.isFinalizingConnection=true;this.$emit("handle-heap-event",{eventName:"facebook.account-integrated"});this.$emit("connected")}catch(e){this.connectError=e.message}this.isConnecting=false},reset(){this.connectError=null;this.isConnecting=false;this.isFinalizingConnection=false},connect(e){return new Promise(((t,a)=>{let i;let s;function n(e){if(e.source===i){const{data:{status:i,message:r}}=e;if(i==="success"){t(r)}else{a(new Error(r))}clearInterval(s);window.removeEventListener("message",n)}}window.addEventListener("message",n);i=window.open("/organizations/".concat(e,"/user/oauth2/facebook?is_windowed_callback=true"),"Facebook Setup","location=0,status=0,width=800,height=400");s=setInterval((()=>{if(i.closed){a(new Error("Facebook window was closed before account setup was complete"));clearInterval(s)}}),1e3)}))}}};var x=w;var S=a("x4zB");var k=Object(m["a"])(x,y,_,false,null,"6e52149e",null);if(false){var C}k.options.__file="app/assets/components/share-dialog/facebook-push/facebook-connect.vue";var P=k.exports;var T=a("pe3L");var V=function(){var e=this;var t=e.$createElement;var i=e._self._c||t;return i("div",{staticClass:"facebook-push-options push-options"},[i("ShareLinkOptionButton",{on:{click:e.chooseFacebookLink}},[i("img",{attrs:{slot:"image",src:a("ryBB"),alt:"facebook link"},slot:"image"})]),e._v(" "),i("PushVideoOptionButton",{attrs:{"has-accounts":e.hasAccounts,"has-push-targets":e.hasPages},on:{click:e.chooseFacebookPush}},[!e.hasAccounts||e.hasPages?i("img",{attrs:{slot:"image",src:a("YQmD"),alt:"facebook push"},slot:"image"}):i("img",{attrs:{slot:"image",src:a("5X2M"),alt:"facebook push"},slot:"image"})])],1)};var A=[];V._withStripped=true;var E=a("H58f");var I=a("tjwj");var D={name:"FacebookPushOptions",components:{PushVideoOptionButton:E["a"],ShareLinkOptionButton:I["a"]},props:{shareLink:{type:String,required:true},hasPages:{type:Boolean,required:true},hasAccounts:{type:Boolean,required:true}},methods:{chooseFacebookPush(){this.$emit("update-option","push")},openShareWindow(e){const t=626;const a=436;window.open(e,"sharer","width=".concat(t,", innerHeight=").concat(a,", location=no, menubar=no, status=no, titlebar=no, scrollbars=no, toolbar=no"))},chooseFacebookLink(){const e="".concat(encodeURIComponent(this.shareLink),"?");this.openShareWindow("https://www.facebook.com/sharer.php?u=".concat(e));this.$emit("update-visibility",false);this.$emit("handle-heap-event")}}};var O=D;var L=Object(m["a"])(O,V,A,false,null,null,null);if(false){var B}L.options.__file="app/assets/components/share-dialog/facebook-push/facebook-push-options.vue";var M=L.exports;var z={name:"FacebookDialog",components:{ContactAdmin:T["a"],FacebookConnect:P,FacebookPush:g,FacebookPushOptions:M,SharePreview:d["a"],VyButton:o["j"],VyDialog:o["r"],VySpinner:o["K"]},props:{visible:{type:Boolean,required:true},organizationId:{type:Number,required:true},videoId:{type:Number,required:true},videoDescription:{type:String,required:true},thumbnailUrl:{type:String,required:true},name:{type:String,required:true},dashboardUrl:{type:String,required:true},canEditIntegrations:{type:Boolean,required:true},canAccessInsights:{type:Boolean,required:true},enableScheduledSocialPush:{type:Boolean,required:true},shareLink:{type:String,required:true},backButtonEnabled:{type:Boolean,required:false,default:true}},data(){return{accounts:[],loading:true,pushing:false,scheduling:false,selectedOption:"",hasPages:false}},computed:{...Object(r["g"])("vidyard",["csrfToken"]),hasAccounts(){return this.accounts.length>0},screen(){if(this.loading)return"loading";if(this.selectedOption===""||!this.hasPages&&this.hasAccounts)return"options";if(this.hasAccounts)return"push";if(this.canEditIntegrations)return"connect";return"contact"},shareButtonText(){if(this.enableScheduledSocialPush&&!this.scheduling)return"Share Now";return"Share"},backButtonAriaLabel(){return"Back to ".concat(this.selectedOption===""?"all":"facebook"," sharing options")}},watch:{visible(e){if(e){this.scheduling=false;this.selectedOption="";this.$refs.facebookPush.reset();this.getAccounts()}}},methods:{handleHeapEvent(){this.$emit("handle-heap-event",{eventName:"facebook.link-share"})},async getAccounts(){this.loading=true;try{const{data:{facebook_tokens:e}}=await l["a"].get("/api/v1/organizations/".concat(this.organizationId,"/facebook_tokens"));this.accounts=e.map((e=>({...e,text:e.data.username})));this.errorMessage=""}catch(e){this.accounts=[]}if(this.accounts.length===0)this.pagesLoaded([])},async pushToFacebook(){this.pushing=true;const e=this.$refs.facebookPush.preparePushBody();const t={scheduled:this.scheduling};let a;try{const i={headers:{"X-CSRF-TOKEN":this.csrfToken}};await l["a"].patch("/organizations/".concat(this.organizationId,"/videos/").concat(this.videoId,"/push_to_facebook"),e,i);a=new o["b"]("Successfully pushed to Facebook",{type:"success",icon:"check-circle"});this.$emit("handle-heap-event",{eventName:"facebook.push",customOptions:t})}catch(e){console.error(e);a=new o["b"]("Failed to push to Facebook",{type:"error",icon:"exclamation-triangle"});this.$emit("handle-heap-event",{eventName:"facebook.push-failed",customOptions:t})}finally{this.pushing=false;o["b"].show(a);this.$emit("update:visible",false)}},updateOption(e){this.selectedOption=e},pagesLoaded(e){this.hasPages=e.length>0;this.loading=false},handleBack(){if(this.scheduling){this.scheduling=false;return}if(this.selectedOption==="push"){this.selectedOption="";return}this.$emit("back")}}};var F=z;var U=a("H2eV");var R=Object(m["a"])(F,i,s,false,null,null,null);if(false){var j}R.options.__file="app/assets/components/share-dialog/facebook-push/dialog.vue";var q=t["a"]=R.exports},dem8:function(e,t,a){var i=a("bQEl");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("58f3c6d4",i,false,{});if(false){}},"e6b/":function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{staticClass:"youtube-dialog",attrs:{title:"YouTube",size:"small",visible:e.visible,"back-button":e.backButtonEnabled,"back-button-aria-label":e.backButtonAriaLabel,"data-testid":"youtubeDialog"},on:{"visible-change":function(t){return e.$emit("update:visible",t)},back:e.handleBack},scopedSlots:e._u([e.screen==="push"||e.screen==="scheduled-push"?{key:"footer",fn:function(){return[e.screen==="push"?[e.enableScheduledSocialPush?a("VyButton",{ref:"btn-show-schedule",attrs:{disabled:e.pushing},on:{click:function(t){e.showScheduledPush=true}}},[e._v("\n        Schedule for Later\n      ")]):e._e(),e._v(" "),a("VyButton",{ref:"btn-share",attrs:{type:"primary",disabled:e.pushing},on:{click:function(t){return e.pushToYoutube()}}},[e._v("\n        Share Now\n      ")])]:e._e(),e._v(" "),e.screen==="scheduled-push"?[a("VyButton",{ref:"btn-cancel-schedule",attrs:{disabled:e.pushing},on:{click:function(t){e.showScheduledPush=false}}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{ref:"btn-schedule",attrs:{type:"primary",disabled:e.pushing},on:{click:function(t){return e.pushToYoutube("scheduled")}}},[e._v("\n        Schedule\n      ")])]:e._e()]},proxy:true}:null],true)},[e.screen==="loading"?a("div",{staticClass:"spinner-wrapper"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:75,status:"success"}})],1):e._e(),e._v(" "),e.screen==="error"?a("YoutubeError",{attrs:{"error-type":e.errorType}}):e._e(),e._v(" "),e.screen==="connect"?a("YoutubeConnect",{attrs:{"organization-id":e.organizationId},on:{"handle-heap-event":function(t){return e.$emit("handle-heap-event",t)},connected:e.fetchAccounts}}):e._e(),e._v(" "),e.screen==="push"||e.screen==="scheduled-push"?[a("SharePreview",{attrs:{name:e.name,"thumbnail-url":e.thumbnailUrl,"share-link":""}}),e._v(" "),e.screen==="push"?a("YoutubePushOptions",{attrs:{channels:e.channels,categories:e.categories,"can-access-insights":e.canAccessInsights},on:{"update:push-options":function(t){e.pushOptions=t}}}):e._e(),e._v(" "),e.screen==="scheduled-push"?a("YoutubeScheduledPushOptions",{on:{"update:scheduled-push-options":function(t){e.scheduledPushOptions=t}}}):e._e()]:e._e()],2)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("nbMm");var o=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("img",{attrs:{src:e.illustration}}),e._v(" "),a("p",[e._v(e._s(e.text))])])};var l=[];o._withStripped=true;var d=a("9Cr1");var c=a.n(d);var u=a("Q4i2");var p=a.n(u);var h={name:"YoutubeError",props:{errorType:{type:String,required:true}},computed:{illustration(){switch(this.errorType){case"missing-permission":return c.a;default:return p.a}},text(){switch(this.errorType){case"missing-permission":return"Please contact your admin to connect a YouTube account. You do not have permission to connect a brand new account, but have permissions to push content to YouTube.";case"failed-account-fetch":return"Sorry! We were unable to fetch your connected YouTube accounts. Please try again later.";case"failed-category-fetch":return"Sorry! We were unable to fetch associated data from YouTube. Please try again later.";default:return"Something went wrong while setting up a push to YouTube. Please try again later."}}}};var v=h;var m=a("ASuD");var f=a("KHd+");var b=Object(f["a"])(v,o,l,false,null,"058ec7fd",null);if(false){var g}b.options.__file="app/assets/components/share-dialog/youtube-push/error.vue";var y=b.exports;var _=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.isFinalizingConnection?a("div",{staticClass:"yt"},[a("div",{staticClass:"yt-blurb"},[a("div",{staticClass:"yt-icon"},[a("VyIcon",{attrs:{slot:"icon",name:"faYoutube",type:"brands"},slot:"icon"})],1),e._v(" "),e._m(0)]),e._v(" "),e.connectError?a("VyAlert",{attrs:{type:"error",description:e.connectError}}):e._e(),e._v(" "),a("div",{staticClass:"yt-connect"},[a("p",[e._v("You do not have an account set up yet!")]),e._v(" "),a("VyButton",{attrs:{type:"primary",loading:e.isConnecting},on:{click:function(t){e.reset();e.connectAccount()}}},[e._v("\n      Connect Account\n    ")])],1)],1):a("div",{staticClass:"yt-finalize"},[a("VySpinner",{attrs:{type:"circle",indeterminate:true,diameter:75,status:"success"}}),e._v(" "),e._m(1)],1)};var w=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",[a("strong",[e._v("YouTube")])]),e._v(" "),a("div",[e._v("Share your Vidyard videos directly to YouTube")])])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("p",[e._v("\n    Account successfully connected!\n    "),a("br"),e._v("\n    Redirectingâ€¦\n  ")])}];_._withStripped=true;var x=a("rDkq");var S={async youtubeTokens(e){try{const t=await x["a"].get("/api/v1/organizations/".concat(e,"/youtube_tokens"));return{success:true,data:t.data}}catch(e){return{success:false,error:e.response.data.error}}}};class k{constructor(e,t){this._id=e;this._name=t}get id(){return this._id}get name(){return this._name}}async function C(e){const t=await S.youtubeTokens(e);if(!t.success){if(t.error==="No youtube channels associated with this org"){return[]}return null}return t.data.map((e=>new k(e.data.id,e.data.username)))}function P(e){return new Promise(((t,a)=>{function i(e){if(e.origin!==window.location.origin&&"production"!=="test"||typeof e.data!=="object"){return}const{data:{status:s,message:n}}=e;if(s==="success"){t(n)}else{a(new Error(n))}window.removeEventListener("message",i)}window.addEventListener("message",i);const s=window.open("/organizations/".concat(e,"/user/oauth2/google"),"YouTube Setup","location=0,status=0,width=800,height=400");const n=setInterval((()=>{if(s.closed){window.postMessage({status:"aborted"},window.location.origin);clearInterval(n)}}),500)}))}const T={Channel:k};var V={name:"YoutubeConnect",components:{VyAlert:r["d"],VyButton:r["j"],VyIcon:r["v"],VySpinner:r["K"]},props:{organizationId:{type:Number,required:true}},data(){return{connectError:null,isConnecting:false,isFinalizingConnection:false}},mounted(){this.reset()},methods:{async connectAccount(){this.isConnecting=true;try{await P(this.organizationId);this.isFinalizingConnection=true;this.$emit("handle-heap-event",{eventName:"youtube.account-integrated"});setTimeout((()=>{this.$emit("connected")}),1e3)}catch(e){this.connectError=e.message}this.isConnecting=false},reset(){this.connectError=null;this.isConnecting=false;this.isFinalizingConnection=false}}};var A=V;var E=a("OEIe");var I=Object(f["a"])(A,_,w,false,null,"70306ac2",null);if(false){var D}I.options.__file="app/assets/components/share-dialog/youtube-push/connect.vue";var O=I.exports;var L=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[e.canAccessInsights?a("p",[e._v("\n    Vidyard will receive view counts from YouTube, which will be visible in the Insights Dashboard.\n  ")]):e._e(),e._v(" "),a("div",{ref:"options",staticClass:"options"},[a("div",{staticClass:"option-item"},[a("label",{attrs:{id:"channel-label"}},[e._v("\n        Account\n      ")]),e._v(" "),a("VyMenuRadio",{staticClass:"menu",attrs:{"labelled-by":"channel-label","menu-items":e.channelMenuOptions,"full-width":""},on:{select:e.handleSelectedChannel}})],1),e._v(" "),a("div",{staticClass:"option-item"},[a("label",{attrs:{id:"privacy-label"}},[e._v("\n        Privacy\n      ")]),e._v(" "),a("VyMenuRadio",{staticClass:"menu",attrs:{"labelled-by":"privacy-label","menu-items":e.privacyMenuOptions,"full-width":""},on:{select:e.handleSelectedPrivacy}})],1),e._v(" "),a("div",{staticClass:"option-item"},[a("label",{attrs:{id:"category-label"}},[e._v("\n        Category\n      ")]),e._v(" "),a("VyMenuRadio",{staticClass:"menu",attrs:{"labelled-by":"category-label","max-height":"200px","menu-items":e.categoryMenuOptions,"full-width":""},on:{select:e.handleSelectedCategory}})],1)])])};var B=[];L._withStripped=true;var M=a("6acW");var z=a.n(M);const F=["public","private","unlisted"];var U={name:"YoutubePushOptions",components:{VyMenuRadio:r["A"]},provide(){return{cyOverflowTarget:this.overflowTarget}},props:{channels:{type:Array,required:true},categories:{type:Array,required:true},canAccessInsights:{type:Boolean,required:true}},data(){return{overflowTarget:{value:window},selectedChannel:this.channels[0].id,selectedPrivacy:F[0],selectedCategory:this.categories[0].id}},computed:{channelMenuOptions(){return this.channels.map((e=>({text:e.name})))},privacyMenuOptions(){return F.map((e=>({text:z()(e)})))},categoryMenuOptions(){return this.categories.map((e=>({text:e.name})))}},mounted(){this.emitPushOptions();this.overflowTarget.value=this.$refs.options},methods:{handleSelectedChannel(e){this.selectedChannel=this.channels[e].id;this.emitPushOptions()},handleSelectedPrivacy(e){this.selectedPrivacy=F[e];this.emitPushOptions()},handleSelectedCategory(e){this.selectedCategory=this.categories[e].id;this.emitPushOptions()},emitPushOptions(){this.$emit("update:push-options",{channelId:this.selectedChannel,privacy:this.selectedPrivacy,categoryId:this.selectedCategory})}}};var R=U;var j=a("eMPY");var q=Object(f["a"])(R,L,B,false,null,"6830ebf4",null);if(false){var N}q.options.__file="app/assets/components/share-dialog/youtube-push/push-options.vue";var $=q.exports;var H=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("p",[e._v("Schedule at which date and time you would like this video to be shared on to your YouTube channel. This time will not be editable in the future.")]),e._v(" "),a("div",{staticClass:"options"},[a("VyDateTimePicker",{attrs:{"disable-past":""},on:{change:e.handleChangeDateTime}})],1)])};var Y=[];H._withStripped=true;var G={name:"YoutubeScheduledPushOptions",components:{VyDateTimePicker:r["q"]},methods:{handleChangeDateTime(e){this.$emit("update:scheduled-push-options",{scheduledDateTime:e.getTime()})}}};var W=G;var J=a("CXEb");var Z=Object(f["a"])(W,H,Y,false,null,"586c3766",null);if(false){var K}Z.options.__file="app/assets/components/share-dialog/youtube-push/scheduled-push-options.vue";var Q=Z.exports;var X=a("MDNy");var ee={name:"YoutubeDialog",components:{SharePreview:X["a"],VyButton:r["j"],VyDialog:r["r"],VySpinner:r["K"],YoutubeError:y,YoutubeConnect:O,YoutubePushOptions:$,YoutubeScheduledPushOptions:Q},props:{organizationId:{type:Number,required:true},visible:{type:Boolean,default:false},name:{type:String,required:true},thumbnailUrl:{type:String,required:true},videoId:{type:Number,required:true},canEditIntegrations:{type:Boolean,required:true},canAccessInsights:{type:Boolean,required:true},enableScheduledSocialPush:{type:Boolean,required:true},backButtonEnabled:{type:Boolean,required:false,default:true}},data(){return{channelFetchError:null,channelLoading:true,channels:null,categoryFetchError:null,categoryLoading:true,categories:null,showScheduledPush:false,pushOptions:{},scheduledPushOptions:{},pushing:false}},computed:{hasChannel(){return this.channels!==null&&this.channels.length>0},screen(){if(this.channelLoading||this.categoryLoading)return"loading";if(this.errorType)return"error";if(!this.hasChannel)return"connect";if(this.showScheduledPush)return"scheduled-push";return"push"},errorType(){if(!this.hasChannel&&!this.canEditIntegrations)return"missing-permission";if(this.channelFetchError)return"failed-account-fetch";if(this.categoryFetchError)return"failed-category-fetch";return null},backButtonAriaLabel(){return"Back to ".concat(this.showScheduledPush?"youtube":"all"," sharing options")}},watch:{visible(e){if(e){this.reset();this.fetchAccounts();this.fetchYoutubeCategories()}}},methods:{reset(){this.channelFetchError=null;this.channelLoading=true;this.channels=null;this.categoryFetchError=null;this.categoryLoading=true;this.categories=null;this.showScheduledPush=false;this.pushOptions={};this.scheduledPushOptions={};this.pushing=false},handleBack(){if(this.showScheduledPush){this.showScheduledPush=false;return}this.$emit("back")},async fetchAccounts(){this.channels=await C(this.organizationId);if(this.channels===null){this.channelFetchError=true}this.channelLoading=false},async fetchYoutubeCategories(){try{const{data:{categories:{list:e}}}=await x["a"].get("/organizations/".concat(this.organizationId,"/videos/youtube_settings"));this.categories=e}catch(e){this.categoryFetchError=true}this.categoryLoading=false},async pushToYoutube(e="normal"){this.pushing=true;const t={channel_id:this.pushOptions.channelId,category_id:this.pushOptions.categoryId,privacy_setting:this.pushOptions.privacy};const a={scheduled:this.type==="scheduled"};if(e==="scheduled"){t.scheduled_timestamp=(this.scheduledPushOptions.scheduledDateTime/1e3).toString()}try{await x["a"].post("/api/v1/organizations/".concat(this.organizationId,"/videos/").concat(this.videoId,"/youtube_push"),t);r["b"].show(new r["b"]("Successfully pushed to YouTube",{type:"success",icon:"check-circle"}));this.$emit("handle-heap-event",{eventName:"youtube.push",customOptions:a})}catch(e){var i;const t=((i=e.response.data)===null||i===void 0?void 0:i.error)||"Failed to push to YouTube";r["b"].show(new r["b"](t,{type:"error",icon:"exclamation-triangle"}));this.$emit("handle-heap-event",{eventName:"youtube.push-failed",customOptions:a})}this.pushing=false;this.$emit("update:visible",false)}}};var te=ee;var ae=a("gu+x");var ie=Object(f["a"])(te,i,s,false,null,"0a539fba",null);if(false){var se}ie.options.__file="app/assets/components/share-dialog/youtube-push/dialog.vue";var ne=t["a"]=ie.exports},eIIN:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("VyOverflowMenu",{directives:[{name:"show",rawName:"v-show",value:e.editable&&e.menuItemsEditable.length,expression:"editable && menuItemsEditable.length"}],staticClass:"dropdown",attrs:{"menu-items":e.menuItemsEditable,"display-options":{alignRight:true},"aria-label":"More video actions"},on:{action:e.selectMenuItemEditable}}),e._v(" "),a("MoveVideosDialog",{attrs:{videos:[e.playlistsEnabled?{uuid:e.uuid}:{id:e.videoId}],"has-playlists":e.playlistsEnabled,visible:e.showMoveVideoModal,location:"edit_page"},on:{"videos-moved":e.handleVideoMoved,"update:visible":function(t){return e.setMoveVideoModalVisibility(t)}}}),e._v(" "),a("ConfirmDelete",{attrs:{visible:e.showDeleteVideoModal,title:e.deleteConfirmTitle,text:e.deleteConfirmMessage,"data-testid":"confirm-delete-video-dialog"},on:{"deletion-confirmed":e.handleDeleteVideo,"update:visible":function(t){return e.setDeleteVideoModalVisibility(t)}}}),e._v(" "),a("VideoDownloadDialog",{attrs:{id:e.videoId,visible:e.showDownloadVideoModal,"organization-id":e.organization.id},on:{"update:visible":function(t){return e.setDownloadVideoModalVisibility(t)}}}),e._v(" "),a("VideoInsightsDialog",{attrs:{visible:e.showVideoInsightsDialog,video:{createdAt:e.createdAt,id:e.videoId,length:e.videoDuration,name:e.videoName},"video-facade-uuid":e.uuid},on:{"update:visible":function(t){e.showVideoInsightsDialog=t}}})],1)};var s=[];i._withStripped=true;var n=a("3bBZ");var r=a("Kz25");var o=a("mn20");var l=a("P56O");var d=a("IHRM");var c=a("W8xq");var u=a("xIah");var p=a("Xl0d");var h=a("nbMm");var v=a("JVCQ");var m=a("qA81");var f=a("CSYd");var b=a("uRwu");var g=a("YKNr");var y=a("Ok+A");var _={name:"DropdownContent",components:{VyOverflowMenu:h["B"],ConfirmDelete:f["a"],MoveVideosDialog:b["a"],VideoDownloadDialog:g["a"],VideoInsightsDialog:y["a"]},props:{previewUrl:{type:String,required:false,default:undefined}},data(){return{I18n,orgInput:"",selectedOrgId:null,faSearch:v["faSearch"],faCheck:m["faCheck"],menuItems:[],showVideoInsightsDialog:false}},computed:{...l["c"].mapState(["organization","canSwitchGroup","user"]),...p["b"].mapGetters(["videoId","videoName","videoDuration","isLiveStream","createdAt"]),...d["c"].mapGetters(["hasFeature","getVariation"]),...c["b"].mapGetters(["hasPermission"]),...u["b"].mapState(["uuid","playerType","editable"]),...u["b"].mapGetters(["isPersonalized"]),...o["b"].mapState(["showMoveVideoModal","showDeleteVideoModal","showDownloadVideoModal","containedLiveStream"]),hasAnalyticsCenterFeature(){return this.hasFeature("analytics_center")},hasVideoInsights(){if(this.objectType!=="video"){return false}if(this.hasAnalyticsCenterFeature){return this.hasPermission("can_access_analytics")}return true},playlistsEnabled(){return this.hasFeature("video_playlists")},menuItemsEditable(){const e=[];const t=!this.isPersonalized||this.objectType==="playlist";if(this.containedLiveStream){return t||this.user.vyAdmin?[{text:"Delete"}]:[]}if(this.user.vyAdmin&&this.hasFeature("personalization")){e.unshift({text:"Personalize Video",href:this.personalizeVideoUrl});e.unshift({text:"Personalize Thumbnails",href:this.personalizeThumbnailUrl})}if(t||this.user.vyAdmin){e.unshift({text:"Delete"})}if(this.videoId>0&&this.hasPermission("can_download")&&this.hasFeature("download_access")){e.unshift({text:"Download"})}if(this.hasPermission("can_edit_players")&&this.canSwitchGroup){e.unshift({text:"Move"})}if(this.hasVideoInsights){e.unshift({text:"Video Insights",href:this.hasAnalyticsCenterFeature?undefined:this.videoInsightsUrl})}if(this.previewUrl){e.unshift({text:"Preview",href:this.fullPreviewLink,openInNewTab:true})}return e},objectType(){if(this.playlistsEnabled&&this.playerType==="playlist"){return"playlist"}return"video"},deleteConfirmTitle(){const e=this.isLiveStream?"stream":this.objectType;return"Are you sure you want to delete this ".concat(e,"?")},deleteConfirmMessage(){if(this.isLiveStream){return"The stream along with the stream key and embeds will be permanently deleted and cannot be restored.\n        The stream key will be deactivated meaning you will not be able to stream to the key anymore.\n        Are you sure you would like to permanently delete this stream?"}let e="and cannot be restored";if(this.hasFeature("videos_restoration")&&this.objectType==="video"){e="and it can be restored from Trash in My Profile"}return"This ".concat(this.objectType," will be removed from your library, ").concat(e,".")},fullPreviewLink(){const e=new URL(this.previewUrl);const t=e.searchParams;if(this.getVariation("share_page_2019_show_banner_on_preview",false)){t.set("showBanner","true")}e.search=t.toString();return e.toString()},videoInsightsUrl(){return"/organizations/".concat(this.organization.id,"/video_insights?video_id=").concat(this.videoId,"&source=edit-page")},personalizeVideoUrl(){return"/organizations/".concat(this.organization.id,"/videos/").concat(this.videoId,"/personal/campaign/edit")},personalizeThumbnailUrl(){return"/organizations/".concat(this.organization.id,"/players/").concat(this.uuid,"/splash_screens")}},methods:{...l["c"].mapActions(["sendHeapEvent"]),...u["b"].mapActions(["deleteVideo"]),...o["b"].mapMutations(["setMoveVideoModalVisibility","setDownloadVideoModalVisibility","setDeleteVideoModalVisibility"]),selectMenuItemEditable(e){const{text:t}=this.menuItemsEditable[e];switch(t){case"Video Insights":this.sendHeapEvent({eventName:"Video Insights button clicked"});if(this.hasAnalyticsCenterFeature){this.showVideoInsightsDialog=true}break;case"Download":this.setDownloadVideoModalVisibility(true);break;case"Delete":this.setDeleteVideoModalVisibility(true);break;case"Move":default:this.setMoveVideoModalVisibility(true);break}},handleDeleteVideo(){this.setDeleteVideoModalVisibility(false);this.deleteVideo()},handleVideoMoved(e,t){this.setMoveVideoModalVisibility(false);if(t.length===0)return;window.location="/organizations/".concat(this.organization.id,"/library?show=moved&objectType=").concat(this.objectType.toLowerCase())}}};var w=_;var x=a("KHd+");var S=Object(x["a"])(w,i,s,false,null,null,null);if(false){var k}S.options.__file="app/assets/components/video_edit_page/common/DropdownContent.vue";var C=t["a"]=S.exports},eMPY:function(e,t,a){"use strict";var i=a("CUR7");var s=a.n(i);var n=s.a},"eV+2":function(e,t,a){"use strict";var i=a("ADDm");var s=a.n(i);var n=s.a},ee8Y:function(e,t,a){"use strict";var i=a("9oGl");var s=a.n(i);var n=s.a},egTs:function(e,t,a){"use strict";t["a"]={index:(e,t)=>({method:"GET",url:"/api/v1.1/organizations/".concat(e,"/players/uuid=").concat(t,"/embed_codes")}),create:(e,t)=>({method:"POST",url:"/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/embed")}),destroy:(e,t)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/embed")})}},evI8:function(e,t,a){"use strict";var i=a("tqSL");var s=a.n(i);var n=s.a},fLqV:function(e,t,a){var i=a("VQ4C");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("ec96e37e",i,false,{});if(false){}},fuOl:function(e,t,a){"use strict";var i=a("DrgS");var s=a.n(i);var n=s.a},fubL:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-box-modal-bg[data-v-448bda9d]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);z-index:24}.player-box[data-v-448bda9d]{position:relative;margin-bottom:16px}.player-box.player-box--drawer-open[data-v-448bda9d]{z-index:24}.player-box .player-box__drawer[data-v-448bda9d]{position:absolute;width:100%;z-index:1;background-color:#fff;border-radius:0 0 5px 5px}.player-details[data-v-448bda9d]{display:flex;justify-content:space-between;align-content:center;color:#5b627d}.player-details .player-details__create-date[data-v-448bda9d]{flex-grow:1;font-size:16px}.player-details .player-details__create-date .create-date__header[data-v-448bda9d]{display:block;text-transform:uppercase;font-size:12px;letter-spacing:.05em}.player-details .player-actions[data-v-448bda9d]{flex-grow:2;display:flex;justify-content:flex-end;align-content:center;margin-right:1px;position:relative}.player-details .player-actions>*[data-v-448bda9d]{margin-left:12px}.expand-enter-active[data-v-448bda9d],.expand-leave-active[data-v-448bda9d]{max-height:250px;transition:max-height .4s ease-in-out}.expand-enter[data-v-448bda9d],.expand-leave-to[data-v-448bda9d]{max-height:0}.fade-enter-active[data-v-448bda9d],.fade-leave-active[data-v-448bda9d]{background:rgba(0,0,0,.5);transition:background .4s ease-in-out}.fade-enter[data-v-448bda9d],.fade-leave-to[data-v-448bda9d]{background:transparent}[data-v-448bda9d] .vy-tooltip{width:340px;white-space:normal!important;text-align:center}",""]);e.exports=s},fz7C:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.custom-thumbnail-wrapper[data-v-3d077dca]{padding:12px}.take-picture-caption[data-v-3d077dca]{text-align:center}.custom-options-wrapper[data-v-3d077dca]{position:relative;margin-top:12px}.custom-options-wrapper .custom-options[data-v-3d077dca]{box-shadow:none;border:.1rem dashed #c8cee3;border-radius:4px;display:block}.custom-options-wrapper .custom-options[data-v-3d077dca]:focus{outline:none;box-shadow:0 0 0 6px #bfc4ff}.custom-options-wrapper .custom-options.aspect-ratio[data-v-3d077dca]{background:transparent}.custom-options-wrapper .custom-options[data-v-3d077dca]:active,.custom-options-wrapper .custom-options[data-v-3d077dca]:hover{cursor:pointer;border-color:#a9b0c9}.custom-options-wrapper .custom-options:active .thumbnail-button-wrapper[data-v-3d077dca]:not(:last-of-type),.custom-options-wrapper .custom-options:hover .thumbnail-button-wrapper[data-v-3d077dca]:not(:last-of-type){border-color:#a9b0c9}.custom-options-wrapper .custom-options .thumbnail-button-wrapper[data-v-3d077dca]{background:transparent;position:relative;display:flex;justify-content:center;width:50%;font-size:18px}.custom-options-wrapper .custom-options .thumbnail-button-wrapper[data-v-3d077dca]:not(:last-of-type){border-right:.1rem dashed #dde1f0;transition:border .08s cubic-bezier(.645,.045,.355,1)}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button[data-v-3d077dca]{display:grid;grid-template-columns:auto;grid-template-rows:15% 30% 40% 15%;grid-template-areas:"." "button-icon" "button-text" ".";justify-content:center;align-items:center;font-size:14px;border:0;border-radius:4px;width:100%;height:100%;transition:background-color .08s cubic-bezier(.645,.045,.355,1),color .08s cubic-bezier(.645,.045,.355,1)}@media (max-width:1024px){.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button[data-v-3d077dca]{grid-template-rows:32%}}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button.thumbnail-button--left[data-v-3d077dca]{border-top-right-radius:0;border-bottom-right-radius:0}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button.thumbnail-button--right[data-v-3d077dca]{border-top-left-radius:0;border-bottom-left-radius:0}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button[data-v-3d077dca]:focus{outline:none;box-shadow:0 0 0 3px #bfc4ff;z-index:1}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button[data-v-3d077dca]:hover{color:#475066;background-color:#f5f9ff;border-color:#a9b0c9}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button[data-v-3d077dca]:active{color:#475066;background-color:#ebf0f7;border-color:#dde1f0}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button .thumbnail-button__icon[data-v-3d077dca]{grid-area:button-icon;margin:auto}@media (min-width:1500px){.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button .thumbnail-button__icon[data-v-3d077dca]{font-size:16px}}.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button .thumbnail-button__text[data-v-3d077dca]{padding:0 8px;text-align:center;height:auto;grid-area:button-text}@media (min-width:1024px){.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button .thumbnail-button__text[data-v-3d077dca]{font-size:12px}}@media (min-width:1200px){.custom-options-wrapper .custom-options .thumbnail-button-wrapper .thumbnail-button .thumbnail-button__text[data-v-3d077dca]{font-size:inherit}}.take-picture-modal .picture-container[data-v-3d077dca]{position:relative;display:flex;justify-content:center;align-items:center}.take-picture-modal .picture-container video[data-v-3d077dca]{width:100%;display:block;border-radius:4px 4px 0 0}.take-picture-modal .picture-container canvas[data-v-3d077dca]{position:absolute;top:0;width:100%;height:100%;border-radius:4px 4px 0 0}.take-picture-modal .picture-container .play-button-container[data-v-3d077dca]{position:absolute;width:15%}.take-picture-modal .dialog-footer .mid-capture[data-v-3d077dca],.take-picture-modal .dialog-footer .post-capture[data-v-3d077dca],.take-picture-modal .dialog-footer .pre-capture[data-v-3d077dca]{width:100%}.take-picture-modal .dialog-footer .mid-capture[data-v-3d077dca]{position:relative;display:flex;height:34px;justify-content:center;align-items:center;color:#606782;background-color:#fff;box-shadow:0 0 0 1px #a9b0c9;border-radius:0 0 4px 4px}.take-picture-modal .dialog-footer .vy-button-group[data-v-3d077dca]{display:flex}.take-picture-modal .dialog-footer .vy-button-group button[data-v-3d077dca]{margin:0;border-width:0 1px 0 0;border-radius:0}.take-picture-modal .dialog-footer .vy-button-group button[data-v-3d077dca]:focus,.take-picture-modal .dialog-footer .vy-button-group button[data-v-3d077dca]:hover{z-index:1;border-color:#c8cee3}.take-picture-modal .dialog-footer .vy-button-group button[data-v-3d077dca]:first-of-type{border-radius:0 0 0 4px}.take-picture-modal .dialog-footer .vy-button-group button[data-v-3d077dca]:last-of-type{border-radius:0 0 4px 0;border-width:0}.take-picture-modal .dialog-footer .vy-button-group button i[data-v-3d077dca]{margin-right:4px}.take-picture-modal .dialog-footer .vy-button-group.pre-capture button[data-v-3d077dca]{flex-basis:50%}.take-picture-modal .dialog-footer .vy-button-group.post-capture button[data-v-3d077dca]{flex-basis:33.33%}.take-picture-modal .dialog-footer .vy-button-group.post-capture button span[data-v-3d077dca]{display:block;text-overflow:ellipsis;overflow:hidden}.unblock-camera-modal img[data-v-3d077dca]{box-shadow:0 2px 0 0 rgba(0,0,0,.1),0 0 0 1px #a9b0c9;width:100%}.no-camera-detected-modal .vy-dialog__body[data-v-3d077dca]{text-align:center}.no-camera-detected-modal .vy-dialog__body img[data-v-3d077dca]{display:block;width:60px;margin:0 auto 8px}.thumb-tooltip[data-v-3d077dca]{width:100%}.thumb-sm[data-v-3d077dca]{display:none}.thumb-lg[data-v-3d077dca]{display:block}@media (max-width:1024px){.thumb-sm[data-v-3d077dca]{display:block}.thumb-lg[data-v-3d077dca]{display:none}}',""]);e.exports=s},g20b:function(e,t,a){"use strict";var i=a("0RXd");var s=a.n(i);var n=s.a},gCr6:function(e,t,a){var i=a("tXPH");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("d521daae",i,false,{});if(false){}},gPd5:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".action-click-cell.action-click-cell[data-v-0feb0e82]{padding-left:30px}",""]);e.exports=s},gUuV:function(e,t,a){var i=a("0XgV");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("67e7017c",i,false,{});if(false){}},gdVl:function(e,t,a){"use strict";var i=a("ewvW");var s=a("I8vh");var n=a("UMSQ");e.exports=function e(t){var a=i(this);var r=n(a.length);var o=arguments.length;var l=s(o>1?arguments[1]:undefined,r);var d=o>2?arguments[2]:undefined;var c=d===undefined?r:s(d,r);while(c>l)a[l++]=t;return a}},gfsB:function(e,t,a){var i=a("65ZB");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("7245a374",i,false,{});if(false){}},go7V:function(e,t,a){"use strict";var i=a("jRKO");var s=a.n(i);var n=s.a},"gu+x":function(e,t,a){"use strict";var i=a("TYCv");var s=a.n(i);var n=s.a},h12j:function(e,t,a){var i=a("Cedo");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("8a2c2f70",i,false,{});if(false){}},h19z:function(e,t,a){"use strict";var i=a("9QB7");var s=a.n(i);var n=s.a},h9iz:function(e,t,a){e.exports=a.p+"no-camera-placeholder-a48fadc08a69a768e37863cbabb7b0fa.svg"},hI6o:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".social-sharing-item-container[data-v-0f058d54]{font-size:14px}.social-sharing-item-container td[data-v-0f058d54]{color:#374054;padding:10px 0}.social-sharing-item-container .social-share-icon[data-v-0f058d54]{margin-right:8px}.social-sharing-item-container .social-platform[data-v-0f058d54]{display:flex;justify-content:flex-start;align-items:center}.social-sharing-item-container .status[data-v-0f058d54]{display:flex;flex-direction:row;align-items:center}.social-sharing-item-container .vy-status[data-v-0f058d54]{margin-right:8px}.social-sharing-item-container .controls[data-v-0f058d54]{display:flex;flex-direction:row;justify-content:flex-end}",""]);e.exports=s},hS2T:function(e,t,a){"use strict";var i=a("JsPk");var s=a.n(i);var n=s.a},hThP:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".title[data-v-005f49e8]{font-size:18px;font-weight:500;margin-bottom:24px}.image-block[data-v-005f49e8]{display:flex;flex-direction:row;width:250px;justify-content:space-between;align-items:center;margin-bottom:24px}.vidyard-logo[data-v-005f49e8]{width:107px;height:30px}.youtube-logo[data-v-005f49e8]{width:107px;height:24px;image-rendering:crisp-edges}.publish-notice[data-v-005f49e8]{font-size:12px}",""]);e.exports=s},hdZ8:function(e,t,a){var i=a("L1nR");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4d343437",i,false,{});if(false){}},hfar:function(e,t,a){"use strict";var i=a("1Mxu");var s=a.n(i);var n=s.a},hqPc:function(e,t,a){e.exports=a.p+"google-d90e3d05f3d4d9ef8fc557adb10516ea.svg"},hyQh:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAlertVisible,expression:"isAlertVisible"}]},[a("VyAlert",{attrs:{type:"info",title:e.title,description:e.description},on:{close:e.handleAlertClose}},[a("VyButton",{staticClass:"take-survey-btn",attrs:{slot:"button",type:"primary"},on:{click:function(t){e.isDialogVisible=true}},slot:"button"},[e._v("\n      "+e._s(e.buttonText)+"\n    ")])],1),e._v(" "),a("NpsSurveyDialog",{attrs:{"dialog-visible":e.isDialogVisible,"allow-contact-visible":e.allowContactVisible,"survey-id":e.surveyId,"custom-nps-question":e.customNpsQuestion},on:{"close-dialog":e.handleClose}})],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("nbMm");var o=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{attrs:{title:e.titleText,visible:e.dialogVisible,"aria-label":"Accounts","show-close":"","custom-class":"survey-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.submitted?a("div",[a("div",{staticClass:"post-submit-item-wrapper"},[a("img",{attrs:{width:"169",src:e.surveyEndPng,alt:"plant"}})]),e._v(" "),a("div",{staticClass:"post-submit-item-wrapper"},[a("h4",[e._v("Thanks for your feedback!")])]),e._v(" "),a("div",{staticClass:"post-submit-item-wrapper"},[a("p",{staticClass:"end-thanks-text"},[e._v("\n        Your input helps us improve our product and make it the best experience possible for you.\n      ")])])]):a("div",[a("div",{staticClass:"question"},[e._v("\n      "+e._s(e.customNpsQuestion)+"\n    ")]),e._v(" "),a("div",{staticClass:"likely-container"},[a("span",{staticClass:"less-likely"},[e._v("\n        0 = Less Likely\n      ")]),e._v(" "),a("span",{staticClass:"very-likely"},[e._v("\n        10 = Extremely Likely\n      ")])]),e._v(" "),a("div",{staticClass:"score"},[a("VyRadioGroup",{staticClass:"score-radio-group",attrs:{"aria-controls":e.npsErrorMessageId,"aria-label":e.customNpsQuestion},model:{value:e.survey.score,callback:function(t){e.$set(e.survey,"score",t)},expression:"survey.score"}},[a("VyRadioButton",{class:{"score-radio-button":e.inputError,first:e.inputError},attrs:{"native-value":0}}),e._v(" "),e._l(9,(function(t){return a("VyRadioButton",{key:t,class:{"score-radio-button":e.inputError},attrs:{"native-value":t}})})),e._v(" "),a("VyRadioButton",{class:{"score-radio-button":e.inputError,last:e.inputError},attrs:{"native-value":10}})],2)],1),e._v(" "),e.inputError?a("div",{staticClass:"submit-error"},[a("VyIcon",{staticClass:"warning-icon",attrs:{name:"faExclamationTriangle"}}),e._v(" "),a("div",{staticClass:"error-text",attrs:{id:e.npsErrorMessageId,role:"region","aria-live":"polite"}},[e._v("\n        Please answer this question before submitting\n      ")])],1):e._e(),e._v(" "),a("div",{staticClass:"feedback-content"},[a("VyTextArea",{attrs:{label:e.survey.commentLabel,"max-length":1e4,"aria-label":e.survey.commentLabel},model:{value:e.survey.comment,callback:function(t){e.$set(e.survey,"comment",t)},expression:"survey.comment"}})],1),e._v(" "),e.allowContactVisible?a("div",{staticClass:"allow-contact-wrapper"},[a("VyCheckbox",{staticClass:"allow-contact-check",model:{value:e.allowContact,callback:function(t){e.allowContact=t},expression:"allowContact"}},[e._v("\n        I'm interested in being contacted to discuss my feedback further!\n      ")])],1):e._e()]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("VyButton",e._g({staticClass:"submit-button",attrs:{type:"primary",loading:e.loading}},{click:e.submitted?e.handleClose:e.handleSubmit}),[e._v("\n      "+e._s(e.dialogButtonText)+"\n    ")])],1)])};var l=[];o._withStripped=true;var d=a("3vR5");var c=a.n(d);var u=a("OwWi");var p=a.n(u);var h=a("rDkq");var v=a("556C");var m=a("P56O");var f=a("JXn6");var b={name:"NpsSurveyDialog",components:{VyDialog:r["r"],VyButton:r["j"],VyTextArea:r["S"],VyRadioGroup:r["H"],VyRadioButton:r["G"],VyCheckbox:r["m"],VyIcon:r["v"]},props:{dialogVisible:{type:Boolean,required:true},allowContactVisible:{type:Boolean,default:false,required:false},surveyId:{type:Number,required:true},customNpsQuestion:{type:String,default:"How likely are you to recommend the Vidyard platform to your friends and colleagues?",required:false}},data(){return{npsErrorMessageId:Object(f["a"])(),inputError:false,titleText:"We'd love your feedback!",loading:false,submitted:false,dialogButtonText:"Submit Feedback",survey:{score:undefined,commentLabel:"Any other feedback you would like to share with us?",comment:undefined},allowContact:false}},computed:{surveyQuestionsSvg:()=>c.a,surveyEndPng:()=>p.a,...m["c"].mapState(["organization","csrfToken"])},watch:{dialogVisible(e){if(!e){this.allowContact=false;this.survey.comment=undefined;this.survey.score=undefined;this.inputError=false;this.$emit("close-dialog",this.submitted)}}},methods:{async handleSubmit(){if(this.survey.score===undefined){this.inputError=true}else{this.loading=true;const e="/organizations/".concat(this.organization.id,"/nps_surveys/").concat(this.surveyId);const t={nps_survey:{user_score:this.survey.score,user_comment:this.survey.comment,allow_contact:this.allowContact,filled:true,cancelled:false}};const a={headers:{"X-CSRF-TOKEN":this.csrfToken}};try{await h["a"].put(e,t,a);this.requestSuccess()}catch(e){this.requestError(e)}finally{this.loading=false;this.submitted=true}}},handleClose(){this.dialogVisible=false},requestSuccess(){this.dialogButtonText="You're Welcome!";this.titleText=""},requestError(e){const t=Object(v["a"])(e);r["b"].show(new r["b"](t,{title:"Failed to submit the feedback.",type:"error"}))}}};var g=b;var y=a("PyxO");var _=a("KHd+");var w=Object(_["a"])(g,o,l,false,null,"ae642c8e",null);if(false){var x}w.options.__file="app/assets/components/library/components/nps/NpsSurveyDialog.vue";var S=w.exports;var k={name:"NpsSurveyAlert",components:{VyAlert:r["d"],VyButton:r["j"],NpsSurveyDialog:S},props:{allowContactVisible:{type:Boolean,default:false,required:false},surveyId:{type:Number,required:true},customNpsQuestion:{type:String,default:"How likely are you to recommend the Vidyard platform to your friends and colleagues?",required:false},title:{type:String,default:"We'd love your feedback!"},description:{type:String,default:""},buttonText:{type:String,default:"Take Survey"}},data(){return{isDialogVisible:false,isAlertVisible:true}},computed:{...m["c"].mapState(["organization","csrfToken"])},methods:{handleClose(e){this.isDialogVisible=false;if(e){this.isAlertVisible=false}},async handleAlertClose(){const e="/organizations/".concat(this.organization.id,"/nps_surveys/").concat(this.surveyId);const t={nps_survey:{user_score:0,user_comment:"",cancelled:true,filled:false}};const a={headers:{"X-CSRF-TOKEN":this.csrfToken}};try{await h["a"].put(e,t,a)}catch(e){this.requestError(e)}},requestError(e){const t=Object(v["a"])(e);r["b"].show(new r["b"](t,{title:"Failed to submit the feedback.",type:"error"}))}}};var C=k;var P=Object(_["a"])(C,i,s,false,null,null,null);if(false){var T}P.options.__file="app/assets/components/library/components/nps/NpsSurveyAlert.vue";var V=t["a"]=P.exports},i8rW:function(e,t,a){var i=a("kqT/");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("18cc5224",i,false,{});if(false){}},i9P2:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".email-embed[data-v-46fe6dd9]{flex-direction:column}.email-embed .description[data-v-46fe6dd9],.email-embed .description-link[data-v-46fe6dd9]{font-size:12px;line-height:20px;margin:0}.email-embed .description-link-wrapper[data-v-46fe6dd9]{display:inline-block}.email-embed .destination-select[data-v-46fe6dd9]{display:flex;flex-direction:column;margin:12px 0}.email-embed #destination-menu-label[data-v-46fe6dd9]{color:#606782;margin-bottom:8px}.email-embed #destination-menu[data-v-46fe6dd9]{margin:0}.email-embed .custom-url-input[data-v-46fe6dd9]{margin:12px 0}",""]);e.exports=s},iDjx:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".fb-push[data-v-23dedbe3]{display:flex;flex-direction:column}.fb-push .fb-push-row[data-v-23dedbe3]{display:flex;flex-direction:row}.fb-push .fb-push-row .accounts-menu[data-v-23dedbe3]{flex:1 0 50%;padding-right:4px}.fb-push .fb-push-row .pages-menu[data-v-23dedbe3]{flex:1 0 50%;padding-left:4px}.fb-push .fb-push-row .menu-container[data-v-23dedbe3]{margin-left:0}@media (max-width:700px){.fb-push .fb-push-row[data-v-23dedbe3]{flex-wrap:wrap}.fb-push .fb-push-row .accounts-menu[data-v-23dedbe3],.fb-push .fb-push-row .pages-menu[data-v-23dedbe3]{flex:1 0 100%;padding:0}.fb-push .fb-push-row .pages-menu[data-v-23dedbe3]{margin-top:8px}}.fb-push .post-description[data-v-23dedbe3]{margin:8px 0}.fb-push .checkbox-description[data-v-23dedbe3]{margin:0 0 4px 24px;color:#606782;font-size:12px}.fb-push[data-v-23dedbe3] .date-picker>.date-container>.date-picker{position:fixed;left:50%!important;top:50%;transform:translate(-50%,-50%);margin-top:0}.spinner-wrapper[data-v-23dedbe3]{text-align:center;padding:24px 0}",""]);e.exports=s},iDsk:function(e,t,a){var i=a("d3wm");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("08786f3d",i,false,{});if(false){}},iFv9:function(e,t,a){var i=a("5kKH");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("d4597baa",i,false,{});if(false){}},iNKI:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("VyDialog",{staticClass:"share-modal",attrs:{title:"Share",visible:e.visible,size:"small","data-testid":"shareDialog"},on:{"visible-change":function(t){return e.$emit("update:visible",t)}}},[e.loading?a("div",{staticClass:"spinner-wrapper"},[a("VySpinner",{attrs:{type:"circle",indeterminate:"",diameter:75,status:"success"}})],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e.player.uuid!==undefined?[e.errorMessage?a("VyAlert",{attrs:{type:"error",title:"Error",description:e.errorMessage,"show-icon":true}}):e._e(),e._v(" "),a("SharePreview",{attrs:{name:e.player.name,"share-link":e.embedCodes.sharing_page||"","thumbnail-url":e.emailThumbnailUrl,"data-heap":"share-preview"}}),e._v(" "),e.accessSettingEnabled?a("AccessSettingsModal",{staticClass:"access-settings-section",attrs:{"location-redirect-to":"/organizations/"+e.organizationId+"/players/"+e.player.uuid+"/security","organization-id":e.organizationId,"player-type":e.player.player_type,"player-uuid":e.player.uuid,"enable-back-button":true,"access-setting":e.player.access_setting},on:{"remove-password":function(t){return e.$emit("remove-password")},"set-loading":function(t){return e.$emit("set-loading",t)},"set-access-setting":function(t){return e.$emit("set-access-setting",t)},"after-failure":function(t){return e.$emit("after-failure")},"stacked-dialog-open":function(t){return e.$emit("update:visible",false)},"stacked-dialog-close":function(t){return e.$emit("update:visible",true)}}}):e.securitySectionEnabled?a("SecuritySection",{staticClass:"security-section",attrs:{"organization-id":e.organizationId,"player-uuid":e.player.uuid,"player-type":e.player.player_type,"is-secure":e.player.has_access_codes,"access-codes":e.hasAccessCodes}}):e._e()]:e._e(),e._v(" "),e.embedSectionEnabled?a("EmbedSection",{staticClass:"embed-section",attrs:{"embed-code-responsive-inline":e.embedCode||"","organization-id":e.organizationId,"player-uuid":e.player.uuid},on:{"ready-changed":e.onEmbedSectionReadyChanged,"embed-toggle:start":e.onEmbedToggleStart,"embed-toggle:finish":e.onEmbedToggleFinish,"update-guided-checklist":e.updateGuidedChecklist}}):e._e(),e._v(" "),e.player.uuid!==undefined?[a("ShareCopyOptions",{staticClass:"copy-options",attrs:{"email-thumbnail-url":e.emailThumbnailUrl,"share-link":e.embedCodes.sharing_page||"",name:e.player.name},on:{"update-guided-checklist":e.updateGuidedChecklist}}),e._v(" "),a("ShareDialogFooter",{attrs:{"dashboard-url":e.dashboardUrl,"email-thumbnail-url":e.emailThumbnailUrl,"embed-codes":e.embedCodes,"organization-id":e.organizationId,name:e.player.name,"player-type":e.player.player_type,"video-description":e.player.description,"account-id":e.accountId,"player-uuid":e.player.uuid,"player-org-id":e.player.organization_id,"video-id":e.videoId,"embed-enabled":e.embedEnabled,location:"Sharing Modal"},on:{"embed-toggle:finish":function(t){return e.onEmbedToggleFinish(null,t)},"stacked-dialog-open":function(t){return e.$emit("update:visible",false)},"stacked-dialog-close":function(t){return e.$emit("update:visible",true)},"update-guided-checklist":e.updateGuidedChecklist}})]:e._e()],2)])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("nbMm");var o=a("IHRM");var l=a("W8xq");var d=a("P56O");var c=a("PF2z");var u=a("6yOI");var p=a("NdHS");var h=a("G83Z");var v=a("egTs");var m=a("wlF1");var f=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"embed-section"},[a("div",{staticClass:"embed-contents"},[e._m(0),e._v(" "),!e.allotmentRetrievalFailed?a("div",{staticClass:"embed-toggle-wrapper"},[a("EmbedPopover",{attrs:{pql:e.showPql,"embed-data":e.embedData}}),e._v(" "),a("div",{staticClass:"embed-toggle-wrapper"},[a("VySwitch",{staticClass:"embed-code-generate-switch",attrs:{"aria-label":"Generate embed code",name:"Generate embed code","data-testid":"enable-embeds-toggle",disabled:e.embedsDisabled},on:{input:e.toggleEmbed},model:{value:e.embedToggled,callback:function(t){e.embedToggled=t},expression:"embedToggled"}})],1)],1):a("div",{staticClass:"embed-error-wrapper"},[a("div",{staticClass:"embed-error-text"},[e._v("\n        Sorry! We were unable to retrieve this video's embed data. Please try again later.\n      ")])])]),e._v(" "),e.embedCodeResponsiveInline&&e.embedToggled?a("CopyButton",{staticClass:"copy-link-button embed-copy-button",attrs:{"button-text":"Copy Code","text-to-copy":e.embedCodeResponsiveInline,"heap-name":"copy-embed-code","data-testid":"copy-embed-code"},on:{"copy-clicked":function(t){return e.$emit("update-guided-checklist")}}}):e._e()],1)};var b=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"embed-text"},[a("div",{staticClass:"embed-title"},[e._v("\n        Embed on a site\n      ")])])}];f._withStripped=true;var g=a("3bBZ");var y=a("rDkq");var _={async create(e,t){try{const a=await y["a"].post("/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/embed"));return{success:true,data:a.data}}catch(e){return{success:false,error:e.response.data.error}}},async delete(e,t){try{const a=await y["a"].delete("/api/v1/organizations/".concat(e,"/players/uuid=").concat(t,"/embed"));return{success:true,data:a.data}}catch(e){return{success:false,error:e.response.data.error}}}};var w=a("nxUQ");var x=a("5Fr7");var S=a("0iVE");var k=a("2wbO");var C={name:"EmbedSection",components:{CopyButton:S["a"],EmbedPopover:k["a"],VySwitch:r["M"]},props:{embedCodeResponsiveInline:{type:String,default:""},organizationId:{type:Number,required:true},playerUuid:{type:String,default:""}},data(){return{embedData:{canEmbedOne:true},embedToggled:!!this.embedCodeResponsiveInline,showPql:false,allotmentRetrievalFailed:false}},computed:{embedsDisabled(){return!this.embedData.canEmbedOne&&!this.embedToggled}},watch:{embedCodeResponsiveInline(e){this.embedToggled=!!e},async playerUuid(e,t){if(e!==t){this.$emit("ready-changed",false);await this.fetchAllotments();this.$emit("ready-changed",true)}}},async created(){await Promise.all([this.fetchAllotments(),this.displayPql()]);this.$emit("ready-changed",true)},methods:{async displayPql(){const e=await Object(w["a"])(this.organizationId,"embeds");this.showPql=e.show},async fetchAllotments(){const e=await Object(x["a"])(this.organizationId,"embeds");if(e){this.embedData={current:e.current,limit:e.limit,canEmbedOne:e.canAllocate(1)}}else{this.allotmentRetrievalFailed=true}},async toggleEmbed(e){this.$emit("embed-toggle:start");this.embedToggled=e;let t;if(e){t=await _.create(this.organizationId,this.playerUuid)}else{t=await _.delete(this.organizationId,this.playerUuid)}await this.fetchAllotments();this.$emit("embed-toggle:finish",t.success?undefined:t.message)}}};var P=C;var T=a("/5lr");var V=a("KHd+");var A=Object(V["a"])(P,f,b,false,null,"3ff00d0d",null);if(false){var E}A.options.__file="app/assets/components/share-dialog/common/embed-section.vue";var I=A.exports;var D=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"security-section",on:{mouseleave:function(t){e.showPopover=false}}},[e.isSecure?a("div",{staticClass:"info"},[a("VyIcon",{staticClass:"security-icon",attrs:{name:"faKey",type:"regular"}}),e._v(" "),e.playerType==="Video"?a("span",[e._v("\n      Only viewers with a password can view this video\n    ")]):a("span",[e._v("\n      A video within this playlist is securing it\n    ")])],1):a("div",{staticClass:"info"},[a("VyIcon",{staticClass:"security-icon",attrs:{name:"faGlobeAmericas",type:"regular"}}),e._v(" "),e.playerType==="Video"?a("span",[e._v("\n      Anyone with the link can see this video\n    ")]):a("span",[e._v("\n      Anyone with the link can see this playlist\n    ")])],1),e._v(" "),a("div",{staticClass:"security-button",on:{mouseover:function(t){e.showPopover=true}}},[e.playerType==="Video"?a("VyButton",{attrs:{disabled:!e.accessCodes},on:{click:e.handleClick}},[e._v("\n      "+e._s(e.buttonText)+"\n    ")]):e._e(),e._v(" "),a("SecurityPopover",{directives:[{name:"show",rawName:"v-show",value:e.showPopover&&!e.accessCodes,expression:"showPopover && !accessCodes"}]})],1)])};var O=[];D._withStripped=true;var L=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"security-popover"},[a("div",{staticClass:"security-popover__heading"},[e._v("\n    Upgrade to secure your videos\n  ")]),e._v(" "),a("div",{staticClass:"security-popover__body"},[e._v("\n    Send confidential information via video with confidence\n  ")]),e._v(" "),a("UpgradeButton",{staticClass:"security-popover__button",attrs:{"heap-event":"Password upgrade prompt clicked"}})],1)};var B=[];L._withStripped=true;var M=a("NvBw");var z={name:"SecurityPopover",components:{UpgradeButton:M["a"]}};var F=z;var U=a("7nXg");var R=Object(V["a"])(F,L,B,false,null,"06f443a8",null);if(false){var j}R.options.__file="app/assets/components/share-dialog/common/security-popover.vue";var q=R.exports;var N={name:"SecuritySection",components:{SecurityPopover:q,VyButton:r["j"],VyIcon:r["v"]},props:{organizationId:{type:Number,required:true},playerUuid:{type:String,required:true},playerType:{type:String,required:true},isSecure:{type:Boolean,required:true},accessCodes:{type:Boolean,required:true}},data(){return{showPopover:false}},computed:{buttonText(){return this.isSecure?"Edit password":"Add password"}},methods:{handleClick(){if(this.accessCodes){window.location="/organizations/".concat(this.organizationId,"/players/").concat(this.playerUuid,"/security")}}}};var $=N;var H=a("ym0W");var Y=Object(V["a"])($,D,O,false,null,"1168de6c",null);if(false){var G}Y.options.__file="app/assets/components/share-dialog/common/security-section.vue";var W=Y.exports;var J=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"share-copy-options"},[a("CopyButton",{staticClass:"copy-link-button",attrs:{type:"secondary","button-text":e.copyLinkAndThumbnailText,"aria-label":e.copyLinkAndThumbnailText,"data-testid":"copyLinkAndThumbnailButton","heap-name":"copy-link-and-thumbnail"},on:{"copy-clicked":e.handleCopyLinkAndThumbnailClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faImage",type:"regular"}})]},proxy:true},{key:"html-to-copy",fn:function(){return[a("CopyThumbnailContent",{attrs:{"thumbnail-url":e.emailThumbnailUrl,"embed-link":e.shareLink,name:e.name}})]},proxy:true}])}),e._v(" "),a("CopyButton",{staticClass:"copy-link-button",attrs:{type:"primary","button-text":e.copyLinkText,"text-to-copy":e.shareLink,"aria-label":e.copyLinkText,"data-testid":"copyLinkButton","heap-name":"copy-link"},on:{"copy-clicked":e.handleCopyLinkClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faLink",type:"regular"}})]},proxy:true}])})],1)};var Z=[];J._withStripped=true;var K=a("Iq6z");var Q=a("omyK");var X={name:"ShareCopyOptions",components:{CopyButton:S["a"],CopyThumbnailContent:Q["a"],VyIcon:r["v"]},props:{emailThumbnailUrl:{type:String,required:true},shareLink:{type:String,required:true},name:{type:String,required:true},playerUuid:{type:String,default:undefined}},data(){return{copyLinkAndThumbnailText:"Copy link and thumbnail",copyLinkText:"Copy link"}},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleCopyLinkClicked(){this.sendHeapEvent(Object(K["f"])("dashboard",{playerUuid:this.playerUuid}));this.$emit("update-guided-checklist")},handleCopyLinkAndThumbnailClicked(){this.sendHeapEvent(Object(K["e"])("dashboard",{playerUuid:this.playerUuid}));this.$emit("update-guided-checklist")}}};var ee=X;var te=a("yuYn");var ae=Object(V["a"])(ee,J,Z,false,null,"afee58f0",null);if(false){var ie}ae.options.__file="app/assets/components/share-dialog/common/share-copy-options.vue";var se=ae.exports;var ne=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"share-dialog-footer"},[a("span",{staticClass:"share-and-embed-buttons"},[e.hasPlayerEmbeds?a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Embed Video",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button embed-button",attrs:{"aria-label":"Embed video","data-testid":"shareEmbedBtn"},on:{click:function(t){return e.openStackedDialog("embed")}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faCode",type:"regular"}})]},proxy:true}])})],1):e._e(),e._v(" "),!e.hasFeature("in_platform_mailer")?a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Gmail",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button gmail-share",attrs:{"aria-label":"Share video with Gmail"},on:{click:e.shareGmail},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:e.faEnvelope}})]},proxy:true}])})],1):e._e(),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Facebook",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button facebook-share",attrs:{"aria-label":"Share video with Facebook","data-testid":"shareFacebookBtn"},on:{click:e.openFacebookDialog},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faFacebookF",type:"brands"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"LinkedIn",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button linkedin-share",attrs:{"aria-label":"Share video with LinkedIn"},on:{click:function(t){return e.openStackedDialog("linkedin")}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faLinkedinIn",type:"brands"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{staticClass:"vy-tooltip",attrs:{content:"Twitter",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button twitter-share",attrs:{"aria-label":"Share video with Twitter"},on:{click:e.shareTwitter},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faTwitter",type:"brands"}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{directives:[{name:"show",rawName:"v-show",value:e.youtubeSharable,expression:"youtubeSharable"}],staticClass:"vy-tooltip",attrs:{content:"YouTube",placement:"bottom"}},[a("VyButton",{staticClass:"vy-button youtube-share",attrs:{"aria-label":"Share with Youtube","data-testid":"shareYoutubeBtn"},on:{click:function(t){return e.openStackedDialog("youtube")}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{staticClass:"social-share-icon",attrs:{name:"faYoutube",type:"brands"}})]},proxy:true}])})],1)],1),e._v(" "),e.canAccessInPlatformMailer&&e.hasPermission("can_email_share_videos")?a("TipBox",{attrs:{"data-testid":"email-track-viewers-tip"},scopedSlots:e._u([{key:"link",fn:function(){return[a("VyLink",{attrs:{text:e.playerTypeText+" Edit Page.","aria-label":"Go to the edit page for this "+e.playerTypeText,"open-in-new-tab":true,href:"/organizations/"+e.organizationId+"/players/"+e.playerUuid+"?edit=true#email"}})]},proxy:true}])},[e._v("\n    To identify viewers, share a link to your "+e._s(e.playerTypeText.toLowerCase())+" with a tracking token.\n    A tracking token is added to your "+e._s(e.playerTypeText.toLowerCase())+" whenever you share using the Email option on the\n    ")]):e._e(),e._v(" "),e.hasPlayerEmbeds&&e.organizationId&&e.playerUuid?a("EmbedDialog",{attrs:{visible:e.stackedDialogVisible.embed,"organization-id":e.organizationId,"account-id":e.accountId,"player-uuid":e.playerUuid,name:e.name,"thumbnail-url":e.emailThumbnailUrl,"embed-enabled":e.embedEnabled,"back-button":""},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"embed",t)},back:e.backToShareDialog,"embed-toggle:finish":function(t){return e.$emit("embed-toggle:finish",t)}}}):e._e(),e._v(" "),e.enableFacebookSharing?a("FacebookDialog",{attrs:{visible:e.stackedDialogVisible.facebook,"video-id":e.videoId,"thumbnail-url":e.emailThumbnailUrl,"organization-id":e.organizationId,"dashboard-url":e.dashboardUrl,"video-description":e.videoDescription||"",name:e.name,"can-edit-integrations":e.canEditIntegrations,"can-access-insights":e.canAccessInsights,"enable-scheduled-social-push":e.enableScheduledSocialPush,"share-link":e.embedCodes.sharing_page||""},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"facebook",t)},"handle-heap-event":e.handleHeapEvent,back:e.backToShareDialog}}):e._e(),e._v(" "),a("LinkedinDialog",{attrs:{"can-edit-integrations":e.canEditIntegrations,visible:e.stackedDialogVisible.linkedin,"video-id":e.videoId,name:e.name,"player-type":e.playerType,"preview-title":e.name,"thumbnail-url":e.emailThumbnailUrl,"share-link":e.embedCodes.sharing_page||"",location:e.location},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"linkedin",t)},back:e.backToShareDialog}}),e._v(" "),e.enableYoutubeSharing?[e.newYoutubePush&&!e.isPlaylist?a("YoutubeSyncDialog",{attrs:{visible:e.stackedDialogVisible.youtube,name:e.name,"player-uuid":e.playerUuid,"thumbnail-url":e.emailThumbnailUrl},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"youtube",t)}}}):!e.newYoutubePush?a("YoutubeDialog",{attrs:{visible:e.stackedDialogVisible.youtube,"organization-id":e.organizationId,name:e.name,"thumbnail-url":e.emailThumbnailUrl,"video-id":e.videoId,"can-edit-integrations":e.canEditIntegrations,"can-access-insights":e.canAccessInsights,"enable-scheduled-social-push":e.enableScheduledSocialPush},on:{"update:visible":function(t){return e.$set(e.stackedDialogVisible,"youtube",t)},"handle-heap-event":e.handleHeapEvent,back:e.backToShareDialog}}):e._e()]:e._e()],2)};var re=[];ne._withStripped=true;var oe=a("QR0h");var le=a("sKos");var de=a.n(le);var ce=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("VyDialog",{staticClass:"embed-dialog",attrs:{title:"Embed",size:"small",visible:e.visible,"back-button":e.backButton,"back-button-aria-label":"Back to all sharing options","data-testid":"embedDialog"},on:{"visible-change":function(t){return e.$emit("update:visible",t)},back:function(t){return e.$emit("back")}}},[a("SharePreview",{attrs:{name:e.name,"thumbnail-url":e.thumbnailUrl,"share-link":e.shareLink}}),e._v(" "),!e.unlimitedEmbeds?a("div",{staticClass:"embed-toggle-wrapper"},[a("div",{staticClass:"embed-text"},[e._v("\n      Would you like to embed this video?\n    ")]),e._v(" "),a("div",{staticClass:"embed-toggle"},[a("VyTooltip",{ref:"embedToggleTooltip",attrs:{content:e.showDisabledTooltip?"You have reached your embed limit.":"When disabled, this video will not playback in embedded locations.",placement:"bottom",alignment:"right",show:e.embedEnabled||e.showDisabledTooltip}},[a("VySwitch",{staticClass:"embed-code-switch",attrs:{value:e.embedEnabled,"aria-label":"Enable embed",name:"Enable embed",disabled:e.toggleDisabled},on:{input:e.toggleEmbed}})],1)],1)]):e._e(),e._v(" "),a("VyTabs",{ref:"embedTabs"},[a("VyTab",{attrs:{name:"Inline"}},[a("InlineEmbed",{attrs:{options:e.options,disabled:e.toggleDisabled,loading:e.loading},on:{"enabled-embed":e.handleToggle}})],1),e._v(" "),a("VyTab",{attrs:{name:"Lightbox"}},[a("LightboxEmbed",{attrs:{options:e.options,disabled:e.toggleDisabled,loading:e.loading},on:{"enabled-embed":e.handleToggle}})],1),e._v(" "),a("VyTab",{attrs:{name:"Email Campaign"}},[a("EmailEmbed",{attrs:{name:e.name,"thumbnail-url":e.thumbnailUrl,"share-link":e.shareLink,disabled:e.toggleDisabled,loading:e.loading},on:{"enabled-embed":e.handleToggle}})],1),e._v(" "),a("VyTab",{attrs:{name:"More Options"}},[a("ShareableEmbeds",{attrs:{"embed-code":e.devCode,"iframe-embed-code":e.iframeEmbedCode,disabled:e.toggleDisabled,loading:e.loading},on:{"enabled-embed":e.handleToggle}})],1)],1)],1)};var ue=[];ce._withStripped=true;var pe=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"inline-code"},[a("div",{staticClass:"inline-code__options"},[a("div",{staticClass:"inline-code__description"},[e._v("\n      Our inline embed is responsive by default, but you may set a fixed maximum size.\n    ")]),e._v(" "),a("div",{staticClass:"inline-code__size"},[a("div",[e._v("Max Embed Size (Optional)")]),e._v(" "),a("div",{staticClass:"inline-code__size-controls"},[a("VyInputV2",{attrs:{label:"Width","append-with":"px",type:"number",disabled:e.disabled},model:{value:e.maxWidth,callback:function(t){e.maxWidth=t},expression:"maxWidth"}}),e._v(" "),a("VyInputV2",{attrs:{label:"Height","append-with":"px",type:"number",disabled:e.disabled},model:{value:e.maxHeight,callback:function(t){e.maxHeight=t},expression:"maxHeight"}})],1)])]),e._v(" "),a("ResponsiveCode",{attrs:{options:e.options,"max-width":e.maxWidth,"max-height":e.maxHeight,disabled:e.disabled,loading:e.loading},on:{"enabled-embed":e.handleEmbed}})],1)};var he=[];pe._withStripped=true;var ve=a("Y/ki");var me={name:"InlineEmbed",components:{VyInputV2:r["x"],ResponsiveCode:ve["a"]},props:{options:{type:Object,required:true},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false}},data(){return{maxWidth:"",maxHeight:""}},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleEmbed(){this.sendHeapEvent(Object(K["c"])("Share modal"));this.$emit("enabled-embed")}}};var fe=me;var be=a("DAkv");var ge=Object(V["a"])(fe,pe,he,false,null,"450ec488",null);if(false){var ye}ge.options.__file="app/assets/components/share-dialog/embed-dialog/inline-embed.vue";var _e=ge.exports;var we=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"lightbox-code"},[a("div",{staticClass:"lightbox-code__options"},[a("div",{staticClass:"lightbox-code__description"},[e._v("\n      Our lightbox embed is responsive by default, but you may set a fixed maximum size for the thumbnail.\n    ")]),e._v(" "),a("div",{staticClass:"lightbox-code__size"},[a("div",[e._v("Max Embed Size (Optional)")]),e._v(" "),a("div",{staticClass:"lightbox-code__size-controls"},[a("VyInputV2",{attrs:{label:"Width","append-with":"px",type:"number",disabled:e.disabled},model:{value:e.maxWidth,callback:function(t){e.maxWidth=t},expression:"maxWidth"}}),e._v(" "),a("VyInputV2",{attrs:{label:"Height","append-with":"px",type:"number",disabled:e.disabled},model:{value:e.maxHeight,callback:function(t){e.maxHeight=t},expression:"maxHeight"}})],1)])]),e._v(" "),a("ResponsiveCode",{attrs:{options:e.options,"max-width":e.maxWidth,"max-height":e.maxHeight,disabled:e.disabled,loading:e.loading,lightbox:""},on:{"enabled-embed":e.handleEmbed}})],1)};var xe=[];we._withStripped=true;var Se={name:"LightboxEmbed",components:{VyInputV2:r["x"],ResponsiveCode:ve["a"]},props:{options:{type:Object,required:true},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false}},data(){return{maxWidth:"",maxHeight:""}},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleEmbed(){this.sendHeapEvent(Object(K["d"])("Share modal"));this.$emit("enabled-embed")}}};var ke=Se;var Ce=a("utv0");var Pe=Object(V["a"])(ke,we,xe,false,null,"cc0c7db8",null);if(false){var Te}Pe.options.__file="app/assets/components/share-dialog/embed-dialog/lightbox-embed.vue";var Ve=Pe.exports;var Ae=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"email-code"},[a("div",{staticClass:"email-code__options"},[a("div",{staticClass:"email-code__description"},[e._v("\n      This embed code will place a hyperlinked thumbnail in your email template.\n      "),a("a",{attrs:{href:e.kbUrl}},[e._v("Read about email campaigns")]),e._v(".\n    ")]),e._v(" "),a("div",{staticClass:"email-code__controls"},[a("div",{staticClass:"email-code__controls--left"},[a("VyRadioGroup",{attrs:{disabled:e.disabled},model:{value:e.sharingPage,callback:function(t){e.sharingPage=t},expression:"sharingPage"}},[a("VyRadio",{attrs:{"native-value":true}},[e._v("\n            Link to Sharing Page\n          ")]),e._v(" "),a("VyRadio",{attrs:{"native-value":false}},[e._v("\n            Link to custom URL\n          ")])],1)],1),e._v(" "),!e.sharingPage?a("div",{staticClass:"email-code__controls--right"},[a("VyInputV2",{attrs:{disabled:e.disabled,placeholder:"www.vidyard.com"},model:{value:e.customUrl,callback:function(t){e.customUrl=t},expression:"customUrl"}})],1):e._e()])]),e._v(" "),a("div",{staticClass:"email-code__embed-code"},[a("VyInputV2",{attrs:{value:e.embedCode,disabled:e.disabled,"aria-label":"Email Embed Code",readonly:""}}),e._v(" "),a("CopyButton",{staticClass:"copy-button",attrs:{type:"primary","button-text":"Copy Code","text-to-copy":e.embedCode,disabled:e.disabled,loading:e.loading,"heap-name":"copy-email-embed"},on:{"copy-clicked":e.handleEmbed}})],1)])};var Ee=[];Ae._withStripped=true;var Ie={name:"EmailEmbed",components:{VyInputV2:r["x"],CopyButton:S["a"],VyRadioGroup:r["H"],VyRadio:r["F"]},props:{name:{type:String,default:""},shareLink:{type:String,default:""},thumbnailUrl:{type:String,default:""},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false}},data(){return{sharingPage:true,customUrl:"",kbUrl:"https://knowledge.vidyard.com/hc/en-us/articles/360009990973-Identify-viewers-in-an-email-campaign"}},computed:{embedCode(){const e=this.sharingPage?this.shareLink:this.customUrl;return'<a href="'.concat(e,'" target="_blank" title="').concat(this.name,'">\n  <img src="https:').concat(this.thumbnailUrl,'" alt="').concat(this.name,'" />\n</a>')},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleEmbed(){this.sendHeapEvent(Object(K["a"])("Share modal"));this.$emit("enabled-embed")}}}};var De=Ie;var Oe=a("Ssd7");var Le=Object(V["a"])(De,Ae,Ee,false,null,"7e15e4d5",null);if(false){var Be}Le.options.__file="app/assets/components/share-dialog/embed-dialog/email-embed.vue";var Me=Le.exports;var ze=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"shareable-embeds"},[a("div",{staticClass:"section"},[e._m(0),e._v(" "),a("div",[a("CopyButton",{staticClass:"copy-button",attrs:{"button-text":"Copy iFrame Code","text-to-copy":e.iframeEmbedCode,disabled:e.disabled,loading:e.loading,"no-icon":"","heap-name":"copy-shareable-embed-code"},on:{"copy-clicked":function(t){return e.handleEmbed(true)}}})],1)]),e._v(" "),a("div",{staticClass:"section"},[e._m(1),e._v(" "),a("div",[a("CopyButton",{staticClass:"copy-button",attrs:{"button-text":"Copy Link","text-to-copy":e.embedCode,disabled:e.disabled,loading:e.loading,"no-icon":"","heap-name":"copy-shareable-embed-code"},on:{"copy-clicked":function(t){return e.handleEmbed(false)}}})],1)])])};var Fe=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("p",[e._v("Need to embed a video in a platform that doesn't support JavaScript?")]),e._v(" "),a("p",{staticClass:"sub-description"},[e._v("\n        Warning: the iframe embed limits the ability to pass video analytics to your integrations.\n        "),a("a",{attrs:{href:"https://knowledge.vidyard.com/hc/en-us/articles/360010001713-Embed-a-player"}},[e._v("\n          Learn more about the iframe embed option\n        ")])])])},function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("p",[e._v("Need to share embed options to someone without a Vidyard login?")])])}];ze._withStripped=true;var Ue={name:"ShareableEmbeds",components:{CopyButton:S["a"]},props:{embedCode:{type:String,required:true},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false},iframeEmbedCode:{type:String,required:true}},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleEmbed(e){const t=e?Object(K["b"])("Share modal"):Object(K["g"])("Share modal");this.sendHeapEvent(t);this.$emit("enabled-embed")}}};var Re=Ue;var je=a("evI8");var qe=Object(V["a"])(Re,ze,Fe,false,null,"10516331",null);if(false){var Ne}qe.options.__file="app/assets/components/share-dialog/embed-dialog/shareable-embeds.vue";var $e=qe.exports;var He=a("MDNy");var Ye={name:"EmbedDialog",components:{VyDialog:r["r"],VyTabs:r["P"],VyTab:r["N"],VySwitch:r["M"],VyTooltip:r["U"],SharePreview:He["a"],InlineEmbed:_e,LightboxEmbed:Ve,EmailEmbed:Me,ShareableEmbeds:$e},props:{visible:{type:Boolean,default:false},organizationId:{type:Number,required:true},accountId:{type:Number,required:true},playerUuid:{type:String,required:true},backButton:{type:Boolean,default:false},name:{type:String,required:true},thumbnailUrl:{type:String,required:true},embedEnabled:{type:Boolean,required:true}},data(){return{shareLink:"",options:{},devCode:"",iframeEmbedCode:"",embedsAllotment:{canEmbed:true},loading:false,tabs:null}},computed:{toggleDisabled(){return!this.embedsAllotment.canEmbed&&!this.embedEnabled},showDisabledTooltip(){return this.toggleDisabled&&!this.loading},unlimitedEmbeds(){return this.embedsAllotment.limit===Infinity}},watch:{playerUuid(e){if(e&&e!==""){this.fetchEmbed()}}},created(){this.fetchEmbed()},mounted(){var e,t;(e=this.$refs.embedTabs)===null||e===void 0?void 0:(t=e.addEventListener)===null||t===void 0?void 0:t.call(e,"copy",this.handleToggle)},beforeDestroy(){var e,t;(e=this.$refs.embedTabs)===null||e===void 0?void 0:(t=e.removeEventListener)===null||t===void 0?void 0:t.call(e,"copy")},methods:{async fetchEmbed(){const{data:e}=await y["a"].get("/organizations/".concat(this.organizationId,"/embed_details/").concat(this.playerUuid));this.embedsAllotment=await this.fetchAllotment();this.shareLink=e.embed_codes.sharing_page;this.options=e.embed_codes.responsive||{};this.devCode=e.embed_codes.developer_link;this.iframeEmbedCode=e.embed_codes.iframe},async toggleEmbed(e){this.loading=true;this.$emit("embed-toggle:finish",e);if(e){await _.create(this.organizationId,this.playerUuid)}else{await _.delete(this.organizationId,this.playerUuid)}this.embedsAllotment=await this.fetchAllotment();this.loading=false},async fetchAllotment(){const e=await Object(x["a"])(this.organizationId,"embeds");return{current:e.current,limit:e.limit,canEmbed:e.canAllocate(1)}},handleToggle(){if(this.toggleDisabled||this.embedEnabled){return}this.toggleEmbed(true)}}};var Ge=Ye;var We=a("IPPg");var Je=Object(V["a"])(Ge,ce,ue,false,null,"09c2551f",null);if(false){var Ze}Je.options.__file="app/assets/components/share-dialog/embed-dialog/embed-dialog.vue";var Ke=Je.exports;var Qe=a("dP3/");var Xe=a("/huW");var et=a("e6b/");var tt=a("7CL+");var at=a("DVpS");var it={name:"ShareDialogFooter",components:{YoutubeSyncDialog:at["a"],VyButton:r["j"],VyIcon:r["v"],VyTooltip:r["U"],EmbedDialog:Ke,FacebookDialog:Qe["a"],LinkedinDialog:Xe["a"],YoutubeDialog:et["a"],TipBox:tt["a"],VyLink:r["y"]},props:{dashboardUrl:{type:String,required:true},emailThumbnailUrl:{type:String,required:true},embedCodes:{type:Object,default:()=>({})},name:{type:String,required:true},organizationId:{type:Number,required:true},accountId:{type:Number,required:true},playerType:{type:String,required:true},playerUuid:{type:String,required:true},playerOrgId:{type:Number,default:0},videoDescription:{type:String,default:""},videoId:{type:Number,default:0},embedEnabled:{type:Boolean,required:true},location:{type:String,required:false,default:""}},apollo:{playerFolder:{query:de.a,variables(){return{id:this.playerOrgId}},skip(){return!this.hasFeature("in_platform_mailer")||!this.playerOrgId},update:e=>e.account.folder}},data(){return{stackedDialogVisible:{embed:false,youtube:false,facebook:false,linkedin:false},faEnvelope:oe["faEnvelope"]}},computed:{...o["c"].mapGetters(["hasFeature"]),...l["b"].mapGetters(["hasPermission"]),canAccessInsights(){return this.hasFeature("analytics_center")&&this.hasPermission("can_access_analytics")},canEditIntegrations(){return this.hasPermission("can_edit_integrations")},canAccessInPlatformMailer(){if(this.playerFolder){return!this.playerFolder.isPersonal||this.playerFolder.ownedByUser}return false},enableScheduledSocialPush(){return this.hasFeature("scheduled_social_push")},enableFacebookSharing(){return this.hasPermission("can_push_to_facebook")},enableYoutubeSharing(){return this.hasPermission("can_push_to_youtube")},hasPlayerEmbeds(){return this.hasFeature("player_embeds")},youtubeSharable(){return this.enableYoutubeSharing&&this.videoId>0&&(this.newYoutubePush&&!this.isPlaylist||!this.newYoutubePush)},playerTypeText(){return this.playerType==="playlist"?"Playlist":"Video"},newYoutubePush(){return this.hasFeature("new_youtube_push")},isPlaylist(){return this.playerType==="playlist"}},methods:{...d["c"].mapActions(["sendHeapEvent"]),handleHeapEvent({eventName:e,customOptions:t}){this.sendHeapEvent({eventName:e,customOptions:{assetType:this.playerTypeText,playerUuid:this.playerUuid,location:this.location,...t}})},openShareWindow(e){const t=626;const a=436;window.open(e,"sharer","width=".concat(t,", innerHeight=").concat(a,", location=no, menubar=no, status=no, titlebar=no, scrollbars=no, toolbar=no"))},shareGmail(){const e="".concat(this.name);const t="".concat(this.embedCodes.sharing_page,"?");window.open("https://mail.google.com/mail/?view=cm&fs=1&to=&su=".concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(t)),"_blank");this.$emit("update-guided-checklist")},shareTwitter(){const e=encodeURIComponent(this.embedCodes.sharing_page);const t=encodeURIComponent("Check out this video recorded with @vidyard");this.openShareWindow("https://twitter.com/share?text=".concat(t,"+").concat(e));this.handleHeapEvent({eventName:"twitter.link-share"});this.$emit("update-guided-checklist")},openStackedDialog(e){this.stackedDialogVisible[e]=true;this.$emit("stacked-dialog-open");this.$emit("update-guided-checklist")},backToShareDialog(){Object.keys(this.stackedDialogVisible).forEach((e=>{this.stackedDialogVisible[e]=false}));this.$emit("stacked-dialog-close")},openFacebookDialog(){if(this.enableFacebookSharing&&this.playerType==="video_facade"){this.openStackedDialog("facebook");return}const e="".concat(encodeURIComponent(this.embedCodes.sharing_page),"?");this.openShareWindow("https://www.facebook.com/sharer.php?u=".concat(e));this.handleHeapEvent({eventName:"facebook.link-share"});this.$emit("update-guided-checklist")}}};var st=it;var nt=a("CInQ");var rt=Object(V["a"])(st,ne,re,false,null,"322318fe",null);if(false){var ot}rt.options.__file="app/assets/components/share-dialog/common/ShareDialogFooter.vue";var lt=rt.exports;var dt=a("Y69x");var ct=a("P6Vd");var ut={name:"ShareDialog",components:{VyDialog:r["r"],VyAlert:r["d"],VySpinner:r["K"],EmbedSection:I,SecuritySection:W,ShareCopyOptions:se,ShareDialogFooter:lt,SharePreview:He["a"],AccessSettingsModal:m["a"]},props:{playerUuid:{type:String,default:undefined},video:{type:Object,default:undefined},visible:{type:Boolean,required:true},isLiveStream:{type:Boolean,default:false}},data(){return{embedCodes:{},embedCodesReady:false,embedSectionReady:true,errorMessage:"",player:{},embedEnabledOverride:undefined}},computed:{...o["c"].mapGetters(["hasFeature"]),...l["b"].mapGetters(["hasPermission"]),...d["c"].mapState({individual:e=>e.organization.individual,organizationId:e=>e.organization.id,dashboardUrl:e=>e.domains.secure,accountId:e=>e.organization.accountId}),loading(){return!this.embedsReady||this.player===undefined},uuid(){var e;return this.hasFeature("video_playlists")||this.isLiveStream?this.playerUuid:(e=this.player)===null||e===void 0?void 0:e.uuid},videoId(){var e;return this.video!==undefined?this.video.id:(e=this.player)===null||e===void 0?void 0:e.chapters_attributes[0].video_attributes.id},emailThumbnailUrl(){if(this.player.chapters_attributes===undefined){return""}return this.player.chapters_attributes[0].video_attributes.current_thumbnail_attributes.url_versions.play_button_small},embedEnabled(){return this.embedEnabledOverride===undefined?!(this.player.active_embed===null||this.player.active_embed===undefined):this.embedEnabledOverride},embedSectionEnabled(){return this.player.player_type==="playlist"?false:!this.hasFeature("player_embeds")&&!this.hasFeature("disallow_player_embeds")},accessSettingEnabled(){return this.player.player_type==="video_facade"&&this.hasFeature("sharing_page_seo")},embedsReady(){return this.embedSectionReady&&this.embedCodesReady},securitySectionEnabled(){return this.individual},hasAccessCodes(){return this.hasFeature("access_codes")},embedCode(){return Object(ct["a"])(this.embedCodes.responsive_inline)}},watch:{playerUuid(){this.setup()},video(){this.setup()},visible(){if(this.visible&&this.player.name===undefined){this.setup()}}},created(){this.setup()},methods:{...c["b"].mapActions(["sendApiRequest"]),...u["b"].mapActions(["sendHeapWithPayload"]),async setup(){if(!this.visible){return}this.errorMessage="";this.player={};this.embedCodesReady=false;this.embedCodes={};this.embedEnabledOverride=undefined;await this.fetchPlayer();await this.fetchEmbedCodes();this.embedCodesReady=true},async fetchEmbedCodes(e=false){if(!this.uuid){this.embedCodes={};return}if(!this.embedCodes.sharing_page||e){const e=await this.sendApiRequest(v["a"].index(this.organizationId,this.uuid));this.embedCodes=e.data;this.embedCodesReady=true}},async fetchPlayer(){if(this.hasFeature("video_playlists")||this.isLiveStream){const e=await this.sendApiRequest(h["a"].get(this.organizationId,this.uuid,["video_thumbnails","active_embed","access_setting"]));this.player=e.data}else{this.player=await Object(dt["a"])(this.video)}},onEmbedSectionReadyChanged(e){this.embedSectionReady=e},onEmbedToggleStart(){this.errorMessage=""},async onEmbedToggleFinish(e,t){if(e){this.errorMessage=e}if(t!==undefined){this.embedEnabledOverride=t}await this.fetchEmbedCodes(true);this.$emit("embed-toggled")},async updateGuidedChecklist(){if(this.hasFeature("guided_checklists")){const e="share_video";await Object(p["a"])({checklistName:"onboarding",trackerName:e});await this.sendHeapWithPayload({eventName:"Completed - (Checklist Step)",customOptions:{checklistStep:e}})}}}};var pt=ut;var ht=a("6MXf");var vt=Object(V["a"])(pt,i,s,false,null,"28e14dd7",null);if(false){var mt}vt.options.__file="app/assets/components/share-dialog/ShareDialog.vue";var ft=t["default"]=vt.exports},ibYm:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".icon-spacing[data-v-13170041]{margin-right:5px}.video-status[data-v-13170041]{margin-right:40px}.share-buttons[data-v-13170041]{display:flex;flex-direction:row}.share-buttons .share-toggle-min[data-v-13170041]{display:none}@media (max-width:480px){.share-buttons .share-toggle-full[data-v-13170041]{display:none}.share-buttons .share-toggle-min[data-v-13170041]{display:block}}.share-buttons .copy-link-buttons[data-v-13170041]{margin-right:8px;display:flex;flex-direction:row}.share-buttons .copy-link-buttons .copy-link-button[data-v-13170041]{width:128px}.share-buttons .copy-link-buttons .copy-link-thumbnail-icon[data-v-13170041]{height:18px}.share-buttons .copy-link-buttons .vy-button[data-v-13170041]{padding:4px}@media (max-width:480px){.share-buttons .copy-link-buttons[data-v-13170041]{display:none}}.flex-align-center[data-v-13170041]{display:flex;align-items:center}.upgrade-button[data-v-13170041]{margin:0 0 0 16px}.UpgradeButton-container[data-v-13170041]{border-left:1px solid #c8cee3;margin-left:16px}",""]);e.exports=s},ilrg:function(e,t,a){"use strict";var i=a("Lk0b");var s=a.n(i);var n=s.a},ioXw:function(e,t){},iqeF:function(e,t,a){var i=a("2oRo");var s=a("0Dky");var n=a("HH4o");var r=a("67WC").NATIVE_ARRAY_BUFFER_VIEWS;var o=i.ArrayBuffer;var l=i.Int8Array;e.exports=!r||!s((function(){l(1)}))||!s((function(){new l(-1)}))||!n((function(e){new l;new l(null);new l(1.5);new l(e)}),true)||s((function(){return new l(new o(2),1,undefined).length!==1}))},j8ar:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".security-card__panel[data-v-c93971a4] span{display:flex;align-items:center}.security-card__panel .security-card__panel-content[data-v-c93971a4]{background:#f5f9ff;padding:20px}.security-card__panel .security-card__panel-content .security-card__empty-sub-description[data-v-c93971a4]{margin-top:10px}",""]);e.exports=s},jFcN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="far";var s="bell-slash";var n=640;var r=512;var o=[];var l="f1f6";var d="M633.99 471.02L36 3.51C29.1-2.01 19.03-.9 13.51 6l-10 12.49C-2.02 25.39-.9 35.46 6 40.98l598 467.51c6.9 5.52 16.96 4.4 22.49-2.49l10-12.49c5.52-6.9 4.41-16.97-2.5-22.49zM163.53 368c16.71-22.03 34.48-55.8 41.4-110.58l-45.47-35.55c-3.27 90.73-36.47 120.68-54.84 140.42-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h279.66l-61.4-48H163.53zM320 96c61.86 0 112 50.14 112 112 0 .2-.06.38-.06.58.02 16.84 1.16 31.77 2.79 45.73l59.53 46.54c-8.31-22.13-14.34-51.49-14.34-92.85 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-26.02 5.41-49.45 16.94-69.13 32.72l38.17 29.84C275 103.18 296.65 96 320 96zm0 416c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z";t.definition={prefix:i,iconName:s,icon:[n,r,o,l,d]};t.faBellSlash=t.definition;t.prefix=i;t.iconName=s;t.width=n;t.height=r;t.ligatures=o;t.unicode=l;t.svgPathData=d},jRKO:function(e,t,a){var i=a("nmqu");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("5a277636",i,false,{});if(false){}},jVPg:function(e,t){},ja6b:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.setupFailed?a("VyAlert",{attrs:{type:"error"}},[e._v("\n  An error occurred while loading the player\n")]):a("SpinnerOverlay",{attrs:{visible:e.showLoadSpinner,"data-testid":"vyPlayerEmbed-"+e.playerUuid}},[a("VyAspectRatio",[a("div",{ref:"playerContainer",staticClass:"player-container"})])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("PF2z");var o=a("P56O");var l=a("Wwog");var d=a("G83Z");var c=a("Svhd");var u=a.n(c);var p=a("U0PZ");var h=a("nbMm");var v={name:"PlayerEmbedV4",components:{SpinnerOverlay:p["a"],VyAlert:h["d"],VyAspectRatio:h["e"]},props:{playerUuid:{type:String,required:true},playbackUrl:{type:String,required:false,default:"play.vidyard.com"},preview:{type:Boolean,required:false,default:false},embedSettings:{type:Object,required:false,default:()=>{}},reloadIndex:{type:Number,required:false,default:0},noLoadSpinner:{type:Boolean,default:false},forceLoadSpinner:{type:Boolean,default:false}},data(){return{loading:true,setupFailed:false}},computed:{...o["c"].mapState(["organization"]),showLoadSpinner(){return this.forceLoadSpinner||this.loading&&!this.noLoadSpinner},embedOptions(){const e={type:"inline",uuid:this.playerUuid,v:"4"};const t={preview:"1",disable_analytics:"1",disable_ctas:"1",embed_button:"0",viral_sharing:"0"};let a=Object.assign({},e);if(this.preview){a=Object.assign({},a,t)}if(this.embedSettings){a=Object.assign({},a,this.embedSettings)}return a}},watch:{reloadIndex(){if(this.apiHasPlayer()){this.loading=true;this.destroyPlayer();this.setupPlayer()}}},mounted(){this.setupPlayer()},beforeDestroy(){this.destroyPlayer(this.playerUuid)},methods:{...r["b"].mapActions(["sendApiRequest"]),apiHasPlayer(){const e=u.a.api.getPlayersByUUID(this.playerUuid);return e&&e.length>0},fetchJwt:Object(l["a"])((async function e(t,a){const{data:i}=await this.sendApiRequest(d["a"].jwt(t,a));return(i===null||i===void 0?void 0:i.jwt)||null})),async setupPlayer(){const e=await this.fetchJwt(this.organization.id,this.playerUuid);if(e===null){this.setupFailed=true;return}u.a.api.addReadyListener(((e,t)=>{this.loading=false;this.$emit("vidyardApi",t)}));u.a._debug.setPlaybackURL(this.playbackUrl);u.a.api.renderPlayer({uuid:this.playerUuid,container:this.$refs.playerContainer,jwt:e,...this.embedOptions})},destroyPlayer(){u.a.api.getPlayersByUUID(this.playerUuid).forEach((e=>{u.a.api.destroyPlayer(e)}))}}};var m=v;var f=a("eV+2");var b=a("KHd+");var g=a("Na1q");var y=a.n(g);var _=Object(b["a"])(m,i,s,false,null,"4b822f3d",null);if(typeof y.a==="function")y()(_);if(false){var w}_.options.__file="app/assets/components/PlayerEmbedV4.vue";var x=t["a"]=_.exports},jhP8:function(e,t,a){"use strict";var i=a("uiU4");var s=a.n(i);var n=s.a},jpLU:function(e,t,a){var i=a("BNVX");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("26d5c256",i,false,{});if(false){}},jtCO:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".vy-link.edit-page-link[data-v-09c0ae60]{display:inline-block;font-size:14px;margin:0}",""]);e.exports=s},kECn:function(e,t,a){"use strict";var i=a("bjcL");var s=a.n(i);var n=s.a},kTRX:function(e,t,a){"use strict";var i=a("s/e8");var s=a.n(i);var n=s.a},kXLi:function(e,t,a){var i={"./ass.js":"PjMj","./json.js":"pumP","./lrc.js":"GJ+n","./sbv.js":"4tH3","./smi.js":"aN5Z","./srt.js":"78bL","./ssa.js":"DPZZ","./sub.js":"kfMb","./vtt.js":"D2Pl"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return i[e]}s.keys=function e(){return Object.keys(i)};s.resolve=n;e.exports=s;s.id="kXLi"},kXa5:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".post-timestamp[data-v-6e718ea1],.pre-timestamp[data-v-6e718ea1]{width:148px}.timestamp-separator[data-v-6e718ea1]{display:flex;align-items:center;height:37px;margin:0 8px;color:#606782}",""]);e.exports=s},kYiv:function(e,t,a){var i=a("JPst");var s=a("BT5X");var n=i(false);n.i(s);n.push([e.i,'.uppy-StatusBar{display:flex;position:relative;height:40px;line-height:40px;font-size:12px;font-weight:400;color:#fff;background-color:#fff;z-index:1001;transition:height .2s}.uppy-size--md .uppy-StatusBar{height:46px}.uppy-StatusBar:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:2px;background-color:#eaeaea}.uppy-StatusBar[aria-hidden=true]{display:none}.uppy-StatusBar.is-complete .uppy-StatusBar-progress{background-color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-progress{background-color:#e32437}.uppy-StatusBar.is-complete .uppy-StatusBar-statusIndicator{color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-statusIndicator{color:#e32437}.uppy-StatusBar:not([aria-hidden=true]).is-waiting{background-color:#fff;height:65px;border-top:1px solid #eaeaea}.uppy-StatusBar-progress{background-color:#2275d7;height:2px;position:absolute;z-index:1001;transition:background-color,width .3s ease-out}.uppy-StatusBar-progress.is-indeterminate{background-size:64px 64px;background-image:linear-gradient(45deg,rgba(0,0,0,.3) 25%,transparent 0,transparent 50%,rgba(0,0,0,.3) 0,rgba(0,0,0,.3) 75%,transparent 0,transparent);animation:uppy-StatusBar-ProgressStripes 1s linear infinite}@keyframes uppy-StatusBar-ProgressStripes{0%{background-position:0 0}to{background-position:64px 0}}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-progress,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-progress{background-color:#f6a623}.uppy-StatusBar.is-waiting .uppy-StatusBar-progress{display:none}.uppy-StatusBar-content{display:flex;align-items:center;position:relative;z-index:1002;padding-left:10px;white-space:nowrap;text-overflow:ellipsis;color:#333;height:100%}.uppy-size--md .uppy-StatusBar-content{padding-left:15px}.uppy-StatusBar-status{line-height:1.4;font-weight:400;display:flex;flex-direction:column;justify-content:center;padding-right:.3em}.uppy-StatusBar-statusPrimary{font-weight:500}.uppy-StatusBar-statusSecondary{margin-top:1px;font-size:11px;line-height:1.2;display:inline-block;color:#757575;white-space:nowrap}.uppy-StatusBar-statusSecondaryHint{display:inline-block;vertical-align:middle;margin-right:5px;line-height:1}.uppy-size--md .uppy-StatusBar-statusSecondaryHint{margin-right:8px}.uppy-StatusBar-statusIndicator{position:relative;top:1px;color:#525252;margin-right:7px}.uppy-StatusBar-statusIndicator svg{vertical-align:text-bottom}.uppy-StatusBar-actions{display:flex;align-items:center;position:absolute;top:0;bottom:0;right:10px;z-index:1004}.uppy-StatusBar.is-waiting .uppy-StatusBar-actions{width:100%;position:static;padding:0 15px;background-color:#fafafa}.uppy-StatusBar-actionCircleBtn{line-height:1;cursor:pointer;margin:3px;opacity:.9}.uppy-StatusBar-actionCircleBtn:hover{opacity:1}.uppy-StatusBar-actionCircleBtn:focus{outline:none;box-shadow:0 0 0 3px rgba(34,117,215,.5);border-radius:50%}.uppy-StatusBar-actionCircleBtn::-moz-focus-inner{border:0}.uppy-StatusBar-actionCircleBtn svg{vertical-align:bottom}.uppy-StatusBar-actionBtn{display:inline-block;vertical-align:middle;font-size:10px;line-height:inherit;color:#2275d7}.uppy-size--md .uppy-StatusBar-actionBtn{font-size:11px}.uppy-StatusBar-actionBtn--retry{height:16px;border-radius:8px;margin-right:6px;background-color:#ff4b23;line-height:1;color:#fff;padding:1px 6px 3px 18px;position:relative}.uppy-StatusBar-actionBtn--retry:hover{background-color:#f92d00}.uppy-StatusBar-actionBtn--retry:focus{outline:none;box-shadow:0 0 0 3px rgba(34,117,215,.5)}.uppy-StatusBar-actionBtn--retry::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--retry svg{position:absolute;top:3px;left:6px}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{font-size:14px;width:100%;padding:15px 10px;color:#fff;background-color:#1bb240;line-height:1}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover{background-color:#148630}.uppy-size--md .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{padding:13px 22px;width:auto}.uppy-StatusBar:not(.is-waiting) .uppy-StatusBar-actionBtn--upload{background-color:initial;color:#2275d7}.uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-right:3px;padding-left:3px;padding-bottom:1px;border-radius:3px}.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{outline:none;box-shadow:0 0 0 3px rgba(34,117,215,.5)}.uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner{border:0}.uppy-StatusBar-details{line-height:12px;width:13px;height:13px;display:inline-block;vertical-align:middle;color:#fff;background-color:#939393;border-radius:50%;position:relative;top:0;left:2px;font-size:10px;font-weight:600;text-align:center;cursor:help}.uppy-StatusBar-details:after{line-height:1.3;word-wrap:break-word}.uppy-StatusBar-spinner{animation-name:uppy-StatusBar-spinnerAnimation;animation-duration:1s;animation-iteration-count:infinite;animation-timing-function:linear;margin-right:10px;fill:#2275d7}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-spinner,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-spinner{fill:#f6a623}@keyframes uppy-StatusBar-spinnerAnimation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.statusBarContainer{z-index:1;position:fixed;width:100%;right:0;left:0;margin-right:auto;margin-left:auto;bottom:20px}@media (max-width:480px){.statusBarContainer{bottom:0}}#center-icon,#left-icon,#right-icon{cursor:pointer}.uppy-button-container{display:flex}.retry-button#retry-button{padding:2px 4px 4px}.cancel-button#cancel-button{padding:2px 6px 4px}.cancel-button#cancel-button,.retry-button#retry-button{height:auto;line-height:normal;border:1px solid transparent;border-radius:4px;align-content:center;display:flex;cursor:pointer}.cancel-button#cancel-button:focus,.retry-button#retry-button:focus{background-color:initial;box-shadow:0 0 0 3px #bfc4ff;color:#5b627d;outline-color:transparent;outline-width:2px;outline-style:solid}.cancel-button#cancel-button:hover,.retry-button#retry-button:hover{color:#374054;background-color:#ebf0f7;border:.5px solid #a9b0c9;outline-color:transparent;outline-width:2px;outline-style:dotted}.cancel-button#cancel-button:active,.retry-button#retry-button:active{background-color:#dde1f0;border:1px solid #a9b0c9;color:#475066}.cancel-button#cancel-button.fa-lg,.retry-button#retry-button.fa-lg{display:block;margin:auto}.icon-color{color:#606782}.uppy-Root{border-radius:4px;font-family:LL Circular,sans-serif}.uppy-StatusBar{width:70vw;min-width:300px;max-width:500px;height:44px;margin:0 auto}@media (max-width:480px){.uppy-StatusBar{width:100%;padding-left:50px;border-radius:0}}.uppy-StatusBar:before{background-color:transparent}.uppy-StatusBar:not(.is-waiting){box-shadow:0 0 24px 0 rgba(15,31,41,.2),0 24px 24px 0 rgba(15,31,41,.2)}.uppy-StatusBar-progress{height:4px;border-top-left-radius:4px;border-top-right-radius:4px;background-color:#46db83}@media (max-width:480px){.uppy-StatusBar-progress{border-radius:0}}.uppy-StatusBar.is-uploading .uppy-StatusBar-progress{border-top-right-radius:4px;border-bottom-right-radius:4px}.uppy-StatusBar.is-complete .uppy-StatusBar-progress{background-color:#46db83}.uppy-StatusBar.is-error .uppy-StatusBar-progress{background-color:#ea0b35}.uppy-StatusBar-status{max-width:300px}.uppy-StatusBar-actionBtn--retry,.uppy-StatusBar-actionBtn--retry:hover{background-color:#ea0b35}.uppy-StatusBar-spinner,.uppy-StatusBar-statusIndicator{display:none}.uppy-StatusBar-statusPrimary{color:#5b627d}.uppy-StatusBar-statusSecondary{color:#606782}',""]);e.exports=n},kfMb:function(e,t,a){"use strict";var i="sub";var s=25;function n(e,t){var a=t.fps>0?t.fps:s;var i=[];var n=t.eol||"\r\n";var r=e.split(/\r?\n/g);for(var o=0;o<r.length;o++){var l=/^\{(\d+)\}\{(\d+)\}(.*)$/gi;var d=l.exec(r[o]);if(d){var c={};c.type="caption";c.index=o+1;c.frame={start:parseInt(d[1]),end:parseInt(d[2])};c.frame.count=c.frame.end-c.frame.start;c.start=Math.round(c.frame.start/a);c.end=Math.round(c.frame.end/a);c.duration=c.end-c.start;var u=d[3].split(/\|/g);c.content=u.join(n);c.text=c.content.replace(/\{[^\}]+\}/g,"");i.push(c);continue}if(t.verbose){console.log("WARN: Unknown part",r[o])}}return i}function r(e,t){var a=t.fps>0?t.fps:s;var i="";var n=t.eol||"\r\n";for(var r=0;r<e.length;r++){var o=e[r];if(typeof o.type==="undefined"||o.type=="caption"){var l=typeof o.frame=="object"&&o.frame.start>=0?o.frame.start:o.start*a;var d=typeof o.frame=="object"&&o.frame.end>=0?o.frame.end:o.end*a;var c=o.text.replace(/\r?\n/,"|");i+="{"+l+"}"+"{"+d+"}"+c+n;continue}if(t.verbose){console.log("SKIP:",o)}}return i}function o(e){if(typeof e==="string"){if(/^\{\d+\}\{\d+\}(.*)/.test(e)){return i}}}e.exports={name:i,detect:o,parse:n,build:r}},koWL:function(e,t,a){"use strict";var i=a("Qf/9");var s=a.n(i);var n=s.a},"kqT/":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".container[data-v-4b1ab7ee]{display:flex;width:100%;align-items:center;padding-left:0}.container .icon[data-v-4b1ab7ee]{margin-right:8px}.container .unknown-contact-link[data-v-4b1ab7ee]{border:none;outline:none;background-color:initial;padding:0;margin:0;color:#6361fa}.container .unknown-contact-link[data-v-4b1ab7ee]:focus,.container .unknown-contact-link[data-v-4b1ab7ee]:hover{text-decoration:underline}",""]);e.exports=s},l6F4:function(e,t,a){"use strict";var i=a("0iAF");var s=a.n(i);var n=s.a},ljLh:function(e,t,a){var i=a("66/U");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("61d5ae5a",i,false,{});if(false){}},lkuC:function(e,t,a){var i=a("kYiv");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("fcd8a4b4",i,false,{});if(false){}},ltRM:function(e,t,a){var i=a("z2Gn");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("31a2d448",i,false,{});if(false){}},"m+i1":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"[data-v-9906abc0] .menu-container{margin-bottom:65px}.reorder-playlist-item[data-v-9906abc0]{background:#fff;counter-increment:videos}.reorder-playlist-item__prefix[data-v-9906abc0]{height:100%;display:flex;flex-direction:column;justify-content:center;align-content:center;width:20px;text-align:center;margin:0 16px 0 4px}.reorder-playlist-item__prefix__icon[data-v-9906abc0]{display:none}.reorder-playlist-item .reorder-playlist-item__prefix__index[data-v-9906abc0]:before{content:counter(videos)}.reorder-playlist-item__video:hover .reorder-playlist-item__prefix.draggable[data-v-9906abc0]{cursor:grab}.reorder-playlist-item__video:hover .reorder-playlist-item__prefix.draggable .reorder-playlist-item__prefix__icon[data-v-9906abc0]{display:inline}.reorder-playlist-item__video:hover .reorder-playlist-item__prefix.draggable .reorder-playlist-item__prefix__index[data-v-9906abc0]{display:none}",""]);e.exports=s},m83V:function(e,t,a){"use strict";var i=a("z2ne");var s=a.n(i);var n=s.a},mD5T:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("ActionBar",{attrs:{name:e.name,"back-link":e.backLink,"back-link-aria-label":e.backLinkAriaLabel,"show-current-folder":""},scopedSlots:e._u([{key:"right",fn:function(){return[a("div",{key:"right",staticClass:"flex-align-center"},[a("VideoStatus",{staticClass:"video-status",attrs:{"video-status":e.videoStatus}}),e._v(" "),a("VyTooltip",{staticClass:"icon-spacing",attrs:{content:e.copyLinkAndThumbnailText,placement:"bottom"}},[a("CopyButton",{staticClass:"copy-link-button",attrs:{"aria-label":e.copyLinkAndThumbnailText,"heap-name":"copy-link-and-thumbnail"},on:{"copy-clicked":e.handleCopyLinkAndThumbnailClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faImage",type:"regular"}})]},proxy:true},{key:"html-to-copy",fn:function(){return[a("CopyThumbnailContent",{attrs:{"thumbnail-url":e.selectedThumbnailEmailUrl,"embed-link":e.embedLink||"",name:e.playerName}})]},proxy:true}])})],1),e._v(" "),a("VyTooltip",{staticClass:"icon-spacing",attrs:{content:e.copyLinkText,placement:"bottom"}},[a("CopyButton",{staticClass:"copy-link-button",attrs:{"text-to-copy":e.embedLink,"aria-label":e.copyLinkText,"heap-name":"copy-link"},on:{"copy-clicked":e.handleCopyLinkClicked},scopedSlots:e._u([{key:"icon",fn:function(){return[a("VyIcon",{attrs:{name:"faLink",type:"regular"}})]},proxy:true}])})],1),e._v(" "),a("VyButton",{attrs:{id:"share-button",autofocus:true,type:"primary"},on:{click:function(t){e.showShareModal=true}}},[e._v("\n        Share\n      ")]),e._v(" "),a("VyButton",{attrs:{id:"preview-button",type:"secondary",plain:true},on:{click:e.previewVideo}},[e._v("\n        Preview\n      ")]),e._v(" "),a("ShareDialog",{attrs:{visible:e.showShareModal,"player-uuid":e.playerUuid,video:e.video},on:{"update:visible":function(t){e.showShareModal=t},"embed-toggled":e.getEmbedEnabled,"remove-password":e.removePassword,"set-loading":e.setLoading,"set-access-setting":e.setAccessSetting,"after-failure":function(t){return e.$store.commit("errors/showFullPageError")}}}),e._v(" "),a("DropdownContent"),e._v(" "),e.showPQL?a("div",{staticClass:"UpgradeButton-container"},[a("UpgradeButton",{staticClass:"upgrade-button",attrs:{campaign:"embed-cta","heap-event":"Edit page top bar upgrade prompt clicked"}})],1):e._e()],1)]},proxy:true}])})};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("3bBZ");var o=a("Kz25");var l=a("nbMm");var d=a("nxUQ");var c=a("iNKI");var u=a("0iVE");var p=a("omyK");var h=a("eIIN");var v=a("bjjx");var m=a("NvBw");var f=a("+Zja");var b=a("k7PI");var g=a("Iq6z");var y=a("P56O");var _=a("IHRM");var w=a("W8xq");var x=a("PXyb");var S=a("Xl0d");var k=a("xIah");var C=a("QKBm");var P={name:"TopBar",components:{ActionBar:v["a"],VyButton:l["j"],ShareDialog:c["default"],CopyButton:u["a"],CopyThumbnailContent:p["a"],DropdownContent:h["a"],VyTooltip:l["U"],VyIcon:l["v"],UpgradeButton:m["a"],VideoStatus:f["a"]},props:{name:{type:String,required:true},backLink:{type:String,required:true},backLinkAriaLabel:{type:String,required:false,default:"Back"}},data(){return{copyLinkText:"Copy link",copyLinkAndThumbnailText:"Copy link and thumbnail",showPQL:false,showShareModal:false}},computed:{...y["c"].mapState(["organization"]),..._["c"].mapGetters(["getVariation"]),...w["b"].mapGetters(["hasPermission"]),...x["b"].mapGetters(["selectedThumbnailEmailUrl"]),...S["b"].mapGetters(["videoStatus"]),...k["b"].mapState({playerUuid:e=>e.uuid,playerName:e=>e.name,playlistVideos:e=>e.playlistVideos,embedCodes:e=>e.embedCodes}),video(){return this.playlistVideos?this.playlistVideos[0].video_attributes:undefined},embedLink(){return this.embedCodes.sharing_page},previewLink(){const e=new URL(this.embedLink);const t=e.searchParams;if(this.getVariation("share_page_2019_show_banner_on_preview",false)){t.set("showBanner","true")}if(this.getVariation("show_tool_tips_on_preview",false)){t.set("showTooltips","true")}e.search=t.toString();return e.toString()}},mounted(){this.displayPQL()},methods:{...C["b"].mapMutations(["setPassword","setAccessSetting"]),...k["b"].mapMutations(["setLoading"]),...k["b"].mapActions(["getIsSecure","getEmbedEnabled"]),...y["c"].mapActions(["sendHeapEvent"]),handleCopyLinkClicked(){this.sendHeapEvent(Object(g["f"])("dashboard",{playerUuid:this.playerUuid}))},handleCopyLinkAndThumbnailClicked(){this.sendHeapEvent(Object(g["e"])("dashboard",{playerUuid:this.playerUuid}))},previewVideo(){return window.open(this.previewLink,"_blank")},async displayPQL(){const e=await Object(d["a"])(this.organization.id,"embeds");this.showPQL=e.show},removePassword(){this.getIsSecure();this.setPassword({})},setAccessSetting(e){if(e===b["g"]){this.sendHeapEvent({eventName:"Growth - SEO Indexing has been enabled from top bar"})}this.setAccessSetting(e)}}};var T=P;var V=a("cURO");var A=a("KHd+");var E=Object(A["a"])(T,i,s,false,null,"64b7621a",null);if(false){var I}E.options.__file="app/assets/components/video_edit_page/common/TopBar.vue";var D=t["a"]=E.exports},mRle:function(e,t,a){var i=a("zVyn");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("7bac2ff2",i,false,{});if(false){}},mSkt:function(e,t,a){var i=a("x5DU");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("6c5b2920",i,false,{});if(false){}},"mX+Q":function(e,t,a){var i=a("nyQZ");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("013e90ce",i,false,{});if(false){}},mac0:function(e,t,a){"use strict";var i=a("8YsL");var s=a.n(i);var n=s.a},mg3s:function(e,t,a){var i=a("JPst");var s=a("BT5X");var n=i(false);n.i(s);n.push([e.i,".uppy-input{display:none}",""]);e.exports=n},mn20:function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));a.d(t,"b",(function(){return y}));var i=a("4Brf");var s=a.n(i);var n=a("/Dqt");var r=a("Ei+z");var o=a("b20N");var l=a("QKBm");var d=a("7Cno");var c=a("IYjj");var u=a("WnOs");var p=a("n+0L");var h=a("nbMm");const v=Object(r["a"])("vidyard");const m=Object(r["a"])("videoModule");const f=Object(r["a"])("playerModule");const b=Object(r["a"])("playerThumbnail");const{namespacedModule:g,moduleHelpers:y}=Object(n["a"])("videoEditPage",{modules:{...o["a"],...l["a"],...d["a"],...c["a"],...u["a"],...p["a"]},state:{showDeleteVideoModal:false,showMoveVideoModal:false,showDownloadVideoModal:false,playerDrawerOpen:false,playerDrawerMode:"",isCurrentLiveStream:false,streamInstanceId:null,containedLiveStream:false,canAccessMailer:false,videoCount:0,userEmail:null,ownerTeam:null,relatedPlaylists:[],navigation:{video:"",actions:"",security:"",settings:"",design:"",personalize:"",history:""}},getters:{...v.mapState(["user","organization"])},mutations:{setDeleteVideoModalVisibility:(e,t)=>{e.showDeleteVideoModal=t},setMoveVideoModalVisibility:(e,t)=>{e.showMoveVideoModal=t},setDownloadVideoModalVisibility:(e,t)=>{e.showDownloadVideoModal=t},$_setPlayerDrawerOpen(e,t){e.playerDrawerOpen=t},$_setPlayerDrawerMode(e,t){e.playerDrawerMode=t}},actions:{...v.mapActions(["sendAppcuesIdentify"]),...m.mapActions({setupVideoModule:"setup"}),...f.mapActions({setupPlayerModule:"setup"}),...b.mapActions(["loadSelectedThumbnail"]),showPlayerDrawer({commit:e},t){e("$_setPlayerDrawerMode",t);e("$_setPlayerDrawerOpen",true)},hidePlayerDrawer({commit:e}){e("$_setPlayerDrawerOpen",false)},setup({state:e,getters:t,dispatch:a}){a("sendAppcuesIdentify",{createdAt:t.user.createdAt,parent_id:t.organization.parentId,video_count:e.videoCount});a("setupVideoModule");a("setupPlayerModule");a("loadSelectedThumbnail")},showStatus(e,t){const a=t.description||"";const i=new h["b"](a,{type:t.success?"success":"error",title:t.message,icon:t.success?"check-circle":"exclamation-triangle"});h["b"].show(i)}}})},"mnX/":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".wrapper[data-v-08ff57e6]{align-items:center;display:flex}.bar[data-v-08ff57e6]{background-color:#ebf0f7;border-radius:10px;display:flex;flex-grow:1;height:8px}.interval-bar[data-v-08ff57e6]{height:100%}.interval-bar[data-v-08ff57e6]:first-child{border-bottom-left-radius:10px;border-top-left-radius:10px}.interval-bar[data-v-08ff57e6]:last-child{border-bottom-right-radius:10px;border-top-right-radius:10px}.interval-bar-level-1[data-v-08ff57e6]{background-color:#46db83}.interval-bar-level-2[data-v-08ff57e6]{background-color:#2e7a53}.interval-bar-level-3[data-v-08ff57e6]{background-color:#1e4840}.tooltip-content[data-v-08ff57e6]{text-align:center}.percent-text[data-v-08ff57e6]{margin-left:8px;text-align:right;width:36px}@media screen and (-ms-high-contrast:active){.bar[data-v-08ff57e6]{background-color:#000;border:2px solid #fff}}",""]);e.exports=s},"n+0L":function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));a.d(t,"b",(function(){return w}));var i=a("Junv");var s=a.n(i);var n=a("5s+n");var r=a.n(n);var o=a("3bBZ");var l=a.n(o);var d=a("Kw5r");var c=a("9nhX");var u=a.n(c);var p=a("/Dqt");var h=a("Ei+z");var v=a("Ar/Z");const m=Object(h["a"])("vyApi");const f=Object(h["a"])("vidyard");const b=Object(h["a"])("videoModule");const g=Object(h["a"])("playerModule");const y=.3;const{namespacedModule:_,moduleHelpers:w,moduleBuilder:x}=Object(p["a"])("videoEditPage/videoTrim",{state:{playheadTime:0,activeSegmentIndex:-1,segments:[],isTrimmed:false,loading:false,isPlayerReady:false,playerMetadata:{listenToPlayerStatus:false,playing:false,currentTime:0}},getters:{...b.mapGetters(["videoId","videoDuration"]),...g.mapState(["playerApi","playing"]),...f.mapState(["organization"]),activeSegment:e=>e.segments[e.activeSegmentIndex],prevSegment:e=>e.activeSegmentIndex>0?e.segments[e.activeSegmentIndex-1]:undefined,nextSegment:e=>e.activeSegmentIndex<e.segments.length-1?e.segments[e.activeSegmentIndex+1]:undefined,firstSegment:e=>e.segments[0],lastSegment:e=>e.segments[e.segments.length-1],playheadSegment:e=>e.segments.find((t=>t.start<=e.playheadTime&&t.end>=e.playheadTime)),nextPlayheadSegment:(e,t)=>t.getSegmentAfterSeconds(e.playheadTime),getSegmentAfterSeconds:e=>t=>e.segments.find((e=>e.start>=t)),playheadAtEndOfVideo:(e,t)=>e.playheadTime>=t.lastSegment.end,prevPlayheadSegment:e=>[...e.segments].reverse().find((t=>t.end<e.playheadTime)),playheadSegmentIndex:(e,t)=>e.segments.indexOf(t.playheadSegment),segmentsInMs:e=>e.segments.map((e=>({start:Math.trunc(e.start*1e3),end:Math.trunc(e.end*1e3)})))},mutations:{setDefaultSegment(e,t){e.segments=[{start:0,end:t}];e.activeSegmentIndex=0;e.playheadTime=0},setActiveSegmentIndex(e,t){e.activeSegmentIndex=t},replaceActiveSegment(e,t){if(e.activeSegmentIndex===-1)return;e.segments.splice(e.activeSegmentIndex,1,t)},createSegment(e,{index:t,splitTime:a}){e.segments.splice(t+1,0,{start:a,end:e.segments[t].end});e.segments[t].end=a},deleteActiveSegment(e){e.segments.splice(e.activeSegmentIndex,1);e.activeSegmentIndex=Math.max(e.activeSegmentIndex-1,0)},setPlayheadTime(e,{seconds:t}){e.playheadTime=t},setLoading(e,t){e.loading=t},setIsTrimmed(e,t){e.isTrimmed=t},setIsPlayerReady(e,t){e.isPlayerReady=t},setListenToPlayerStatus(e,t){e.playerMetadata.listenToPlayerStatus=t},setCurrentTime(e,t){e.playerMetadata.currentTime=t},setPlayingStatus(e,t){e.playerMetadata.playing=t}},actions:{...m.mapActions(["sendApiRequest"]),...b.mapActions(["pollVideoStatusUntilReady"]),deleteActiveSegment({commit:e,state:t,dispatch:a}){e("deleteActiveSegment");a("movePlayhead",t.playheadTime)},seek({getters:{playerApi:e}},t){e.seek(t)},pause({commit:e,getters:{playerApi:t}}){e("setPlayingStatus",false);t.pause()},play({getters:{playerApi:e}}){e.play()},resetTrim({commit:e,getters:t,dispatch:a}){a("listenToPlayerApi");t.playerApi.disableCaption();e("setDefaultSegment",t.videoDuration);e("setPlayheadTime",{seconds:0});e("setIsPlayerReady",false);e("setPlayingStatus",false);e("setListenToPlayerStatus",false)},splitSegment({state:e,getters:t,commit:a}){a("setActiveSegmentIndex",t.playheadSegmentIndex);a("createSegment",{index:t.playheadSegmentIndex,splitTime:e.playheadTime})},movePlayhead({commit:e,getters:t,state:a},{seconds:i,seek:s=false,dragging:n=false,clicking:r=false}){const o=t.playheadSegment&&i>=t.playheadSegment.end;const l=t.playheadSegment&&t.playheadSegment===t.lastSegment;const{playing:d}=a.playerMetadata;let c=i;let p=i;let h=s||n;if(!n){if(d&&o&&!r){if(l){t.playerApi.pause()}else{p=t.nextPlayheadSegment.start;h=true}}const e=a.segments.some((({start:e,end:t})=>e<=i&&i<=t));if(!e){const e=t.getSegmentAfterSeconds(i);const a=e?e.start:t.lastSegment.end;c=a;p=a;h=true}}c=u()(c,0,t.videoDuration);p=u()(p,0,t.videoDuration);e("setPlayheadTime",{seconds:c});if(h){t.playerApi.seek(p)}},updateActiveSegment({getters:e,commit:t},a){var i,s;if(!e.activeSegment)return;const n=((i=e.prevSegment)===null||i===void 0?void 0:i.end)||0;const r=((s=e.nextSegment)===null||s===void 0?void 0:s.start)||e.videoDuration;if("start"in a){a.start=Math.max(n,a.start);a.start=Math.min(e.activeSegment.end-1,a.start)}if("end"in a){a.end=Math.min(r,a.end);a.end=Math.max(e.activeSegment.start+1,a.end)}t("replaceActiveSegment",{...e.activeSegment,...a})},async requestTrim({getters:e,commit:t,dispatch:a}){t("setLoading",true);const i=v["a"].trimSlices(e.organization.id,e.videoId,e.segmentsInMs);const s=await a("sendApiRequest",i);t("setLoading",false);if(s.status===201){t("setIsTrimmed",true);a("pollVideoStatusUntilReady")}return s},async revertTrim({getters:e,commit:t,dispatch:a}){t("setLoading",true);const i=v["a"].deleteTrimSlices(e.organization.id,e.videoId);const s=await a("sendApiRequest",i);t("setLoading",false);if(s.status===200){t("setIsTrimmed",false);a("pollVideoStatusUntilReady")}return s},listenToPlayerApi({getters:e,dispatch:t,commit:a,state:i}){const s={ready(){a("setIsPlayerReady",true)},async playerComplete(){t("play");await d["a"].nextTick();t("seek",e.videoDuration);t("pause")},play(){a("setListenToPlayerStatus",true)},pause(){a("setListenToPlayerStatus",false);a("setPlayingStatus",false)},status(e){const{currentTime:t}=e.status;const s=Math.abs(t-i.playheadTime);const n=s>y?t:i.playheadTime;const{listenToPlayerStatus:r,playing:o}=i.playerMetadata;const l=r&&!o||o;if(l){a("setPlayheadTime",{seconds:n})}if(l!==o){a("setPlayingStatus",l)}}};const n=e=>{if(e.data){var t;let a;try{a=JSON.parse(e.data)}catch{return}(t=s[a.event])===null||t===void 0?void 0:t.call(s,a)}};if(i.handleMessages){window.removeEventListener("message",i.handleMessages)}window.addEventListener("message",n);i.handleMessages=n}}})},n5AL:function(e,t,a){var i=a("jtCO");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("68621064",i,false,{});if(false){}},nWfI:function(e,t,a){"use strict";var i=a("1W/4");var s=a.n(i);var n=s.a},nmq7:function(e,t,a){"use strict";var i=a("0jNN");var s=Object.prototype.hasOwnProperty;var n={allowDots:false,allowPrototypes:false,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:false,strictNullHandling:false};var r=function e(t,a){var i={};var r=a.ignoreQueryPrefix?t.replace(/^\?/,""):t;var o=a.parameterLimit===Infinity?undefined:a.parameterLimit;var l=r.split(a.delimiter,o);for(var d=0;d<l.length;++d){var c=l[d];var u=c.indexOf("]=");var p=u===-1?c.indexOf("="):u+1;var h,v;if(p===-1){h=a.decoder(c,n.decoder);v=a.strictNullHandling?null:""}else{h=a.decoder(c.slice(0,p),n.decoder);v=a.decoder(c.slice(p+1),n.decoder)}if(s.call(i,h)){i[h]=[].concat(i[h]).concat(v)}else{i[h]=v}}return i};var o=function(e,t,a){var i=t;for(var s=e.length-1;s>=0;--s){var n;var r=e[s];if(r==="[]"){n=[];n=n.concat(i)}else{n=a.plainObjects?Object.create(null):{};var o=r.charAt(0)==="["&&r.charAt(r.length-1)==="]"?r.slice(1,-1):r;var l=parseInt(o,10);if(!isNaN(l)&&r!==o&&String(l)===o&&l>=0&&(a.parseArrays&&l<=a.arrayLimit)){n=[];n[l]=i}else{n[o]=i}}i=n}return i};var l=function e(t,a,i){if(!t){return}var n=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t;var r=/(\[[^[\]]*])/;var l=/(\[[^[\]]*])/g;var d=r.exec(n);var c=d?n.slice(0,d.index):n;var u=[];if(c){if(!i.plainObjects&&s.call(Object.prototype,c)){if(!i.allowPrototypes){return}}u.push(c)}var p=0;while((d=l.exec(n))!==null&&p<i.depth){p+=1;if(!i.plainObjects&&s.call(Object.prototype,d[1].slice(1,-1))){if(!i.allowPrototypes){return}}u.push(d[1])}if(d){u.push("["+n.slice(d.index)+"]")}return o(u,a,i)};e.exports=function(e,t){var a=t?i.assign({},t):{};if(a.decoder!==null&&a.decoder!==undefined&&typeof a.decoder!=="function"){throw new TypeError("Decoder has to be a function.")}a.ignoreQueryPrefix=a.ignoreQueryPrefix===true;a.delimiter=typeof a.delimiter==="string"||i.isRegExp(a.delimiter)?a.delimiter:n.delimiter;a.depth=typeof a.depth==="number"?a.depth:n.depth;a.arrayLimit=typeof a.arrayLimit==="number"?a.arrayLimit:n.arrayLimit;a.parseArrays=a.parseArrays!==false;a.decoder=typeof a.decoder==="function"?a.decoder:n.decoder;a.allowDots=typeof a.allowDots==="boolean"?a.allowDots:n.allowDots;a.plainObjects=typeof a.plainObjects==="boolean"?a.plainObjects:n.plainObjects;a.allowPrototypes=typeof a.allowPrototypes==="boolean"?a.allowPrototypes:n.allowPrototypes;a.parameterLimit=typeof a.parameterLimit==="number"?a.parameterLimit:n.parameterLimit;a.strictNullHandling=typeof a.strictNullHandling==="boolean"?a.strictNullHandling:n.strictNullHandling;if(e===""||e===null||typeof e==="undefined"){return a.plainObjects?Object.create(null):{}}var s=typeof e==="string"?r(e,a):e;var o=a.plainObjects?Object.create(null):{};var d=Object.keys(s);for(var c=0;c<d.length;++c){var u=d[c];var p=l(u,s[u],a);o=i.merge(o,p,a)}return i.compact(o)}},nmqu:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".social-sharing-item-container[data-v-ee276af6]{font-size:14px}.social-sharing-item-container td[data-v-ee276af6]{color:#374054;padding:10px 0}.social-sharing-item-container .social-share-icon[data-v-ee276af6]{margin-right:8px}.social-sharing-item-container .social-platform[data-v-ee276af6]{display:flex;justify-content:flex-start;align-items:center}.social-sharing-item-container .status[data-v-ee276af6]{display:flex;flex-direction:column;align-items:flex-start}.social-sharing-item-container .vy-status[data-v-ee276af6]{margin-right:8px}.social-sharing-item-container .controls[data-v-ee276af6]{display:flex;flex-direction:row;justify-content:flex-end}.flex-row[data-v-ee276af6]{display:flex;flex-direction:row}.status-padding[data-v-ee276af6]{padding-left:32px;font-weight:200}.info-container[data-v-ee276af6]{padding-top:2px}.vy-status-error-button[data-v-ee276af6]{padding-top:6px}.status-result[data-v-ee276af6]{white-space:pre-line}",""]);e.exports=s},nnKP:function(e,t,a){"use strict";var i=a("11Tu");var s=a.n(i);var n=s.a},nwGA:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".title[data-v-0fe04ac6]{font-size:20px;color:#374054}.progress-indicator[data-v-0fe04ac6]{margin-bottom:24px}.spinner[data-v-0fe04ac6]{width:50px;margin:20px auto}.centered[data-v-0fe04ac6]{display:flex;flex-direction:row;justify-content:center}.share-preview[data-v-0fe04ac6] .share-details{margin-top:16px}.share-preview[data-v-0fe04ac6] .share-details .share-title{font-size:16px;font-weight:500}.share-preview[data-v-0fe04ac6] .share-details .share-link{margin-top:8px;font-size:14px;font-weight:400}",""]);e.exports=s},nwcT:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".legend-container[data-v-1df13261]{display:flex;justify-content:flex-start}.legend-title[data-v-1df13261]{margin-right:16px}.legend-bar[data-v-1df13261]{height:8px;width:30px;margin:5px 1px}.legend-0[data-v-1df13261]{background-color:#ebf0f7}.legend-1[data-v-1df13261]{background-color:#46db83}.legend-2[data-v-1df13261]{background-color:#2e7a53}.legend-3[data-v-1df13261]{background-color:#1e4840}.legend-start[data-v-1df13261]{border-radius:10px 0 0 10px;margin-left:8px}.legend-end[data-v-1df13261]{border-radius:0 10px 10px 0;margin-right:8px}",""]);e.exports=s},nxUQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("5s+n");var s=a.n(i);var n=a("rDkq");async function r(e,t){try{const a=await n["a"].get("/api/v1/organizations/".concat(e,"/prompts?type=").concat(t));return{...a.data,show:a.data.constructor===Object&&Object.entries(a.data).length>0}}catch(e){return{success:false,error:e.response.data.error}}}},nyQZ:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".collapse-body[data-v-4f94f2e8]{padding:16px}.subsection[data-v-4f94f2e8]{padding-top:16px}.tags-header[data-v-4f94f2e8]{color:#606782;margin-bottom:8px;font-weight:400}",""]);e.exports=s},nymn:function(e,t,a){var i=a("JPst");var s=a("BT5X");var n=i(false);n.i(s);n.push([e.i,".dragging{visibility:visible;pointer-events:auto;background-color:rgba(132,140,171,.2)}.not-dragging{visibility:hidden;pointer-events:none}.drag-drop-area{z-index:1;position:fixed;top:0;left:0;height:100%;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}#drag-drop-inner{pointer-events:none;width:520px;height:160px;border-radius:4px;border:1px solid #a9b0c9;background-color:#fff;text-align:center}#icon-container{width:40px;height:40px;margin:40px auto 20px;border-radius:50%;background-color:#ebfff1}#icon{margin-top:12px;width:16px;height:16px;font-size:14px;font-weight:400;line-height:1.14;color:#28bf6c}",""]);e.exports=n},o0Ws:function(e,t,a){var i=a("sMt8");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4b5edb17",i,false,{});if(false){}},o8VJ:function(e,t,a){var i=a("nwcT");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2d2a8322",i,false,{});if(false){}},oG6Y:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".error-view[data-v-ecce337a]{display:flex;height:100%;flex-direction:column;justify-content:center;align-items:center;font-size:14px;font-weight:400;color:#606782}.error-view .title[data-v-ecce337a]{font-size:18px;font-weight:500;color:#606782;margin-bottom:20px}.error-view img[data-v-ecce337a]{height:200px}.error-view p[data-v-ecce337a]{text-align:center;margin-bottom:20px}",""]);e.exports=s},"oHi+":function(e,t,a){var i=a("ewvW");var s=a("UMSQ");var n=a("NaFW");var r=a("6VoE");var o=a("A2ZE");var l=a("67WC").aTypedArrayConstructor;e.exports=function e(t){var a=i(t);var d=arguments.length;var c=d>1?arguments[1]:undefined;var u=c!==undefined;var p=n(a);var h,v,m,f,b,g;if(p!=undefined&&!r(p)){b=p.call(a);g=b.next;a=[];while(!(f=g.call(b)).done){a.push(f.value)}}if(u&&d>2){c=o(c,arguments[2],2)}v=s(a.length);m=new(l(this))(v);for(h=0;v>h;h++){m[h]=u?c(a[h],h):a[h]}return m}},oQYd:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".popover-body[data-v-7f7f33e6]{margin-left:8px;max-height:190px;overflow-y:auto}.popover-body-item[data-v-7f7f33e6]{display:flex;flex-direction:column;position:relative}.divider[data-v-7f7f33e6]{border-left:2px solid #ebf0f7;height:100%;position:absolute;left:11px}.secondary-text[data-v-7f7f33e6]{color:#606782;font-size:14px}.status-indicator[data-v-7f7f33e6]{margin-bottom:20px;z-index:1}",""]);e.exports=s},oaSL:function(e,t,a){var i=a("rG/Z");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4976d098",i,false,{});if(false){}},oc7i:function(e,t,a){"use strict";var i=a("SFoW");var s=a.n(i);var n=s.a},omyK:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{attrs:{"aria-hidden":"true","data-testid":"copyThumbnailContentHtml"}},[a("a",{attrs:{href:e.embedLink,target:"_blank",tabindex:"-1",rel:"noopener noreferrer"}},[a("div",{staticClass:"copy-thumbnail-wrapper"},[a("img",{staticClass:"thumbnail-image",attrs:{src:e.thumbnailUrl,alt:e.name}})])]),e._v(" "),a("div",{staticClass:"copy-text-container"},[a("a",{attrs:{href:e.embedLink,target:"_blank",tabindex:"-1",rel:"noopener noreferrer"}},[e._v(e._s(e.name))])])])};var s=[];i._withStripped=true;var n={name:"CopyThumbnailContent",props:{thumbnailUrl:{type:String,required:true},embedLink:{type:String,required:true},name:{type:String,required:true}}};var r=n;var o=a("3J7t");var l=a("KHd+");var d=a("1F91");var c=a.n(d);var u=Object(l["a"])(r,i,s,false,null,null,null);if(typeof c.a==="function")c()(u);if(false){var p}u.options.__file="app/assets/components/copy-thumbnail-content.vue";var h=t["a"]=u.exports},pUus:function(e,t,a){"use strict";var i=a("297M");var s=a.n(i);var n=s.a},pWnx:function(e,t,a){var i=a("wbfI");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("a37caaa0",i,false,{});if(false){}},pe3L:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"contact-admin"},[a("img",{staticClass:"no-comparable-data",attrs:{src:e.$options.noComparableData}}),e._v(" "),a("p",[e._v("\n    Please contact your admin to connect a "+e._s(e.socialPlatformName)+" account.\n    You do not have the permission to connect a brand new account, but have permissions to push content to "+e._s(e.socialPlatformName)+".\n  ")])])};var s=[];i._withStripped=true;var n=a("9Cr1");var r=a.n(n);var o={name:"ContactAdmin",noComparableData:r.a,props:{socialPlatformName:{type:String,required:true}}};var l=o;var d=a("ZZcK");var c=a("KHd+");var u=Object(c["a"])(l,i,s,false,null,"20e87004",null);if(false){var p}u.options.__file="app/assets/components/share-dialog/common/contact-admin.vue";var h=t["a"]=u.exports},pgBW:function(e,t,a){var i=a("m+i1");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("776c3750",i,false,{});if(false){}},pq12:function(e,t,a){"use strict";var i=a("9hHo");var s=a.n(i);var n=s.a},pumP:function(e,t,a){"use strict";var i="json";function s(e,t){return JSON.parse(e)}function n(e,t){return JSON.stringify(e," ",2)}function r(e){if(typeof e==="string"){if(/^\[[\s\r\n]*\{[\s\S]*\}[\s\r\n]*\]$/g.test(e)){return"json"}}}e.exports={name:i,detect:r,parse:s,build:n}},qJti:function(e,t,a){"use strict";t["a"]={findByType:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/prompts?type=").concat(t),responseSchema:["id","type","content","ctaLink"],nonRetryableErrors:[]})}},qYE9:function(e,t){e.exports=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"},rF6x:function(e,t,a){var i=a("MOR8");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("26e0320f",i,false,{});if(false){}},"rG/Z":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".vy-tabs-tabs{display:flex;flex-wrap:nowrap;justify-content:space-around}.insights{max-height:100%}.insights .vy-banner{border-bottom:none}.insights .vy-banner .vy-banner__description{padding-right:24px}@media (max-width:425px){.insights .vy-banner .vy-banner__description{padding-right:none;border-right:none;padding-bottom:24px;border-bottom:1px solid #99f7b4;text-align:center}.insights .vy-banner .vy-banner__content{display:block}}.insights .pro-upgrade-banner,.insights .top-banner{margin-bottom:32px}.insights .mobile-banner{display:none}@media (max-width:700px){.insights .mobile-banner{display:block}}.insights .vy-tabs .tabs-component-panel{padding:0}.insights .vy-tabs-tab{font-size:18px;padding:10px}.insights .vy-card__header .default-header .heading{font-size:20px;font-weight:500}.insights p{margin:0}.insights .time-filter-container{display:flex;align-items:center;justify-content:flex-end;font-size:14px;font-weight:400}.insights .time-filter-container .time-filter{margin-left:8px}@media (max-width:700px){.insights .time-filter-container{flex-direction:column-reverse;align-items:flex-start;margin-bottom:16px}.insights .time-filter-container .time-filter,.insights .time-filter-container .time-filter .menu-container{margin-left:0}}.insights .metrics-wrapper{margin-bottom:16px}.insights .metrics-wrapper .metrics{display:flex;flex-wrap:wrap;margin:8px -8px}.insights .metrics-wrapper .metrics .metrics-item{flex:1 1 250px;margin:8px}.insights .metrics-wrapper .metrics-error{display:flex;align-items:center;color:#b4002d}.insights .metrics-wrapper .metrics-error .icon{color:#fff;background-color:#b4002d;border-radius:50%;width:20px;height:20px;padding:2px;margin-right:4px}.insights .metrics-wrapper .metrics-error a{color:#b4002d;font-weight:500;text-decoration:underline}.insights .metrics-wrapper .metrics-error a:hover{cursor:pointer}.insights .identity-tip-wrapper{padding:32px}",""]);e.exports=s},rHTM:function(e,t,a){"use strict";t["a"]={show:(e,t)=>({method:"GET",url:"/api/v1/organizations/".concat(e,"/players/").concat(t,"/options")}),destroy:(e,t)=>({method:"DELETE",url:"/api/v1/organizations/".concat(e,"/players/").concat(t,"/options")})}},rOQg:function(e,t,a){"use strict";var i=a("I+eb");var s=a("0Dky");var n=a("Yhre");var r=a("glrk");var o=a("I8vh");var l=a("UMSQ");var d=a("SEBh");var c=n.ArrayBuffer;var u=n.DataView;var p=c.prototype.slice;var h=s((function(){return!new c(2).slice(1,undefined).byteLength}));i({target:"ArrayBuffer",proto:true,unsafe:true,forced:h},{slice:function e(t,a){if(p!==undefined&&a===undefined){return p.call(r(this),t)}var i=r(this).byteLength;var s=o(t,i);var n=o(a===undefined?i:a,i);var h=new(d(this,c))(l(n-s));var v=new u(this);var m=new u(h);var f=0;while(s<n){m.setUint8(f++,v.getUint8(s++))}return h}})},rRbN:function(e,t,a){e.exports=a.p+"checkmark-47f02cc368ce5d181e78b152ed83161c.svg"},raPC:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".loading-skeleton-group[data-v-56fae85c]{display:grid;row-gap:var(--row-gap)}",""]);e.exports=s},rhxp:function(e,t,a){"use strict";var i=a("y7K9");var s=a.n(i);var n=s.a},riLl:function(e,t,a){"use strict";var i=a("dJhV");var s=a.n(i);var n=s.a},ryBB:function(e,t,a){e.exports=a.p+"facebook-feed-a3f485361ee72837a45352951a8c76a0.svg"},"s/e8":function(e,t,a){var i=a("v+Og");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("243db806",i,false,{});if(false){}},sAAw:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".security-section[data-v-1168de6c]{display:flex;align-items:center;justify-content:space-between}.security-section .info[data-v-1168de6c]{display:flex;align-items:center;font-size:14px;font-weight:400}.security-section .info .security-icon[data-v-1168de6c]{width:25px;height:25px;padding:5px;background-color:#ebf0f7;border-radius:50%;margin-right:8px}.security-section .security-button[data-v-1168de6c]{position:relative}",""]);e.exports=s},sJvs:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".embed-section[data-v-3ff00d0d]{flex-direction:column;padding:16px 0}.embed-section .embed-contents[data-v-3ff00d0d]{display:flex;flex-direction:row}.embed-section .embed-contents .embed-error-wrapper[data-v-3ff00d0d]{flex:1;text-align:center}.embed-section .embed-copy-button[data-v-3ff00d0d]{width:50%;padding-right:12px}.embed-section .embed-text[data-v-3ff00d0d]{flex:1}.embed-section .embed-text .embed-title[data-v-3ff00d0d]{font-size:18px;color:#475066;margin-bottom:16px}.embed-section .embed-toggle-wrapper[data-v-3ff00d0d]{display:flex;justify-content:flex-end}.embed-section .vy-switch[data-v-3ff00d0d]{margin:0}.embed-section .vy-switch[data-v-3ff00d0d],.embed-section .vy-switch__toggle[data-v-3ff00d0d]{outline:1px solid transparent}.embed-section .copy-link-button[data-v-3ff00d0d] .vy-button{width:100%}",""]);e.exports=s},sMt8:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".edit-video-scaffold[data-v-4063cd96]{grid-column:span 12;display:grid;grid-template-columns:1fr;row-gap:40px}.edit-video-scaffold .grid-section[data-v-4063cd96]{grid-column:1}.edit-video-scaffold .player-details[data-v-4063cd96]>:not(:first-child){margin-top:16px}",""]);e.exports=s},sQ10:function(e,t,a){"use strict";var i=a("bzh2");var s=a.n(i);var n=s.a},scxn:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".vy-card[data-v-5f98820b]{grid-column:span 12}.chapter-subheader-title[data-v-5f98820b]{display:flex;flex-direction:column;justify-content:center;margin:0 auto 0 0}.chapter-subheader[data-v-5f98820b]{display:flex}",""]);e.exports=s},sfGH:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"#linkedin-feed-menu-label[data-v-731eef73]{display:block;color:#606782}#publish-video-button[data-v-731eef73]{float:right;margin-bottom:16px}#share-description[data-v-731eef73]{margin-bottom:16px}#linkedin-feed-menu[data-v-731eef73]{margin-left:0;margin-bottom:16px}",""]);e.exports=s},shVv:function(e,t,a){var i=a("KEmt");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("2fe45bb5",i,false,{});if(false){}},ssN6:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-container[data-v-4b822f3d]{width:100%}[data-v-4b822f3d] .vidyard-player-container{box-sizing:initial}[data-v-4b822f3d] .vidyard-player-container>div{padding-bottom:56.25%!important}[data-v-4b822f3d] img.vidyard-player-embed{height:0;padding-top:56.25%}",""]);e.exports=s},svuC:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".title[data-v-f2a38322]{font-size:18px;font-weight:500;color:#606782}.dialog-description[data-v-f2a38322],.title[data-v-f2a38322]{margin-bottom:20px}.control[data-v-f2a38322]{margin-bottom:24px}.control label[data-v-f2a38322]{color:#606782;display:block;margin-bottom:8px}.tags-error[data-v-f2a38322]{color:#b4002d;padding-top:8px;display:block}.icon-padding[data-v-f2a38322]{padding-right:4px}",""]);e.exports=s},sxOR:function(e,t,a){"use strict";var i=String.prototype.replace;var s=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return i.call(e,s,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},t2hZ:function(e,t,a){var i=a("iDjx");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("3d63ee30",i,false,{});if(false){}},"t4/p":function(e,t,a){var i=a("2tRW");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("cef4676e",i,false,{});if(false){}},tKCK:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".full-thumbnail-container{text-align:center;position:relative;padding:12px}.full-thumbnail-container .thumbnail-container{position:relative}.full-thumbnail-container .thumbnail-container .thumbnail-wrapper{border-radius:4px;border:.1rem solid #dde1f0;box-shadow:none;display:block;margin-top:12px}.full-thumbnail-container .thumbnail-container .thumbnail-wrapper:focus{outline:none;box-shadow:0 0 0 6px #bfc4ff}.full-thumbnail-container .thumbnail-container:hover{cursor:pointer}.full-thumbnail-container .thumbnail-container .thumbnail-icon{top:0;display:flex;position:absolute;justify-content:center;align-items:center;height:100%;width:100%}.full-thumbnail-container .thumbnail-container .redo{font-size:18px}.full-thumbnail-container.selected{background-color:#ebeeff;border-radius:4px}.full-thumbnail-container.selected span{color:#414dd4}.selected-icon{position:absolute;top:-6px;right:-6px;color:#fff;padding:4px;font-size:20px;background-color:#46db83;border-radius:50%}.delete-thumbnail-button{position:absolute;top:7%;left:5%;padding:2px 6px;font-size:16px;color:#fff;background-color:rgba(45,52,69,.68);border:none;border-radius:4px;box-shadow:none;transition:background-color .08s cubic-bezier(.645,.045,.355,1),box-shadow .08s cubic-bezier(.645,.045,.355,1)}.delete-thumbnail-button:focus,.delete-thumbnail-button:hover{background-color:#0f1f29}.delete-thumbnail-button:focus{outline:none;box-shadow:0 0 0 3px #bfc4ff}.delete-thumbnail-button>svg{width:14px}",""]);e.exports=s},tXPH:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"div[data-v-058ec7fd]{display:flex;align-items:center;margin:0 16px 48px}div p[data-v-058ec7fd]{margin:16px}div img[data-v-058ec7fd]{max-width:25%}",""]);e.exports=s},tgSC:function(e,t,a){e.exports=a.p+"microsoft-f68c75cff85ed0ce8d96adde23f9b2e8.svg"},tjwj:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("OptionButton",{staticClass:"share-link-option-button",attrs:{"description-body":"Video will be shared as a link that directs viewers to your sharing page","description-title":"Share video to your personal feed or in a private message"},on:{click:function(t){return e.$emit("click")}},scopedSlots:e._u([{key:"image",fn:function(){return[e._t("image")]},proxy:true}],true)})};var s=[];i._withStripped=true;var n=a("KVjs");var r={name:"ShareLinkOptionButton",components:{OptionButton:n["a"]}};var o=r;var l=a("KHd+");var d=Object(l["a"])(o,i,s,false,null,null,null);if(false){var c}d.options.__file="app/assets/components/share-dialog/common/share-link-option-button.vue";var u=t["a"]=d.exports},tqSL:function(e,t,a){var i=a("CYEu");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("4e1ff2ee",i,false,{});if(false){}},tqny:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".download-dialog-content[data-v-1f4965a2]{padding-top:24px}.download-dialog-content .download-dialog-loading[data-v-1f4965a2]{display:flex;flex-direction:column;align-items:center}.download-dialog-content .download-file-list[data-v-1f4965a2]{display:flex;padding-top:8px;padding-bottom:8px}.download-dialog-content .download-file-list .copy-file-link[data-v-1f4965a2]{margin-right:4px}.download-dialog-content .download-file-list .file-title[data-v-1f4965a2]{flex:1}.download-dialog-content .download-file-list .file-link[data-v-1f4965a2]{margin-left:16px;font-size:18px}.download-dialog-content .bottom-border[data-v-1f4965a2]{border-bottom:1px solid #f5f9ff}",""]);e.exports=s},tycR:function(e,t,a){var i=a("A2ZE");var s=a("RK3t");var n=a("ewvW");var r=a("UMSQ");var o=a("ZfDv");var l=[].push;var d=function(e){var t=e==1;var a=e==2;var d=e==3;var c=e==4;var u=e==6;var p=e==5||u;return function(h,v,m,f){var b=n(h);var g=s(b);var y=i(v,m,3);var _=r(g.length);var w=0;var x=f||o;var S=t?x(h,_):a?x(h,0):undefined;var k,C;for(;_>w;w++)if(p||w in g){k=g[w];C=y(k,w,b);if(e){if(t)S[w]=C;else if(C)switch(e){case 3:return true;case 5:return k;case 6:return w;case 2:l.call(S,k)}else if(c)return false}}return u?-1:d||c?c:S}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},tzZ3:function(e,t,a){"use strict";var i=a("shVv");var s=a.n(i);var n=s.a},uChM:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayableItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"account"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playableItem"},name:{kind:"Name",value:"videoOrPlaylist"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeEmbed"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activeEmbed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:339}};a.loc.source={body:"query PlayableItem($id: ID!) {\n  account {\n    playableItem: videoOrPlaylist(id: $id) {\n      ... on Video {\n        id\n        activeEmbed\n      }\n      ... on Playlist {\n        id\n        activeEmbed\n        videos {\n          totalCount\n          nodes {\n            id\n            databaseId\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function s(e){return e.filter((function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(i[t]){return false}else{i[t]=true;return true}}))}function n(e,t){if(e.kind==="FragmentSpread"){t.add(e.name.value)}else if(e.kind==="VariableDefinition"){var a=e.type;if(a.kind==="NamedType"){t.add(a.name.value)}}if(e.selectionSet){e.selectionSet.selections.forEach((function(e){n(e,t)}))}if(e.variableDefinitions){e.variableDefinitions.forEach((function(e){n(e,t)}))}if(e.definitions){e.definitions.forEach((function(e){n(e,t)}))}}var r={};(function e(){a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t);r[e.name.value]=t}}))})();function o(e,t){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==t){return i}}}function l(e,t){var a={kind:e.kind,definitions:[o(e,t)]};if(e.hasOwnProperty("loc")){a.loc=e.loc}var i=r[t]||new Set;var s=new Set;var n=new Set;i.forEach((function(e){n.add(e)}));while(n.size>0){var l=n;n=new Set;l.forEach((function(e){if(!s.has(e)){s.add(e);var t=r[e]||new Set;t.forEach((function(e){n.add(e)}))}}))}s.forEach((function(t){var i=o(e,t);if(i){a.definitions.push(i)}}));return a}e.exports=a;e.exports["PlayableItem"]=l(a,"PlayableItem")},uJQM:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".thumbnail-image{width:auto;height:100%;display:block}.copy-thumbnail-wrapper{height:200px;max-width:350px}.copy-text-container{background:#fff}",""]);e.exports=s},uRwu:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("OrganizationPickerDialog",{attrs:{"dialog-title":"Move to","action-text":"Move","data-testid":"video-move",loading:e.loading,organization:e.organization,visible:e.visible,role:"complementary"},on:{"update:visible":e.handleUpdateVisible,submit:e.handleMove},scopedSlots:e._u([{key:"footer-left",fn:function(){return[a("SelectedCount",{attrs:{count:e.videos.length}})]},proxy:true}])},[e.moveFailed?a("VyAlert",{staticClass:"move-failed-error",attrs:{type:"error"},on:{close:function(t){e.moveFailed=false}}},[e._v("\n    You do not have permission to move videos into this folder. Please ask your admin for permission.\n  ")]):e._e(),e._v(" "),a("p",[e._v("\n    Moved videos will adopt settings specific to the destination folder: this includes the\n    branded sharing page design and URL, and any default events and security. Analytics\n    associated with moved videos may take up to 24 hours to appear in the destination folder.\n  ")])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("3bBZ");var o=a("nbMm");var l=a("P56O");var d=a("rDkq");var c=a("556C");var u=a("9/hI");var p=a("t/Sn");var h={name:"MoveVideosDialog",components:{OrganizationPickerDialog:u["a"],SelectedCount:p["a"],VyAlert:o["d"]},props:{videos:{type:Array,default:()=>[]},hasPlaylists:{type:Boolean,required:true},visible:{type:Boolean,required:true},location:{type:String,required:true}},data(){return{loading:false,moveFailed:false}},computed:{...l["c"].mapState(["organization"])},methods:{...l["c"].mapActions(["sendHeapEvent"]),handleUpdateVisible(e){this.$emit("update:visible",e)},async handleMove(e){this.loading=true;const t=this.hasPlaylists?"player":"video";const a="/api/v1/organizations/".concat(this.organization.id,"/").concat(t,"s");const i=[];const s=[];try{const n=async n=>{try{await d["a"].patch("".concat(a,"/").concat(this.hasPlaylists?"uuid=".concat(n.uuid):n.id),{[t]:{organization_id:e.id}});s.push(n.uuid)}catch(e){i.push(n)}};await Promise.all(this.videos.map(n));if(i.length!==0){this.moveFailed=true}else{o["b"].show(new o["b"]("Successfully moved",{type:"success",icon:"check-circle"}));this.sendHeapEvent({eventName:"videos.move",customOptions:{location:this.location,count:this.videos.length}});this.$emit("videos-moved",e.id,s)}}catch(e){this.handleUpdateVisible(false);const t=Object(c["a"])(e);o["b"].show(new o["b"](t,{title:"An Error Occurred",type:"error",icon:"exclamation-triangle"}))}finally{this.loading=false}}}};var v=h;var m=a("JN2m");var f=a("KHd+");var b=Object(f["a"])(v,i,s,false,null,"5138cca2",null);if(false){var g}b.options.__file="app/assets/components/videos/MoveVideosDialog.vue";var y=t["a"]=b.exports},uTlm:function(e,t,a){var i=a("z0Nv");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("12a4c4df",i,false,{});if(false){}},uiU4:function(e,t,a){var i=a("j8ar");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("1cb94a25",i,false,{});if(false){}},ulq7:function(e,t,a){"use strict";var i=a("CNgq");var s=a.n(i);var n=s.a},"uow+":function(e,t,a){"use strict";var i=a("hdZ8");var s=a.n(i);var n=s.a},utv0:function(e,t,a){"use strict";var i=a("MV8Z");var s=a.n(i);var n=s.a},"v+Og":function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".dropdown .vy-button{width:280px}.dropdown .vy-button__content{justify-content:space-between}",""]);e.exports=s},v0qI:function(e,t,a){var i=a("yQUb");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("029b296a",i,false,{});if(false){}},vBWg:function(e,t,a){"use strict";var i=a("MiV+");var s=a.n(i);var n=s.a},vFnc:function(e,t,a){var i=a("6Xor");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("9470894a",i,false,{});if(false){}},veG4:function(e,t,a){var i=a("CDkA");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("51cb1369",i,false,{});if(false){}},vnQv:function(e,t,a){"use strict";var i=a("t2hZ");var s=a.n(i);var n=s.a},vnU3:function(e,t,a){"use strict";var i=a("Ooky");var s=a.n(i);var n=s.a},vnz6:function(e,t,a){"use strict";t["a"]={create:(e,t,a)=>({method:"POST",url:"api/v1/organizations/".concat(e,"/events/").concat(t,"/teams"),data:{team_id:a}}),destroy:(e,t,a)=>({method:"DELETE",url:"api/v1/organizations/".concat(e,"/events/").concat(t,"/teams/").concat(a)}),teamsByEvent:(e,t)=>({method:"GET",url:"api/v1/organizations/".concat(e,"/events/").concat(t,"/teams")}),eventsByTeam:(e,t,a)=>({method:"GET",url:"api/v1/organizations/".concat(e,"/teams/").concat(t,"/events"),params:a})}},vr8a:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"p[data-v-586c3766]{margin:16px 0}[data-v-586c3766] .date-picker>.date-container>.date-picker{position:fixed;left:50%!important;top:50%;transform:translate(-50%,-50%);margin-top:0}",""]);e.exports=s},wNix:function(e,t,a){var i=a("hI6o");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("0a8fcb6c",i,false,{});if(false){}},wR3Q:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return!e.isVideo?a("VyPlaylistThumbnail",{attrs:{thumbnails:e.formattedThumbnails,length:e.length,"video-count":e.thumbnails.length,role:"button",name:e.name},on:{click:function(t){t.stopPropagation();return e.$emit("preview-video")}}}):a("VyVideoThumbnail",{attrs:{src:e.formattedThumbnails[0],length:e.length,name:e.name,role:"button","is-personalized":e.isPersonalized},on:{click:function(t){t.stopPropagation();return e.$emit("preview-video")}}})};var s=[];i._withStripped=true;var n=a("nbMm");var r={components:{VyVideoThumbnail:n["X"],VyPlaylistThumbnail:n["C"]},props:{isVideo:{type:Boolean,default:true},thumbnails:{type:Array,required:true},length:{type:Number,default:undefined},name:{type:String,required:true},isPersonalized:{type:Boolean,default:false}},computed:{formattedThumbnails(){return this.thumbnails.map((e=>e.startsWith("https:")?e:"https:".concat(e)))}}};var o=r;var l=a("KHd+");var d=Object(l["a"])(o,i,s,false,null,null,null);if(false){var c}d.options.__file="app/assets/components/library/thumbnail.vue";var u=t["a"]=d.exports},wWVe:function(e,t,a){"use strict";var i=a("GhEK");var s=a.n(i);var n=s.a},wbfI:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".mailer-slideout-wrapper[data-v-5255d549]{position:absolute;background:#fff;top:0;height:100%;right:0;width:100%;z-index:1;transition:width .2s ease-out;overflow:hidden}.mailer-slideout-hidden[data-v-5255d549]{width:0}.mailer-slideout-content[data-v-5255d549]{width:350px}.spinner-wrapper[data-v-5255d549]{text-align:center;padding:24px 0}.editor-top[data-v-5255d549]{margin:8px 20px;height:350px}.share-header[data-v-5255d549]{display:none}@media (max-width:800px){.share-header[data-v-5255d549]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;font-size:18px;margin:8px 20px}}.share-section-wrapper[data-v-5255d549]{padding:20px}.share-section-wrapper .extension-text[data-v-5255d549]{font-size:12px;color:#5b627d;margin-top:8px}",""]);e.exports=s},wlF1:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",[a("div",{staticClass:"content-container"},[a("CircledIcon",{staticClass:"icon",attrs:{name:e.currentSetting.icon||"faSpinner",theme:"grey"}}),e._v(" "),a("div",{staticClass:"text-container"},[a("span",{attrs:{id:"access-setting-title"}},[e._v("\n        "+e._s(e.currentSetting.name)+"\n      ")]),e._v(" "),a("span",{attrs:{id:"access-setting-description"}},[e._v("\n        "+e._s(e.currentSetting.description)+"\n      ")])]),e._v(" "),a("VyButton",{attrs:{loading:e.loading,"aria-labelledby":"access-setting-title","aria-describedby":"access-setting-description","data-testid":"access-setting-button"},on:{click:e.openDialog}},[e._v("\n      Change\n    ")])],1),e._v(" "),a("VyDialog",{attrs:{title:"Access Settings",visible:e.showSettingDialog,"back-button":e.enableBackButton,"back-button-aria-label":"Back to access options"},on:{"update:visible":function(t){e.showSettingDialog=t},back:e.closeDialog}},[a("div",{staticClass:"dialog-body"},[a("span",{attrs:{id:"access-setting-list-title"}},[e._v("\n        Select who has access to see your video\n      ")]),e._v(" "),a("RadioList",{staticClass:"settings-list",attrs:{"aria-labelledby":"access-setting-list-title",items:e.settings,value:e.currentSettingKey},on:{input:function(t){e.currentSettingKey=t}}})],1),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("VyButton",{attrs:{loading:e.loading},on:{click:e.closeDialog}},[e._v("\n        Cancel\n      ")]),e._v(" "),a("VyButton",{attrs:{type:"primary",loading:e.loading},on:{click:e.setAccessSetting}},[e._v("\n        Update\n      ")])],1)])],1)};var s=[];i._withStripped=true;var n=a("5s+n");var r=a("nbMm");var o=a("IHRM");var l=a("W8xq");var d=a("P56O");var c=a("PF2z");var u=a("G83Z");var p=a("sEE5");var h=a("NbmU");var v=a("avfj");var m=a("MSUY");var f=a("gB52");var b=a("C5GM");var g=a("k7PI");var y=e=>({[g["g"]]:{name:"Public",description:"Allow people to discover your ".concat(e," on Google and other search engines"),icon:f["faGlobe"]},[g["e"]]:{name:"Link Only",description:"Anyone with the link can see your ".concat(e),icon:v["faLink"]},[g["f"]]:{name:"Password Protected",description:"Only people with the password can access your ".concat(e),icon:m["faKey"]},[g["b"]]:{name:"Only viewers within an IP Address",description:"Great for sharing internally with your team",icon:b["faBuilding"]}});var _={name:"AccessSettingsModal",components:{CircledIcon:h["a"],RadioList:p["a"],VyButton:r["j"],VyDialog:r["r"]},props:{locationRedirectTo:{type:String,required:true},playerType:{type:String,required:true},organizationId:{type:Number,required:true},playerUuid:{type:String,default:""},enableBackButton:{type:Boolean,default:false},loading:{type:Boolean,default:false},accessSetting:{type:String,default:""}},data(){return{pqlpHeapOptions:{client_id:"dashboard",location:"Access Settings Modal"},currentSettingKey:"",showSettingDialog:false,currentSetting:{}}},computed:{...o["c"].mapGetters(["hasFeature","getVariation"]),...l["b"].mapGetters(["hasPermission"]),passwordEnabled(){return this.hasPermission("can_edit_players")&&this.hasFeature("access_codes")},showPqlp(){return this.getVariation("pqlp_action_ip_access",false)},playerAccessSettings(){return y(this.localPlayerType)},settings(){const e=[];Object.keys(this.playerAccessSettings).forEach((t=>{if(t!==g["f"]&&t!==g["b"]){e.push({value:t,...this.playerAccessSettings[t]})}}));const t=this.passwordEnabled?null:{text:"Upgrade",campaign:"share-settings-modal",heapEvent:"Growth - Share Settings Modal upgrade prompt clicked"};if(this.localPlayerType==="video"){const a=this.playerAccessSettings[g["f"]];e.push({value:g["f"],disabled:!this.passwordEnabled,upgrade:t,...a})}if(this.showPqlp){e.push(this.setUpPqlp())}return e},passwordConfigured(){return this.localPlayerType==="video"&&this.accessSetting===g["f"]},localPlayerType(){return this.playerType.toLowerCase()!=="playlist"?"video":"playlist"}},watch:{passwordConfigured(e){if(e){this.currentSettingKey=g["f"];this.currentSetting=this.playerAccessSettings[this.currentSettingKey];return}this.setCurrentSetting()},accessSetting(){this.setCurrentSetting()}},mounted(){this.setCurrentSetting()},methods:{...d["c"].mapActions(["sendHeapEvent"]),...c["b"].mapActions(["sendApiRequest"]),setUpPqlp(){const e={text:"See Plans and Pricing",heapEvent:"PQLP Action - cta_clicked",heapDetails:{action:"cta_clicked",...this.pqlpHeapOptions}};const t=this.playerAccessSettings[g["b"]];return{value:g["b"],disabled:true,upgrade:e,...t}},setCurrentSetting(){this.currentSettingKey=g["e"];if(this.accessSetting===g["g"]){this.currentSettingKey=g["g"]}if(this.passwordConfigured){this.currentSettingKey=g["f"]}this.currentSetting=this.playerAccessSettings[this.currentSettingKey]},openDialog(){this.showSettingDialog=true;this.$emit("stacked-dialog-open");if(this.showPqlp){this.sendHeapEvent({eventName:"PQLP Action - shown",customOptions:{action:"shown",...this.pqlpHeapOptions}})}},closeDialog(){if(this.enableBackButton){this.$emit("stacked-dialog-close")}this.showSettingDialog=false},async setAccessSetting(){const e=e=>this.currentSettingKey!==e;this.$emit("set-loading",true);try{if(this.playerUuid){const e=u["a"].update(this.organizationId,this.playerUuid,{access_setting:this.currentSettingKey});const{status:t}=await this.sendApiRequest(e);if(t>=400){this.showErrorToast("Failed to update sharing settings");return}}if(e(g["f"])){await this.disablePassword()}if(e(g["g"])){if(this.accessSetting===g["g"]){this.sendHeapEvent({eventName:"Growth - SEO Indexing has been disabled"})}}this.currentSetting=this.playerAccessSettings[this.currentSettingKey];if(this.currentSettingKey===g["f"]){window.location.assign(this.locationRedirectTo)}this.closeDialog();this.showSuccessToast("Access setting has been updated");this.$emit("set-access-setting",this.currentSettingKey)}catch(e){this.showErrorToast("Failed to update the access setting");this.$emit("after-failure")}finally{this.$emit("set-loading",false)}},async disablePassword(){try{if(this.playerUuid&&this.accessSetting===g["f"]){const{status:e}=await this.sendApiRequest(u["a"].deleteAccessCodes(this.organizationId,this.playerUuid));if(e<400){this.$emit("remove-password");this.showSuccessToast("Password has been removed")}else{this.showErrorToast("Failed to remove password")}}}catch(e){this.showErrorToast("Failed to remove password")}},showErrorToast(e){r["b"].show(new r["b"](e,{type:"error",icon:"exclamation-triangle"}))},showSuccessToast(e){r["b"].show(new r["b"](e,{type:"success",icon:"check-circle"}))}}};var w=_;var x=a("riLl");var S=a("KHd+");var k=Object(S["a"])(w,i,s,false,null,"e33a336a",null);if(false){var C}k.options.__file="app/assets/components/common/AccessSettingsModal.vue";var P=t["a"]=k.exports},x0fN:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,"p[data-v-6830ebf4]{margin:16px 0}.options[data-v-6830ebf4]{display:grid;grid-template-columns:3fr 1fr;grid-template-rows:auto auto auto;grid-row-gap:16px;grid-column-gap:16px}label[data-v-6830ebf4]{display:block}.menu[data-v-6830ebf4]{width:100%;margin-left:0}.menu[data-v-6830ebf4] .window{width:100%;overflow:hidden}",""]);e.exports=s},x4zB:function(e,t,a){"use strict";var i=a("veG4");var s=a.n(i);var n=s.a},x5DU:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".embed-dialog[data-v-09c2551f]{padding-bottom:12px}[data-v-09c2551f] .vy-tabs-panels{padding:0}[data-v-09c2551f] .tabs-component-panel{padding-left:0;padding-right:0;padding-bottom:0}.embed-toggle-wrapper[data-v-09c2551f]{padding:16px 0;width:100%}.embed-toggle-wrapper .embed-text[data-v-09c2551f]{display:inline-block;font-size:14px;color:#5b627d}.embed-toggle-wrapper .embed-toggle[data-v-09c2551f]{float:right}.embed-toggle-wrapper .embed-toggle .vy-switch[data-v-09c2551f]{outline:1px solid transparent;margin:0}.embed-toggle-wrapper .embed-toggle__toggle[data-v-09c2551f]{outline:1px solid transparent}",""]);e.exports=s},"xHt+":function(e,t,a){"use strict";var i=a("5vGc");var s=a.n(i);var n=s.a},xIah:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));a.d(t,"b",(function(){return V}));var i=a("4Brf");var s=a.n(i);var n=a("5s+n");var r=a.n(n);var o=a("3bBZ");var l=a.n(o);var d=a("nbMm");var c=a("/Dqt");var u=a("Ei+z");var p=a("rDkq");var h=a("AOo/");var v=a("pZTj");var m=a("W/E8");var f=a("Egzw");var b=a("VFqt");var g=a("uChM");var y=a.n(g);var _=a("/XQW");var w=a("am1o");var x=a("10m6");var S=a("QkVN");var k=a.n(S);const C=Object(u["a"])("videoEditPage");const P=Object(u["a"])("features");const{namespacedModule:T,moduleHelpers:V,moduleBuilder:A}=Object(c["a"])("playerModule",{modules:{..._["a"],...w["a"],...x["a"]},state:{id:0,uuid:undefined,name:undefined,organizationId:0,playerType:"playlist",playlistVideos:[],videoFacadeUuids:{},createdDate:"Once upon a time",editable:false,embedCodes:{},description:"",playerApi:{},isSecure:false,embedEnabled:false,releaseDate:null,expiryDate:null,loading:false,playing:false,player:{},playableItem:null,persistedPlayer:{},updatePlayerUrl:undefined,updates:0,pendingSave:false,updated_at:undefined,alerts:[]},getters:{...P.mapGetters(["hasFeature"]),apiPathV1:e=>"/api/v1/organizations/".concat(e.organizationId),apiPathV11:e=>"/api/v1.1/organizations/".concat(e.organizationId),playerApiLoaded:e=>!!Object.keys(e.playerApi).length,videoFacadeUuid:e=>t=>e.videoFacadeUuids[t],isPersonalized:e=>e.playlistVideos?Object(f["a"])(e.playlistVideos[0].video_attributes):false,releaseDate:e=>e.releaseDate===null?null:new Date(e.releaseDate),expiryDate:e=>e.expiryDate===null?null:new Date(e.expiryDate),updatedAt:e=>e.updated_at>e.player.updated_at?e.updated_at:e.player.updated_at,loadedVideoFacadeUuids:e=>e.playlistVideos.length>0&&e.playlistVideos.length<=Object.keys(e.videoFacadeUuids).length},mutations:{$_setPlayableItem(e,t){e.playableItem=t},"set-player-name":(e,t)=>{e.name=t},"player-editable":(e,t)=>{e.editable=t},"set-player-embed-codes":(e,t)=>{e.embedCodes=t},"set-player-description":(e,t)=>{e.description=t},"set-player-api":(e,t)=>{e.playerApi=t},"set-player-is-secure":(e,t)=>{e.isSecure=t},"set-playlist-videos":(e,t)=>{e.playlistVideos=t},"set-video-facade-uuid":(e,{id:t,uuid:a})=>{e.videoFacadeUuids={...e.videoFacadeUuids,[t]:a}},"set-embed-enabled":(e,t)=>{e.embedEnabled=t},setUpdatedAt:e=>{e.updated_at=(new Date).getTime()/1e3},setReleaseDate(e,t){e.releaseDate=t instanceof Date?t.toISOString():t},setExpiryDate(e,t){e.expiryDate=t instanceof Date?t.toISOString():t},setLoading(e,t){e.loading=t},setPlaying(e,t){e.playing=t},resetPlayer(e){e.player=JSON.parse(JSON.stringify(e.persistedPlayer))},syncPersisted(e){e.persistedPlayer=JSON.parse(JSON.stringify(e.player))},updatePersisted(e,t){e.persistedPlayer={...e.persistedPlayer,...t};e.updates+=1},addAlert(e,t){const a=["success","warning","info","error"];if(!a.includes(t.type)){t.type="info"}e.alerts=[...e.alerts.filter((e=>e.id!==t.id)),t]},dismissAlert(e,t){e.alerts=[...e.alerts.filter((e=>e.id!==t))]}},actions:{...C.mapActions(["showStatus"]),setup({dispatch:e,commit:t,state:a,getters:i,rootState:s}){if(i.hasFeature("video_playlists")||a.organizationId===s.videoModule.organizationId){t("player-editable",true)}e("getEmbedData");if(i.hasFeature("graphql_video_edit")){e("loadPlayableItem")}else{e("getEmbedEnabled");if(a.playerType==="playlist"){e("loadVideoFacadeUuids")}}},async loadPlayableItem({state:e,commit:t}){var a,i;const s=Object(b["a"])().defaultClient;const{data:{account:{playableItem:n}}}=await s.query({query:y.a,variables:{id:e.uuid},fetchPolicy:"no-cache"});t("$_setPlayableItem",n);t("set-embed-enabled",n.activeEmbed);(a=n.videos)===null||a===void 0?void 0:(i=a.nodes)===null||i===void 0?void 0:i.forEach((({id:e,databaseId:a})=>{t("set-video-facade-uuid",{id:a,uuid:e})}))},async save({state:e,dispatch:t},a){k()(e.player,a);await e.pendingSave;e.pendingSave=t("submit",{player:a})},async submit({commit:e,state:t,rootState:a},{player:i}){e("setLoading",true);try{const{viral_sharing_options:s}=i;const n=await p["a"].patch(t.updatePlayerUrl,{player:i,viral_sharing_options:s},{headers:{"x-csrf-token":a.vidyard.csrfToken}});e("updatePersisted",{...i,...n.data})}catch(t){const a=t.response&&t.response.data?t.response.data.error:t.message;d["b"].show(new d["b"](a,{type:"error",title:"Failed to save your Video",description:a}));e("resetPlayer")}e("setLoading",false)},async getIsSecure(e){try{const t=await p["a"].get("".concat(e.getters.apiPathV1,"/players/uuid=").concat(e.state.uuid));e.commit("set-player-is-secure",t.data.is_secure)}catch(t){e.dispatch("showStatus",{success:false,message:"Failed to fetch player: ".concat(t.message)});h["a"].error("Failed to fetch player",t)}},async updateName(e,t){try{const a=await p["a"].patch("".concat(e.getters.apiPathV1,"/players/").concat(e.state.id),{name:t});if(!e.rootGetters["features/hasFeature"]("video_playlists")){await p["a"].patch("".concat(e.getters.apiPathV1,"/videos/").concat(e.rootState.videoModule.id),{name:t})}e.commit("set-player-name",a.data.name);e.commit("setUpdatedAt");e.dispatch("showStatus",{success:true,message:"Name saved"})}catch(t){var a;let i=((a=t.response.data)===null||a===void 0?void 0:a.error)||"Failed to save name";let s="";if(i.includes("Invalid Character")){i="Name failed to save due to invalid characters";s="The following characters are not allowed: < >"}e.dispatch("showStatus",{success:false,message:i,description:s});h["a"].error("Failed to save name",t)}},async deleteVideo(e){try{await p["a"].delete("".concat(e.getters.apiPathV1,"/players/").concat(e.state.id));let t=e.state.playerType;if(!e.rootGetters["features/hasFeature"]("video_playlists")){t="video";await p["a"].delete("".concat(e.getters.apiPathV1,"/videos/").concat(e.rootState.videoModule.id))}window.location="/organizations/".concat(e.state.organizationId,"/library?show=deleted&objectType=").concat(t)}catch(t){e.dispatch("showStatus",{success:false,message:"Failed to delete video: ".concat(t.message)});h["a"].error("Failed to delete video",t)}},async deleteChapter({state:e,commit:t,dispatch:a},i){const s=m["a"].destroy(e.organizationId,i);const{status:n}=await a("vyApi/sendApiRequest",s,{root:true});if(n===200){t("set-playlist-videos",e.playlistVideos.filter((e=>e.id!==i)))}else{a("showStatus",{success:false,message:"Failed to remove video from playlist"})}},async getEmbedData(e){try{const t=await p["a"].get("".concat(e.getters.apiPathV11,"/players/uuid=").concat(e.state.uuid,"/embed_codes"));e.commit("set-player-embed-codes",t.data)}catch(t){e.dispatch("showStatus",{success:false,message:"Failed to fetch sharing details: ".concat(t.message)});h["a"].error("Failed to fetch sharing details",t)}},async getEmbedEnabled(e){try{const t=await p["a"].get("".concat(e.getters.apiPathV1,"/players/uuid=").concat(e.state.uuid,"?include[]=active_embed"));const a=t.data.active_embed;e.commit("set-embed-enabled",!(a===null||a===undefined))}catch(e){h["a"].error("Failed to save description",e)}},async updateDescription(e,t){try{const a=await p["a"].patch("".concat(e.getters.apiPathV1,"/players/").concat(e.state.id),{description:t});e.commit("set-player-description",a.data.description);e.commit("setUpdatedAt");e.dispatch("showStatus",{success:true,message:"Description saved"})}catch(t){e.dispatch("showStatus",{success:false,message:"Failed to save description"});h["a"].error("Failed to save description",t)}},async loadVideoFacadeUuids({state:e,commit:t}){const a=await v["a"].fetchVideos(e.playlistVideos.length,e.organizationId,e.uuid);a.data.videos.forEach(((a,i)=>{t("set-video-facade-uuid",{id:e.playlistVideos[i].video_id,uuid:a.uuid})}))}}})},xgYV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="far";var s="history";var n=512;var r=512;var o=[];var l="f1da";var d="M504 255.532c.252 136.64-111.182 248.372-247.822 248.468-64.014.045-122.373-24.163-166.394-63.942-5.097-4.606-5.3-12.543-.443-17.4l16.96-16.96c4.529-4.529 11.776-4.659 16.555-.395C158.208 436.843 204.848 456 256 456c110.549 0 200-89.468 200-200 0-110.549-89.468-200-200-200-55.52 0-105.708 22.574-141.923 59.043l49.091 48.413c7.641 7.535 2.305 20.544-8.426 20.544H26.412c-6.627 0-12-5.373-12-12V45.443c0-10.651 12.843-16.023 20.426-8.544l45.097 44.474C124.866 36.067 187.15 8 256 8c136.811 0 247.747 110.781 248 247.532zm-167.058 90.173l14.116-19.409c3.898-5.36 2.713-12.865-2.647-16.763L280 259.778V116c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v168.222l88.179 64.13c5.36 3.897 12.865 2.712 16.763-2.647z";t.definition={prefix:i,iconName:s,icon:[n,r,o,l,d]};t.faHistory=t.definition;t.prefix=i;t.iconName=s;t.width=n;t.height=r;t.ligatures=o;t.unicode=l;t.svgPathData=d},xoTF:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".section-header[data-v-06946ffb]{font-size:18px;font-weight:500;color:#606782;margin-bottom:20px}.control[data-v-06946ffb]{display:flex;justify-content:space-between;font-size:16px}.control[data-v-06946ffb]:first-child{margin-top:24px}.control>label[data-v-06946ffb]{color:#606782;font-size:14px;display:block;margin-bottom:8px}.control .slide-enter[data-v-06946ffb],.control .slide-leave-to[data-v-06946ffb]{max-height:0}.control .slide-enter-to[data-v-06946ffb],.control .slide-leave[data-v-06946ffb]{max-height:80px}.control .slide-enter-active[data-v-06946ffb],.control .slide-leave-active[data-v-06946ffb]{transition:all .1s ease-in;overflow-y:hidden}.control[data-v-06946ffb] .menu-container{margin-left:0}.primary-radio-control .vy-radio[data-v-06946ffb]{border:1px solid #c8cee3;border-radius:4px;min-height:60px;padding:20px;width:100%}.primary-radio-control .vy-radio[data-v-06946ffb]:first-child{margin-bottom:16px}.primary-radio-control.selected .vy-radio[data-v-06946ffb]{border:3px solid #bfc4ff}[data-v-06946ffb] .vy-radio__label{font-size:16px;margin-left:3px}.radio-control .vy-radio[data-v-06946ffb]{margin:0;display:flex}.radio-control p[data-v-06946ffb]{margin-top:8px;margin-bottom:12px;font-size:14px}.vy-radio-group[data-v-06946ffb]{width:100%}.schedule-control[data-v-06946ffb]{overflow-x:auto}.schedule-control .vy-tooltip[data-v-06946ffb]{display:flex;align-items:center;margin-left:8px;margin-top:20px}.schedule-control .publish-datepicker[data-v-06946ffb]{width:100%;display:flex;margin-top:20px}.selected .schedule-control[data-v-06946ffb]{height:300px}.sub-heading[data-v-06946ffb]{margin-bottom:16px!important;margin-top:8px!important;font-weight:300}.privacy-control[data-v-06946ffb]{white-space:normal}.error[data-v-06946ffb]{color:#b4002d}.validation-error[data-v-06946ffb]{font-size:12px;margin-top:4px}",""]);e.exports=s},y7K9:function(e,t,a){var i=a("fz7C");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("42343f57",i,false,{});if(false){}},yCUs:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".flexbox-start[data-v-7112e6b8]{display:flex;justify-content:flex-start}.flexbox-align-center[data-v-7112e6b8]{align-self:center}.slider-area[data-v-7112e6b8]{padding:0 10px}@media (max-width:930px){.slider-area[data-v-7112e6b8]{padding:0}}.status-area[data-v-7112e6b8]{padding-left:20px;align-self:center}.overflow-cell[data-v-7112e6b8]{display:flex;justify-content:flex-end}@media (max-width:1055px){.caption-type[data-v-7112e6b8]{display:none}}@media (max-width:1000px){.caption-tag[data-v-7112e6b8]{display:none}}@media (max-width:930px){.caption-publish-text[data-v-7112e6b8]{display:none}}",""]);e.exports=s},yQUb:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".account-connect>div[data-v-06cca8e6]{margin:32px 0}.account-connect>div[data-v-06cca8e6]:first-child{margin-top:16px}.account-connect .account-connect-blurb[data-v-06cca8e6]{display:flex;align-items:center}.account-connect .account-connect-blurb .social-platform-icon[data-v-06cca8e6]{width:36px;height:36px;float:left;border-radius:4px;display:flex;justify-content:center;align-items:center;margin-right:16px}.account-connect .account-connect-blurb .social-platform-icon.facebook[data-v-06cca8e6]{background-color:#375999}.account-connect .account-connect-blurb .social-platform-icon.linkedin[data-v-06cca8e6]{background-color:#007cb7}.account-connect .account-connect-blurb .social-platform-icon.youtube[data-v-06cca8e6]{background-color:#da2025}.account-connect .account-connect-blurb .social-platform-icon svg[data-v-06cca8e6]{color:#fff;font-size:16px;width:50%;height:50%}.account-connect .account-connect-blurb .description-title[data-v-06cca8e6]{font-weight:500}.account-connect .not-connected[data-v-06cca8e6]{display:flex;align-items:center;border-radius:4px;background-color:#f5f9ff;padding:16px}.account-connect .not-connected p[data-v-06cca8e6]{flex:1;margin:0 16px 0 0}.account-connect-finalize[data-v-06cca8e6]{text-align:center;margin:32px 0}.account-connect-finalize p[data-v-06cca8e6]{margin-top:16px}",""]);e.exports=s},ycB5:function(e,t,a){"use strict";var i=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e._m(0)};var s=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"legend-container"},[a("div",{staticClass:"legend-title"},[e._v("\n    Times Watched\n  ")]),e._v("\n  0\n  "),a("div",{staticClass:"legend-bar legend-0 legend-start"}),e._v(" "),a("div",{staticClass:"legend-bar legend-1"}),e._v(" "),a("div",{staticClass:"legend-bar legend-2"}),e._v(" "),a("div",{staticClass:"legend-bar legend-3 legend-end"}),e._v("\n  3+\n")])}];i._withStripped=true;var n={name:"ViewSessionsLegend"};var r=n;var o=a("3myC");var l=a("KHd+");var d=Object(l["a"])(r,i,s,false,null,"1df13261",null);if(false){var c}d.options.__file="app/assets/components/analytics/ViewSessionsLegend.vue";var u=t["a"]=d.exports},ycUj:function(e,t,a){"use strict";var i=a("o0Ws");var s=a.n(i);var n=s.a},ym0W:function(e,t,a){"use strict";var i=a("ZJ1z");var s=a.n(i);var n=s.a},yuYn:function(e,t,a){"use strict";var i=a("dem8");var s=a.n(i);var n=s.a},yykG:function(e,t,a){"use strict";var i=a("Nr/A");var s=a.n(i);var n=s.a},z0Nv:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".spinner-wrapper{text-align:center;padding:24px 0}",""]);e.exports=s},z2Gn:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".player-trim__playhead[data-v-6f95d012]{cursor:ew-resize;position:absolute;bottom:-30px;margin-left:-18px;z-index:3;transition:fill .2s ease-in-out,stroke .2s ease-in-out,stroke-opacity .2s ease-in-out,stroke-width .2s ease-in-out}.player-trim__playhead:hover #body[data-v-6f95d012]{fill:#606782}.player-trim__playhead[data-v-6f95d012]:focus{outline:none}.player-trim__playhead:focus:not(.player-trim__playhead--active) #shadow[data-v-6f95d012]{stroke:#bfc4ff;stroke-opacity:1;stroke-width:3px}.allow-click[data-v-6f95d012]{pointer-events:fill}",""]);e.exports=s},z2ne:function(e,t,a){var i=a("kXa5");if(typeof i==="string")i=[[e.i,i,""]];if(i.locals)e.exports=i.locals;var s=a("SZ7m").default;var n=s("56f98d87",i,false,{});if(false){}},"zGT/":function(e,t,a){"use strict";var i=a("SySD");var s=a.n(i);var n=s.a},zHCS:function(e,t,a){"use strict";var i=a("S7Ke");var s=a.n(i);var n=s.a},zRly:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i="far";var s="bell";var n=448;var r=512;var o=[];var l="f0f3";var d="M439.39 362.29c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71zM67.53 368c21.22-27.97 44.42-74.33 44.53-159.42 0-.2-.06-.38-.06-.58 0-61.86 50.14-112 112-112s112 50.14 112 112c0 .2-.06.38-.06.58.11 85.1 23.31 131.46 44.53 159.42H67.53zM224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64z";t.definition={prefix:i,iconName:s,icon:[n,r,o,l,d]};t.faBell=t.definition;t.prefix=i;t.iconName=s;t.width=n;t.height=r;t.ligatures=o;t.unicode=l;t.svgPathData=d},zVyn:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,'.caption-scaffold[data-v-0d2619a8]{display:grid;grid-template-columns:1fr -webkit-max-content;grid-template-columns:1fr max-content;grid-template-areas:"heading-zone control-zone" "embed-zone embed-zone" "data-zone data-zone"}.caption-scaffold .heading-area[data-v-0d2619a8]{grid-area:heading-zone;align-self:center;color:#5b627d;font-size:16px;font-weight:500;line-height:24px}.caption-scaffold .control-area[data-v-0d2619a8]{grid-area:control-zone;justify-self:end}.caption-scaffold .embed-area[data-v-0d2619a8]{grid-area:embed-zone;margin-top:25px}.caption-scaffold .data-area[data-v-0d2619a8]{grid-area:data-zone;margin-top:25px}@media (max-width:1055px){.caption-scaffold .data-area .type-header[data-v-0d2619a8]{display:none}}',""]);e.exports=s},zacC:function(e,t,a){var i=a("JPst");var s=i(false);s.push([e.i,".timestamp[data-v-cbbc42be]{pointer-events:none;opacity:1;position:absolute;background:#0f1f29;border-radius:4px;color:#fff;padding:2px 4px;font-variant-numeric:tabular-nums;font-size:12px;font-weight:400}",""]);e.exports=s},zt8y:function(e,t){var a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jobTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"calendarLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"newsletter"},arguments:[],directives:[]}]}}],loc:{start:0,end:88}};a.loc.source={body:"fragment User on User {\n  firstName\n  lastName\n  jobTitle\n  calendarLink\n  newsletter\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function s(e){return e.filter((function(e){if(e.kind!=="FragmentDefinition")return true;var t=e.name.value;if(i[t]){return false}else{i[t]=true;return true}}))}e.exports=a}},[[122,"runtime","vendors","common"]]]);